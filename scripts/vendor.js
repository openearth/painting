if(function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||Q;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"===n||ft.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(wt.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return rt.call(e,t)>-1!==n&&1===t.nodeType})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return ft.each(t.match(Pt)||[],function(t,n){e[n]=!0}),e}function a(t){return t}function u(t){throw t}function l(t,e,n){var i;try{t&&ft.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&ft.isFunction(i=t.then)?i.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function h(){Q.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),ft.ready()}function c(){this.expando=ft.expando+c.uid++}function f(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(It,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Nt.test(n)?JSON.parse(n):n}catch(r){}Rt.set(t,e,n)}else n=void 0;return n}function p(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},u=a(),l=n&&n[3]||(ft.cssNumber[e]?"":"px"),h=(ft.cssNumber[e]||"px"!==l&&+u)&&Ft.exec(ft.css(t,e));if(h&&h[3]!==l){l=l||h[3],n=n||[],h=+u||1;do o=o||".5",h/=o,ft.style(t,e,h+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(h=+h||+u||0,r=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=h,i.end=r)),r}function d(t){var e,n=t.ownerDocument,i=t.nodeName,r=Ht[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=ft.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Ht[i]=r,r)}function m(t,e){for(var n,i,r=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Ot.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&jt(i)&&(r[o]=d(i))):"none"!==n&&(r[o]="none",Ot.set(i,"display",n)));for(o=0;s>o;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function g(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],n):n}function v(t,e){for(var n=0,i=t.length;i>n;n++)Ot.set(t[n],"globalEval",!e||Ot.get(e[n],"globalEval"))}function _(t,e,n,i,r){for(var o,s,a,u,l,h,c=e.createDocumentFragment(),f=[],p=0,d=t.length;d>p;p++)if(o=t[p],o||0===o)if("object"===ft.type(o))ft.merge(f,o.nodeType?[o]:o);else if(Vt.test(o)){for(s=s||c.appendChild(e.createElement("div")),a=(Wt.exec(o)||["",""])[1].toLowerCase(),u=Gt[a]||Gt._default,s.innerHTML=u[1]+ft.htmlPrefilter(o)+u[2],h=u[0];h--;)s=s.lastChild;ft.merge(f,s.childNodes),s=c.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(c.textContent="",p=0;o=f[p++];)if(i&&ft.inArray(o,i)>-1)r&&r.push(o);else if(l=ft.contains(o.ownerDocument,o),s=g(c.appendChild(o),"script"),l&&v(s),n)for(h=0;o=s[h++];)qt.test(o.type||"")&&n.push(o);return c}function y(){return!0}function b(){return!1}function x(){try{return Q.activeElement}catch(t){}}function w(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)w(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ft().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,r,i,n)})}function T(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(Ot.hasData(t)&&(o=Ot.access(t),s=Ot.set(e,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)ft.event.add(e,r,l[r][n])}Rt.hasData(t)&&(a=Rt.access(t),u=ft.extend({},a),Rt.set(e,u))}}function L(t,e){var n=e.nodeName.toLowerCase();"input"===n&&$t.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function P(t,e,i,r){e=nt.apply([],e);var o,s,a,u,l,h,c=0,f=t.length,p=f-1,d=e[0],m=ft.isFunction(d);if(m||f>1&&"string"==typeof d&&!ht.checkClone&&te.test(d))return t.each(function(n){var o=t.eq(n);m&&(e[0]=d.call(this,n,o.html())),P(o,e,i,r)});if(f&&(o=_(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=ft.map(g(o,"script"),E),u=a.length;f>c;c++)l=o,c!==p&&(l=ft.clone(l,!0,!0),u&&ft.merge(a,g(l,"script"))),i.call(t[c],l,c);if(u)for(h=a[a.length-1].ownerDocument,ft.map(a,C),c=0;u>c;c++)l=a[c],qt.test(l.type||"")&&!Ot.access(l,"globalEval")&&ft.contains(h,l)&&(l.src?ft._evalUrl&&ft._evalUrl(l.src):n(l.textContent.replace(ne,""),h))}return t}function M(t,e,n){for(var i,r=e?ft.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ft.cleanData(g(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&v(g(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e,n){var i,r,o,s,a=t.style;return n=n||oe(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),!ht.pixelMarginRight()&&re.test(s)&&ie.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){if(t in he)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=le.length;n--;)if(t=le[n]+e,t in he)return t}function O(t,e,n){var i=Ft.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function R(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ft.css(t,n+Ut[o],!0,r)),i?("content"===n&&(s-=ft.css(t,"padding"+Ut[o],!0,r)),"margin"!==n&&(s-=ft.css(t,"border"+Ut[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+Ut[o],!0,r),"padding"!==n&&(s+=ft.css(t,"border"+Ut[o]+"Width",!0,r)));return s}function N(t,e,n){var i,r=!0,o=oe(t),s="border-box"===ft.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),0>=i||null==i){if(i=A(t,e,o),(0>i||null==i)&&(i=t.style[e]),re.test(i))return i;r=s&&(ht.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+R(t,e,n||(s?"border":"content"),r,o)+"px"}function I(t,e,n,i,r){return new I.prototype.init(t,e,n,i,r)}function B(){fe&&(t.requestAnimationFrame(B),ft.fx.tick())}function F(){return t.setTimeout(function(){ce=void 0}),ce=ft.now()}function U(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Ut[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function j(t,e,n){for(var i,r=($.tweeners[e]||[]).concat($.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function z(t,e,n){var i,r,o,s,a,u,l,h,c="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&jt(t),v=Ot.get(t,"fxshow");n.queue||(s=ft._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(r=e[i],pe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||ft.style(t,i)}if(u=!ft.isEmptyObject(e),u||!ft.isEmptyObject(p)){c&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=v&&v.display,null==l&&(l=Ot.get(t,"display")),h=ft.css(t,"display"),"none"===h&&(l?h=l:(m([t],!0),l=t.style.display||l,h=ft.css(t,"display"),m([t]))),("inline"===h||"inline-block"===h&&null!=l)&&"none"===ft.css(t,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(h=d.display,l="none"===h?"":h)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(i in p)u||(v?"hidden"in v&&(g=v.hidden):v=Ot.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&m([t],!0),f.done(function(){g||m([t]),Ot.remove(t,"fxshow");for(i in p)ft.style(t,i,p[i])})),u=j(g?v[i]:0,i,f),i in v||(v[i]=u.start,g&&(u.end=u.start,u.start=0))}}function H(t,e){var n,i,r,o,s;for(n in t)if(i=ft.camelCase(n),r=e[i],o=t[n],ft.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ft.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function $(t,e,n){var i,r,o=0,s=$.prefilters.length,a=ft.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=ce||F(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:ce||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ft.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),h=l.props;for(H(h,l.opts.specialEasing);s>o;o++)if(i=$.prefilters[o].call(l,t,h,l.opts))return ft.isFunction(i.stop)&&(ft._queueHooks(l.elem,l.opts.queue).stop=ft.proxy(i.stop,i)),i;return ft.map(h,j,l),ft.isFunction(l.opts.start)&&l.opts.start.call(t,l),ft.fx.timer(ft.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(t){return t.getAttribute&&t.getAttribute("class")||""}function q(t,e,n,i){var r;if(ft.isArray(e))ft.each(e,function(e,r){n||Se.test(t)?i(t,r):q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ft.type(e))i(t,e);else for(r in e)q(t+"["+r+"]",e[r],n,i)}function G(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Pt)||[];if(ft.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function V(t,e,n,i){function r(a){var u;return o[a]=!0,ft.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=t===Fe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Z(t,e){var n,i,r=ft.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ft.extend(!0,t,i),t}function X(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function Y(t,e,n,i){var r,o,s,a,u,l={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=h.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function J(t){return ft.isWindow(t)?t:9===t.nodeType&&t.defaultView}var K=[],Q=t.document,tt=Object.getPrototypeOf,et=K.slice,nt=K.concat,it=K.push,rt=K.indexOf,ot={},st=ot.toString,at=ot.hasOwnProperty,ut=at.toString,lt=ut.call(Object),ht={},ct="3.1.0",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^-ms-/,mt=/-([a-z])/g,gt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ct,constructor:ft,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:it,sort:K.sort,splice:K.splice},ft.extend=ft.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(ft.isPlainObject(i)||(r=ft.isArray(i)))?(r?(r=!1,o=n&&ft.isArray(n)?n:[]):o=n&&ft.isPlainObject(n)?n:{},s[e]=ft.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},ft.extend({expando:"jQuery"+(ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ft.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return t&&"[object Object]"===st.call(t)?(e=tt(t))?(n=at.call(e,"constructor")&&e.constructor,"function"==typeof n&&ut.call(n)===lt):!0:!1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ot[st.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(dt,"ms-").replace(mt,gt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):it.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:rt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;r>s;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return nt.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ft.isFunction(t)?(i=et.call(arguments,2),r=function(){return t.apply(e||this,i.concat(et.call(arguments)))},r.guid=t.guid=t.guid||ft.guid++,r):void 0},now:Date.now,support:ht}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=K[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,i){var r,o,s,a,u,l,h,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:z)!==O&&D(e),e=e||O,N)){if(11!==d&&(u=vt.exec(t)))if(r=u[1]){if(9===d){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&U(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!G[t+" "]&&(!I||!I.test(t))){if(1!==d)f=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,wt):e.setAttribute("id",a=j),l=S(t),o=l.length;o--;)l[o]="#"+a+" "+p(l[o]);h=l.join(","),f=_t.test(t)&&c(e.parentNode)||e}if(h)try{return K.apply(n,f.querySelectorAll(h)),n}catch(m){}finally{a===j&&e.removeAttribute("id")}}}return P(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function r(t){var e=O.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)T.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Et(e))!==t)}}function h(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=$++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r)}:function(e,n,u){var l,h,c,f=[H,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=e[j]||(e[j]={}),h=c[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=h[o])&&l[0]===H&&l[1]===a)return f[2]=l[2];if(h[o]=f,f[2]=t(e,n,u))return!0}}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),l&&e.push(a));return s}function _(t,e,n,r,o,s){return r&&!r[j]&&(r=_(r)),o&&!o[j]&&(o=_(o,s)),i(function(i,s,a,u){var l,h,c,f=[],p=[],d=s.length,m=i||g(e||"*",a.nodeType?[a]:a,[]),_=!t||!i&&e?m:v(m,f,t,a,u),y=n?o||(i?t:d||r)?[]:s:_;if(n&&n(_,y,a,u),r)for(l=v(y,p),r(l,[],a,u),h=l.length;h--;)(c=l[h])&&(y[p[h]]=!(_[p[h]]=c));if(i){if(o||t){if(o){for(l=[],h=y.length;h--;)(c=y[h])&&l.push(_[h]=c);o(null,y=[],l,u)}for(h=y.length;h--;)(c=y[h])&&(l=o?tt(i,c):f[h])>-1&&(i[l]=!(s[l]=c))}}else y=v(y===s?y.splice(d,y.length):y),o?o(null,s,y,u):K.apply(s,y)})}function y(t){for(var e,n,i,r=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),l=d(function(t){return tt(e,t)>-1},s,!0),h=[function(t,n,i){var r=!o&&(i||n!==M)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>a;a++)if(n=T.relative[t[a].type])h=[d(m(h),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;r>i&&!T.relative[t[i].type];i++);return _(a>1&&m(h),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}h.push(n)}return m(h)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,l){var h,c,f,p=0,d="0",m=i&&[],g=[],_=M,y=i||o&&T.find.TAG("*",l),b=H+=null==_?1:Math.random()||.1,x=y.length;for(l&&(M=s===O||s||l);d!==x&&null!=(h=y[d]);d++){if(o&&h){for(c=0,s||h.ownerDocument===O||(D(h),a=!N);f=t[c++];)if(f(h,s||O,a)){u.push(h);break}l&&(H=b)}r&&((h=!f&&h)&&p--,i&&m.push(h))}if(p+=d,r&&d!==p){for(c=0;f=n[c++];)f(m,g,s,a);if(i){if(p>0)for(;d--;)m[d]||g[d]||(g[d]=Y.call(u));g=v(g)}K.apply(u,g),l&&!i&&g.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(H=b,M=_),m};return r?i(s):s}var x,w,T,E,C,S,L,P,M,A,k,D,O,R,N,I,B,F,U,j="sizzle"+1*new Date,z=t.document,H=0,$=0,W=n(),q=n(),G=n(),V=function(t,e){return t===e&&(k=!0),0},Z={}.hasOwnProperty,X=[],Y=X.pop,J=X.push,K=X.push,Q=X.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ct=new RegExp(ot),ft=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,wt=function(t,e){return e?"\x00"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Tt=function(){D()},Et=d(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{K.apply(X=Q.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType}catch(Ct){K={apply:X.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,R=O.documentElement,N=!C(O),z!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(O.getElementsByClassName),w.getById=r(function(t){return R.appendChild(t).id=j,!O.getElementsByName||!O.getElementsByName(j).length}),w.getById?(T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},T.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&N?e.getElementsByClassName(t):void 0},B=[],I=[],(w.qsa=gt.test(O.querySelectorAll))&&(r(function(t){R.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||I.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),R.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=gt.test(F=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(t){w.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),B.push("!=",ot)}),I=I.length&&new RegExp(I.join("|")),B=B.length&&new RegExp(B.join("|")),e=gt.test(R.compareDocumentPosition),U=e||gt.test(R.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return k=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===z&&U(z,t)?-1:e===O||e.ownerDocument===z&&U(z,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return k=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===z?-1:u[i]===z?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&D(t),n=n.replace(ht,"='$1']"),w.matchesSelector&&N&&!G[n+" "]&&(!B||!B.test(n))&&(!I||!I.test(n)))try{var i=F.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&D(t),U(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&D(t);var n=T.attrHandle[e.toLowerCase()],i=n&&Z.call(T.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:w.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(xt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(k=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(V),k){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},E=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=E(e);return n},T=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,h,c,f,p,d,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),_=!u&&!a,y=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?g.firstChild:g.lastChild],s&&_){for(f=g,c=f[j]||(f[j]={}),h=c[f.uniqueID]||(c[f.uniqueID]={}),l=h[t]||[],p=l[0]===H&&l[1],y=p&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(y=p=0)||d.pop();)if(1===f.nodeType&&++y&&f===e){h[t]=[H,p,y];break}}else if(_&&(f=e,c=f[j]||(f[j]={}),h=c[f.uniqueID]||(c[f.uniqueID]={}),l=h[t]||[],p=l[0]===H&&l[1],y=p),y===!1)for(;(f=++p&&f&&f[m]||(y=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(_&&(c=f[j]||(f[j]={}),h=c[f.uniqueID]||(c[f.uniqueID]={}),h[t]=[H,y]),f!==e)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(t,n){var r,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(r=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=L(t.replace(at,"$1"));return r[j]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(yt,bt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,bt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0;
},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[0>n?n+e:n]}),even:h(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:h(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,S=e.tokenize=function(t,n){var i,r,o,s,a,u,l,h=q[t+" "];if(h)return n?0:h.slice(0);for(a=t,u=[],l=T.preFilter;a;){(!i||(r=ut.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in T.filter)!(r=pt[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,u).slice(0)},L=e.compile=function(t,e){var n,i=[],r=[],o=G[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[j]?i.push(o):r.push(o);o=G(t,b(r,i)),o.selector=t}return o},P=e.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,h=!i&&S(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&N&&T.relative[o[1].type]){if(e=(T.find.ID(s.matches[0].replace(yt,bt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!T.relative[a=s.type]);)if((u=T.find[a])&&(i=u(s.matches[0].replace(yt,bt),_t.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return K.apply(n,i),n;break}}return(l||L(t,h))(i,e,!N,n,!e||_t.test(t)&&c(e.parentNode)||e),n},w.sortStable=j.split("").sort(V).join("")===j,w.detectDuplicates=!!k,D(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ft.find=vt,ft.expr=vt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=vt.uniqueSort,ft.text=vt.getText,ft.isXMLDoc=vt.isXML,ft.contains=vt.contains,ft.escapeSelector=vt.escape;var _t=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(n))break;i.push(t)}return i},yt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=ft.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,wt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;i>e;e++)if(ft.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;i>e;e++)ft.find(t,r[e],n);return i>1?ft.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&bt.test(t)?ft(t):t||[],!1).length}});var Tt,Et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ct=ft.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Et.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),xt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Q.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==n.ready?n.ready(t):t(ft):ft.makeArray(t,this)};Ct.prototype=ft.fn,Tt=ft(Q);var St=/^(?:parents|prev(?:Until|All))/,Lt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e=ft(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ft.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&ft(t);if(!bt.test(t))for(;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?rt.call(ft(t),this[0]):rt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _t(t,"parentNode")},parentsUntil:function(t,e,n){return _t(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return _t(t,"nextSibling")},prevAll:function(t){return _t(t,"previousSibling")},nextUntil:function(t,e,n){return _t(t,"nextSibling",n)},prevUntil:function(t,e,n){return _t(t,"previousSibling",n)},siblings:function(t){return yt((t.parentNode||{}).firstChild,t)},children:function(t){return yt(t.firstChild)},contents:function(t){return t.contentDocument||ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,i){var r=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ft.filter(i,r)),this.length>1&&(Lt[t]||ft.uniqueSort(r),St.test(t)&&r.reverse()),this.pushStack(r)}});var Pt=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?s(t):ft.extend({},t);var e,n,i,r,o=[],a=[],u=-1,l=function(){for(r=t.once,i=e=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},h={add:function(){return o&&(n&&!e&&(u=o.length-1,a.push(n)),function i(e){ft.each(e,function(e,n){ft.isFunction(n)?t.unique&&h.has(n)||o.push(n):n&&n.length&&"string"!==ft.type(n)&&i(n)})}(arguments),n&&!e&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,o,n))>-1;)o.splice(n,1),u>=n&&u--}),this},has:function(t){return t?ft.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},ft.extend({Deferred:function(e){var n=[["notify","progress",ft.Callbacks("memory"),ft.Callbacks("memory"),2],["resolve","done",ft.Callbacks("once memory"),ft.Callbacks("once memory"),0,"resolved"],["reject","fail",ft.Callbacks("once memory"),ft.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return ft.Deferred(function(e){ft.each(n,function(n,i){var r=ft.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var l=this,h=arguments,c=function(){var t,c;if(!(s>e)){if(t=i.apply(l,h),t===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,ft.isFunction(c)?r?c.call(t,o(s,n,a,r),o(s,n,u,r)):(s++,c.call(t,o(s,n,a,r),o(s,n,u,r),o(s,n,a,n.notifyWith))):(i!==a&&(l=void 0,h=[t]),(r||n.resolveWith)(l,h))}},f=r?c:function(){try{c()}catch(t){ft.Deferred.exceptionHook&&ft.Deferred.exceptionHook(t,f.stackTrace),e+1>=s&&(i!==u&&(l=void 0,h=[t]),n.rejectWith(l,h))}};e?f():(ft.Deferred.getStackHook&&(f.stackTrace=ft.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return ft.Deferred(function(t){n[0][3].add(o(0,t,ft.isFunction(r)?r:a,t.notifyWith)),n[1][3].add(o(0,t,ft.isFunction(e)?e:a)),n[2][3].add(o(0,t,ft.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?ft.extend(t,r):r}},o={};return ft.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=et.call(arguments),o=ft.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?et.call(arguments):n,--e||o.resolveWith(i,r)}};if(1>=e&&(l(t,o.done(s(n)).resolve,o.reject),"pending"===o.state()||ft.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)l(r[n],s(n),o.reject);return o.promise()}});var Mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ft.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Mt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ft.readyException=function(e){t.setTimeout(function(){throw e})};var At=ft.Deferred();ft.fn.ready=function(t){return At.then(t)["catch"](function(t){ft.readyException(t)}),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||At.resolveWith(Q,[ft]))}}),ft.ready.then=At.then,"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(ft.ready):(Q.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var kt=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===ft.type(n)){r=!0;for(a in n)kt(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ft.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(ft(t),n)})),e))for(;u>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Dt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};c.uid=1,c.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Dt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[ft.camelCase(e)]=n;else for(i in e)r[ft.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ft.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){ft.isArray(e)?e=e.map(ft.camelCase):(e=ft.camelCase(e),e=e in i?[e]:e.match(Pt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||ft.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ft.isEmptyObject(e)}};var Ot=new c,Rt=new c,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/[A-Z]/g;ft.extend({hasData:function(t){return Rt.hasData(t)||Ot.hasData(t)},data:function(t,e,n){return Rt.access(t,e,n)},removeData:function(t,e){Rt.remove(t,e)},_data:function(t,e,n){return Ot.access(t,e,n)},_removeData:function(t,e){Ot.remove(t,e)}}),ft.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Rt.get(o),1===o.nodeType&&!Ot.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ft.camelCase(i.slice(5)),f(o,i,r[i])));Ot.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Rt.set(this,t)}):kt(this,function(e){var n;if(o&&void 0===e){if(n=Rt.get(o,t),void 0!==n)return n;if(n=f(o,t),void 0!==n)return n}else this.each(function(){Rt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Rt.remove(this,t)})}}),ft.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Ot.get(t,e),n&&(!i||ft.isArray(n)?i=Ot.access(t,e,ft.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,r=n.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ot.get(t,n)||Ot.access(t,n,{empty:ft.Callbacks("once memory").add(function(){Ot.remove(t,[e+"queue",n])})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):void 0===e?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=Ot.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ft.contains(t.ownerDocument,t)&&"none"===ft.css(t,"display")},zt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Ht={};ft.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ft(this).show():ft(this).hide()})}});var $t=/^(?:checkbox|radio)$/i,Wt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qt=/^$|\/(?:java|ecma)script/i,Gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Vt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ht.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Zt=Q.documentElement,Xt=/^key/,Yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Jt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,h,c,f,p,d,m,g=Ot.get(t);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&ft.find.matchesSelector(Zt,r),n.guid||(n.guid=ft.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(e){return"undefined"!=typeof ft&&ft.event.triggered!==e.type?ft.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Pt)||[""],l=e.length;l--;)a=Jt.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p&&(c=ft.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=ft.event.special[p]||{},h=ft.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,c.setup&&c.setup.call(t,i,d,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),ft.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,h,c,f,p,d,m,g=Ot.hasData(t)&&Ot.get(t);if(g&&(u=g.events)){for(e=(e||"").match(Pt)||[""],l=e.length;l--;)if(a=Jt.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p){for(c=ft.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,f=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)h=f[o],!r&&m!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(f.splice(o,1),h.selector&&f.delegateCount--,c.remove&&c.remove.call(t,h));s&&!f.length&&(c.teardown&&c.teardown.call(t,d,g.handle)!==!1||ft.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ft.event.remove(t,p+e[l],n,i,!0);ft.isEmptyObject(u)&&Ot.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=ft.event.fix(t),u=new Array(arguments.length),l=(Ot.get(this,"events")||{})[a.type]||[],h=ft.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,a)!==!1){for(s=ft.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)(!a.rnamespace||a.rnamespace.test(o.namespace))&&(a.handleObj=o,a.data=o.data,i=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ft(r,this).index(u)>-1:ft.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(ft.Event.prototype,t,{enumerable:!0,configurable:!0,get:ft.isFunction(e)?function(){return this.originalEvent?e(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ft.expando]?t:new ft.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==x()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===x()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ft.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ft.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Yt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ft.event.addProp),ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ft.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ft.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=b),this.each(function(){ft.event.remove(this,t,n,e)})}});var Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ft.extend({htmlPrefilter:function(t){return t.replace(Kt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=ft.contains(t.ownerDocument,t);if(!(ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(s=g(a),o=g(t),i=0,r=o.length;r>i;i++)L(o[i],s[i]);if(e)if(n)for(o=o||g(t),s=s||g(a),i=0,r=o.length;r>i;i++)S(o[i],s[i]);else S(t,a);return s=g(a,"script"),s.length>0&&v(s,!u&&g(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ft.event.special,o=0;void 0!==(n=t[o]);o++)if(Dt(n)){if(e=n[Ot.expando]){if(e.events)for(i in e.events)r[i]?ft.event.remove(n,i):ft.removeEvent(n,i,e.handle);n[Ot.expando]=void 0}n[Rt.expando]&&(n[Rt.expando]=void 0)}}}),ft.fn.extend({detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return kt(this,function(t){return void 0===t?ft.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.appendChild(t)}})},prepend:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ft.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Qt.test(t)&&!Gt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ft.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return P(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(g(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,i=[],r=ft(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ft(r[s])[e](n),it.apply(i,n.get());return this.pushStack(i)}});var ie=/^margin/,re=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),oe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Zt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Zt.removeChild(s),a=null}}var n,i,r,o,s=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ft.extend(ht,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var se=/^(none|table(?!-c[ea]).+)/,ae={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},le=["Webkit","Moz","ms"],he=Q.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=A(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),u=t.style;return e=ft.cssProps[a]||(ft.cssProps[a]=D(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Ft.exec(n))&&r[1]&&(n=p(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ft.cssNumber[a]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=D(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=A(t,e,i)),"normal"===r&&e in ue&&(r=ue[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,i){return n?!se.test(ft.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?N(t,e,i):zt(t,ae,function(){return N(t,e,i)}):void 0},set:function(t,n,i){var r,o=i&&oe(t),s=i&&R(t,e,i,"border-box"===ft.css(t,"boxSizing",!1,o),o);return s&&(r=Ft.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ft.css(t,e)),O(t,n,s)}}}),ft.cssHooks.marginLeft=k(ht.reliableMarginLeft,function(t,e){return e?(parseFloat(A(t,"marginLeft"))||t.getBoundingClientRect().left-zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Ut[i]+e]=o[i]||o[i-2]||o[0];return r}},ie.test(t)||(ft.cssHooks[t+e].set=O)}),ft.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var i,r,o={},s=0;if(ft.isArray(e)){for(i=oe(t),r=e.length;r>s;s++)o[e[s]]=ft.css(t,e[s],!1,i);return o}return void 0!==n?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)}}),ft.Tween=I,I.prototype={constructor:I,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ft.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=I.prototype.init,ft.fx.step={};var ce,fe,pe=/^(?:toggle|show|hide)$/,de=/queueHooks$/;ft.Animation=ft.extend($,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return p(n.elem,t,Ft.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Pt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(e)},prefilters:[z],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return ft.fx.off||Q.hidden?i.duration=0:i.duration="number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ft.isEmptyObject(t),o=ft.speed(e,n,i),s=function(){var e=$(this,ft.extend({},t),o);(r||Ot.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ft.timers,s=Ot.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&de.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Ot.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ft.timers,s=i?i.length:0;for(n.finish=!0,
ft.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,i,r)}}),ft.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ft.timers=[],ft.fx.tick=function(){var t,e=0,n=ft.timers;for(ce=ft.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ft.fx.stop(),ce=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){fe||(fe=t.requestAnimationFrame?t.requestAnimationFrame(B):t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(fe):t.clearInterval(fe),fe=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx?ft.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",ht.checkOn=""!==t.value,ht.optSelected=n.selected,t=Q.createElement("input"),t.value="t",t.type="radio",ht.radioValue="t"===t.value}();var me,ge=ft.expr.attrHandle;ft.fn.extend({attr:function(t,e){return kt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===o&&ft.isXMLDoc(t)||(r=ft.attrHooks[e.toLowerCase()]||(ft.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void ft.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ft.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Pt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return e===!1?ft.removeAttr(t,n):t.setAttribute(n,n),n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ge[e]||ft.find.attr;ge[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=ge[s],ge[s]=r,r=null!=n(t,e,i)?s:null,ge[s]=o),r}});var ve=/^(?:input|select|textarea|button)$/i,_e=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return kt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ft.propFix[t]||t]})}}),ft.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this});var ye=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Pt)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(ye," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ft.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Pt)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(ye," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ft.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ft(this),o=t.match(Pt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=W(this),e&&Ot.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ot.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(ye," ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g,xe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ft.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ft(this).val()):t,null==r?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(be,""):null==n?"":n)}}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(xe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&!n.disabled&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ft.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ft.inArray(ft.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){return ft.isArray(e)?t.checked=ft.inArray(ft(t).val(),e)>-1:void 0}},ht.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we=/^(?:focusinfocus|focusoutblur)$/;ft.extend(ft.event,{trigger:function(e,n,i,r){var o,s,a,u,l,h,c,f=[i||Q],p=at.call(e,"type")?e.type:e,d=at.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!we.test(p+ft.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[ft.expando]?e:new ft.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ft.makeArray(n,[e]),c=ft.event.special[p]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!ft.isWindow(i)){for(u=c.delegateType||p,we.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||Q)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:c.bindType||p,h=(Ot.get(s,"events")||{})[e.type]&&Ot.get(s,"handle"),h&&h.apply(s,n),h=l&&s[l],h&&h.apply&&Dt(s)&&(e.result=h.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||c._default&&c._default.apply(f.pop(),n)!==!1||!Dt(i)||l&&ft.isFunction(i[p])&&!ft.isWindow(i)&&(a=i[l],a&&(i[l]=null),ft.event.triggered=p,i[p](),ft.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e)}}),ft.fn.extend({trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ft.event.trigger(t,e,n,!0):void 0}}),ft.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ht.focusin="onfocusin"in t,ht.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Ot.access(i,e);r||i.addEventListener(t,n,!0),Ot.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ot.access(i,e)-1;r?Ot.access(i,e,r):(i.removeEventListener(t,n,!0),Ot.remove(i,e))}}});var Te=t.location,Ee=ft.now(),Ce=/\?/;ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&ft.error("Invalid XML: "+e),n};var Se=/\[\]$/,Le=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],r=function(t,e){var n=ft.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){r(this.name,this.value)});else for(n in t)q(n,t[n],e,r);return i.join("&")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&Me.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:n.replace(Le,"\r\n")}}).get()}});var Ae=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ne=/^(?:GET|HEAD)$/,Ie=/^\/\//,Be={},Fe={},Ue="*/".concat("*"),je=Q.createElement("a");je.href=Te.href,ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:Re.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Z(Z(t,ft.ajaxSettings),e):Z(ft.ajaxSettings,t)},ajaxPrefilter:G(Be),ajaxTransport:G(Fe),ajax:function(e,n){function i(e,n,i,a){var l,f,p,b,x,w=n;h||(h=!0,u&&t.clearTimeout(u),r=void 0,s=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(b=X(d,T,i)),b=Y(d,b,T,l),l?(d.ifModified&&(x=T.getResponseHeader("Last-Modified"),x&&(ft.lastModified[o]=x),x=T.getResponseHeader("etag"),x&&(ft.etag[o]=x)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=b.state,f=b.data,p=b.error,l=!p)):(p=w,(e||!w)&&(w="error",0>e&&(e=0))),T.status=e,T.statusText=(n||w)+"",l?v.resolveWith(m,[f,w,T]):v.rejectWith(m,[T,w,p]),T.statusCode(y),y=void 0,c&&g.trigger(l?"ajaxSuccess":"ajaxError",[T,d,l?f:p]),_.fireWith(m,[T,w]),c&&(g.trigger("ajaxComplete",[T,d]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,u,l,h,c,f,p,d=ft.ajaxSetup({},n),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?ft(m):ft.event,v=ft.Deferred(),_=ft.Callbacks("once memory"),y=d.statusCode||{},b={},x={},w="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Oe.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(t,e){return null==h&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==h&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)T.always(t[T.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(v.promise(T),d.url=((e||d.url||Te.href)+"").replace(Ie,Te.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Pt)||[""],null==d.crossDomain){l=Q.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=je.protocol+"//"+je.host!=l.protocol+"//"+l.host}catch(E){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ft.param(d.data,d.traditional)),V(Be,d,n,T),h)return T;c=ft.event&&d.global,c&&0===ft.active++&&ft.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ne.test(d.type),o=d.url.replace(ke,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ae,"+")):(p=d.url.slice(o.length),d.data&&(o+=(Ce.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(De,""),p=(Ce.test(o)?"&":"?")+"_="+Ee++ +p),d.url=o+p),d.ifModified&&(ft.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&T.setRequestHeader("If-None-Match",ft.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ue+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)T.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(m,T,d)===!1||h))return T.abort();if(w="abort",_.add(d.complete),T.done(d.success),T.fail(d.error),r=V(Fe,d,n,T)){if(T.readyState=1,c&&g.trigger("ajaxSend",[T,d]),h)return T;d.async&&d.timeout>0&&(u=t.setTimeout(function(){T.abort("timeout")},d.timeout));try{h=!1,r.send(b,i)}catch(E){if(h)throw E;i(-1,E)}}else i(-1,"No Transport");return T},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,i,r){return ft.isFunction(n)&&(r=r||i,i=n,n=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:r,data:n,success:i},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){var e;return this[0]&&(ft.isFunction(t)&&(t=t.call(this[0])),e=ft(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ft(this).replaceWith(this.childNodes)}),this}}),ft.expr.pseudos.hidden=function(t){return!ft.expr.pseudos.visible(t)},ft.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ft.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var ze={0:200,1223:204},He=ft.ajaxSettings.xhr();ht.cors=!!He&&"withCredentials"in He,ht.ajax=He=!!He,ft.ajaxTransport(function(e){var n,i;return ht.cors||He&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),ft.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ft("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var $e=[],We=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||ft.expando+"_"+Ee++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(We.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(We,"$1"+r):e.jsonp!==!1&&(e.url+=(Ce.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ft.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ft(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,$e.push(r)),s&&ft.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ht.createHTMLDocument=function(){var t=Q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ft.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(ht.createHTMLDocument?(e=Q.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=Q.location.href,e.head.appendChild(i)):e=Q),r=xt.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=_([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],r.childNodes))},ft.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ft.trim(t.slice(a)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.pseudos.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l,h=ft.css(t,"position"),c=ft(t),f={};"static"===h&&(t.style.position="relative"),a=c.offset(),o=ft.css(t,"top"),u=ft.css(t,"left"),l=("absolute"===h||"fixed"===h)&&(o+u).indexOf("auto")>-1,l?(i=c.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):c.css(f)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=J(r),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ft.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+ft.css(t[0],"borderTopWidth",!0),left:i.left+ft.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-ft.css(n,"marginTop",!0),left:e.left-i.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||Zt})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ft.fn[t]=function(i){return kt(this,function(t,i,r){var o=J(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=k(ht.pixelPosition,function(t,n){return n?(n=A(t,e),re.test(n)?ft(t).position()[e]+"px":n):void 0})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ft.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return kt(this,function(e,n,r){var o;return ft.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ft.css(e,n,a):ft.style(e,n,r,a)},e,s?r:void 0,s)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var qe=t.jQuery,Ge=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=Ge),e&&t.jQuery===ft&&(t.jQuery=qe),ft},e||(t.jQuery=t.$=ft),ft}),function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function c(t,e){e=e||{};var n=e.body;if(c.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",(e.headers||!this.headers)&&(this.headers=new r(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function p(t){var e=new r,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();e.append(i,r)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];r||(r=[],this.map[t]=r),r.push(i)},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=[n(i)]},r.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(i){t.call(e,i,n,this)},this)},this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},l.call(c.prototype),l.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];d.redirect=function(t,e){if(-1===v.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=c,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,i){function r(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=c.prototype.isPrototypeOf(t)&&!e?t:new c(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:p(s),url:r()},e="response"in s?s.response:s.responseText;n(new d(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&m.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function i(t){z=t}function r(t){q=t}function o(){return function(){process.nextTick(h)}}function s(){return function(){j(h)}}function a(){var t=0,e=new Z(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=h,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(h,1)}}function h(){for(var t=0;W>t;t+=2){var e=J[t],n=J[t+1];e(n),J[t]=void 0,J[t+1]=void 0}W=0}function c(){try{var t=require,e=t("vertx");return j=e.runOnLoop||e.runOnContext,s()}catch(n){return l()}}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return et.error=e,et}}function g(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function v(t,e,n){q(function(t){var i=!1,r=g(n,e,function(n){i||(i=!0,e!==n?b(t,n):w(t,n))},function(e){i||(i=!0,T(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,T(t,r))},t)}function _(t,e){e._state===Q?w(t,e._result):e._state===tt?T(t,e._result):E(e,void 0,function(e){b(t,e)},function(e){T(t,e)})}function y(t,n){if(n.constructor===t.constructor)_(t,n);else{var i=m(n);i===et?T(t,et.error):void 0===i?w(t,n):e(i)?v(t,n,i):w(t,n)}}function b(e,n){e===n?T(e,p()):t(n)?y(e,n):w(e,n)}function x(t){t._onerror&&t._onerror(t._result),C(t)}function w(t,e){t._state===K&&(t._result=e,t._state=Q,0!==t._subscribers.length&&q(C,t))}function T(t,e){t._state===K&&(t._state=tt,t._result=e,q(x,t))}function E(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+Q]=n,r[o+tt]=i,0===o&&t._state&&q(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?P(n,i,r,o):r(o);t._subscribers.length=0}}function S(){this.error=null}function L(t,e){try{return t(e)}catch(n){return nt.error=n,nt}}function P(t,n,i,r){var o,s,a,u,l=e(i);if(l){if(o=L(i,r),o===nt?(u=!0,s=o.error,o=null):a=!0,n===o)return void T(n,d())}else o=r,a=!0;n._state!==K||(l&&a?b(n,o):u?T(n,s):t===Q?w(n,o):t===tt&&T(n,o))}function M(t,e){try{e(function(e){b(t,e)},function(e){T(t,e)})}catch(n){T(t,n)}}function A(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(f),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?w(n.promise,n._result):(n.length=n.length||0,
n._enumerate(),0===n._remaining&&w(n.promise,n._result))):T(n.promise,n._validationError())}function k(t){return new it(this,t).promise}function D(t){function e(t){b(r,t)}function n(t){T(r,t)}var i=this,r=new i(f);if(!$(t))return T(r,new TypeError("You must pass an array to race.")),r;for(var o=t.length,s=0;r._state===K&&o>s;s++)E(i.resolve(t[s]),void 0,e,n);return r}function O(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(f);return b(n,t),n}function R(t){var e=this,n=new e(f);return T(n,t),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(t){this._id=ut++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==t&&(e(t)||N(),this instanceof B||I(),M(this,t))}function F(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=lt)}var U;U=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var j,z,H,$=U,W=0,q=({}.toString,function(t,e){J[W]=t,J[W+1]=e,W+=2,2===W&&(z?z(h):H())}),G="undefined"!=typeof window?window:void 0,V=G||{},Z=V.MutationObserver||V.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3);H=X?o():Z?a():Y?u():void 0===G&&"function"==typeof require?c():l();var K=void 0,Q=1,tt=2,et=new S,nt=new S;A.prototype._validateInput=function(t){return $(t)},A.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},A.prototype._init=function(){this._result=new Array(this.length)};var it=A;A.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,i=t._input,r=0;n._state===K&&e>r;r++)t._eachEntry(i[r],r)},A.prototype._eachEntry=function(t,e){var i=this,r=i._instanceConstructor;n(t)?t.constructor===r&&t._state!==K?(t._onerror=null,i._settledAt(t._state,e,t._result)):i._willSettleAt(r.resolve(t),e):(i._remaining--,i._result[e]=t)},A.prototype._settledAt=function(t,e,n){var i=this,r=i.promise;r._state===K&&(i._remaining--,t===tt?T(r,n):i._result[e]=n),0===i._remaining&&w(r,i._result)},A.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){n._settledAt(Q,e,t)},function(t){n._settledAt(tt,e,t)})};var rt=k,ot=D,st=O,at=R,ut=0,lt=B;B.all=rt,B.race=ot,B.resolve=st,B.reject=at,B._setScheduler=i,B._setAsap=r,B._asap=q,B.prototype={constructor:B,then:function(t,e){var n=this,i=n._state;if(i===Q&&!t||i===tt&&!e)return this;var r=new this.constructor(f),o=n._result;if(i){var s=arguments[i-1];q(function(){P(i,r,s,o)})}else E(n,r,t,e);return r},"catch":function(t){return this.then(null,t)}};var ht=F,ct={Promise:lt,polyfill:ht};"function"==typeof define&&define.amd?define(function(){return ct}):"undefined"!=typeof module&&module.exports?module.exports=ct:"undefined"!=typeof this&&(this.ES6Promise=ct),ht()}.call(this),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=t?t.length:0;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function r(t,e){for(var n=-1,i=t?t.length:0;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(!e(t[n],n,t))return!1;return!0}function a(t,e){for(var n=-1,i=t?t.length:0,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function u(t,e){var n=t?t.length:0;return!!n&&v(t,e,0)>-1}function l(t,e,n){for(var i=-1,r=t?t.length:0;++i<r;)if(n(e,t[i]))return!0;return!1}function h(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function c(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function f(t,e,n,i){var r=-1,o=t?t.length:0;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=t?t.length:0;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function d(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function m(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function g(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function v(t,e,n){if(e!==e)return g(t,y,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function _(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function y(t){return t!==t}function b(t,e){var n=t?t.length:0;return n?C(t,e)/n:bt}function x(t){return function(e){return null==e?G:e[t]}}function w(t){return function(e){return null==t?G:t[e]}}function T(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function E(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==G&&(n=n===G?o:n+o)}return n}function S(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function L(t,e){return h(e,function(e){return[e,t[e]]})}function P(t){return function(e){return t(e)}}function M(t,e){return h(e,function(e){return t[e]})}function A(t,e){return t.has(e)}function k(t,e){for(var n=-1,i=t.length;++n<i&&v(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length;n--&&v(e,t[n],0)>-1;);return n}function O(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&i++;return i}function R(t){return"\\"+kn[t]}function N(t,e){return null==t?G:t[e]}function I(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function B(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function F(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function U(t,e){return function(n){return t(e(n))}}function j(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];(s===e||s===J)&&(t[n]=J,o[r++]=n)}return o}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function $(t){if(!t||!wn.test(t))return t.length;for(var e=bn.lastIndex=0;bn.test(t);)e++;return e}function W(t){return t.match(bn)}function q(w){function Re(t){if(Ba(t)&&!jc(t)&&!(t instanceof Be)){if(t instanceof Ie)return t;if(ql.call(t,"__wrapped__"))return Oo(t)}return new Ie(t)}function Ne(){}function Ie(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=G}function Be(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xt,this.__views__=[]}function Fe(){var t=new Be(this.__wrapped__);return t.__actions__=Er(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Er(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Er(this.__views__),t}function Ue(){if(this.__filtered__){var t=new Be(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function je(){var t=this.__wrapped__.value(),e=this.__dir__,n=jc(t),i=0>e,r=n?t.length:0,o=ao(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,h=this.__iteratees__,c=h.length,f=0,p=vh(u,this.__takeCount__);if(!n||Z>r||r==u&&p==u)return or(t,this.__actions__);var d=[];t:for(;u--&&p>f;){l+=e;for(var m=-1,g=t[l];++m<c;){var v=h[m],_=v.iteratee,y=v.type,b=_(g);if(y==mt)g=b;else if(!b){if(y==dt)continue t;break t}}d[f++]=g}return d}function ze(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function He(){this.__data__=Ph?Ph(null):{}}function $e(t){return this.has(t)&&delete this.__data__[t]}function We(t){var e=this.__data__;if(Ph){var n=e[t];return n===Y?G:n}return ql.call(e,t)?e[t]:G}function qe(t){var e=this.__data__;return Ph?e[t]!==G:ql.call(e,t)}function Ge(t,e){var n=this.__data__;return n[t]=Ph&&e===G?Y:e,this}function Ve(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ze(){this.__data__=[]}function Xe(t){var e=this.__data__,n=Pn(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():rh.call(e,n,1),!0}function Ye(t){var e=this.__data__,n=Pn(e,t);return 0>n?G:e[n][1]}function Je(t){return Pn(this.__data__,t)>-1}function Ke(t,e){var n=this.__data__,i=Pn(n,t);return 0>i?n.push([t,e]):n[i][1]=e,this}function Qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function tn(){this.__data__={hash:new ze,map:new(Eh||Ve),string:new ze}}function en(t){return ro(this,t)["delete"](t)}function nn(t){return ro(this,t).get(t)}function rn(t){return ro(this,t).has(t)}function on(t,e){return ro(this,t).set(t,e),this}function sn(t){var e=-1,n=t?t.length:0;for(this.__data__=new Qe;++e<n;)this.add(t[e])}function an(t){return this.__data__.set(t,Y),this}function un(t){return this.__data__.has(t)}function ln(t){this.__data__=new Ve(t)}function hn(){this.__data__=new Ve}function cn(t){return this.__data__["delete"](t)}function fn(t){return this.__data__.get(t)}function pn(t){return this.__data__.has(t)}function dn(t,e){var n=this.__data__;if(n instanceof Ve){var i=n.__data__;if(!Eh||i.length<Z-1)return i.push([t,e]),this;n=this.__data__=new Qe(i)}return n.set(t,e),this}function mn(t,e){var n=jc(t)||Va(t)||Ta(t)?S(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!ql.call(t,o)||r&&("length"==o||go(o,i))||n.push(o);return n}function gn(t,e,n,i){return t===G||wa(t,jl[n])&&!ql.call(i,n)?e:t}function vn(t,e,n){(n!==G&&!wa(t[e],n)||"number"==typeof e&&n===G&&!(e in t))&&(t[e]=n)}function bn(t,e,n){var i=t[e];ql.call(t,e)&&wa(i,n)&&(n!==G||e in t)||(t[e]=n)}function Pn(t,e){for(var n=t.length;n--;)if(wa(t[n][0],e))return n;return-1}function Mn(t,e,n,i){return zh(t,function(t,r,o){e(i,t,n(t),o)}),i}function An(t,e){return t&&Cr(e,_u(e),t)}function kn(t,e){for(var n=-1,i=null==t,r=e.length,o=Rl(r);++n<r;)o[n]=i?G:mu(t,e[n]);return o}function Rn(t,e,n){return t===t&&(n!==G&&(t=n>=t?t:n),e!==G&&(t=t>=e?t:e)),t}function Nn(t,e,n,i,o,s,a){var u;if(i&&(u=s?i(t,o,s,a):i(t)),u!==G)return u;if(!Ia(t))return t;var l=jc(t);if(l){if(u=ho(t),!e)return Er(t,u)}else{var h=Jh(t),c=h==At||h==kt;if(Hc(t))return fr(t,e);if(h==Rt||h==Ct||c&&!s){if(I(t))return s?t:{};if(u=co(c?{}:t),!e)return Sr(t,An(u,t))}else{if(!Ln[h])return s?t:{};u=fo(t,h,Nn,e)}}a||(a=new ln);var f=a.get(t);if(f)return f;if(a.set(t,u),!l)var p=n?Qr(t):_u(t);return r(p||t,function(r,o){p&&(o=r,r=t[o]),bn(u,o,Nn(r,e,n,i,o,t,a))}),u}function Bn(t){var e=_u(t);return function(n){return Fn(n,t,e)}}function Fn(t,e,n){var i=n.length;if(null==t)return!i;for(t=Object(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===G&&!(r in t)||!o(s))return!1}return!0}function jn(t){return Ia(t)?nh(t):{}}function zn(t,e,n){if("function"!=typeof t)throw new Fl(X);return tc(function(){t.apply(G,n)},e)}function Kn(t,e,n,i){var r=-1,o=u,s=!0,a=t.length,c=[],f=e.length;if(!a)return c;n&&(e=h(e,P(n))),i?(o=l,s=!1):e.length>=Z&&(o=A,s=!1,e=new sn(e));t:for(;++r<a;){var p=t[r],d=n?n(p):p;if(p=i||0!==p?p:0,s&&d===d){for(var m=f;m--;)if(e[m]===d)continue t;c.push(p)}else o(e,d,i)||c.push(p)}return c}function Qn(t,e){var n=!0;return zh(t,function(t,i,r){return n=!!e(t,i,r)}),n}function ti(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===G?s===s&&!Za(s):n(s,a)))var a=s,u=o}return u}function ei(t,e,n,i){var r=t.length;for(n=tu(n),0>n&&(n=-n>r?0:r+n),i=i===G||i>r?r:tu(i),0>i&&(i+=r),i=n>i?0:eu(i);i>n;)t[n++]=e;return t}function ni(t,e){var n=[];return zh(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ii(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=mo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?ii(a,e-1,n,i,r):c(r,a):i||(r[r.length]=a)}return r}function ri(t,e){return t&&$h(t,e,_u)}function oi(t,e){return t&&Wh(t,e,_u)}function si(t,e){return a(e,function(e){return Oa(t[e])})}function ai(t,e){e=_o(e,t)?[e]:hr(e);for(var n=0,i=e.length;null!=t&&i>n;)t=t[Ao(e[n++])];return n&&n==i?t:G}function ui(t,e,n){var i=e(t);return jc(t)?i:c(i,n(t))}function li(t){return Zl.call(t)}function hi(t,e){return t>e}function ci(t,e){return null!=t&&ql.call(t,e)}function fi(t,e){return null!=t&&e in Object(t)}function pi(t,e,n){return t>=vh(e,n)&&t<gh(e,n)}function di(t,e,n){for(var i=n?l:u,r=t[0].length,o=t.length,s=o,a=Rl(o),c=1/0,f=[];s--;){var p=t[s];s&&e&&(p=h(p,P(e))),c=vh(p.length,c),a[s]=!n&&(e||r>=120&&p.length>=120)?new sn(s&&p):G}p=t[0];var d=-1,m=a[0];t:for(;++d<r&&f.length<c;){var g=p[d],v=e?e(g):g;if(g=n||0!==g?g:0,!(m?A(m,v):i(f,v,n))){for(s=o;--s;){var _=a[s];if(!(_?A(_,v):i(t[s],v,n)))continue t}m&&m.push(v),f.push(g)}}return f}function mi(t,e,n,i){return ri(t,function(t,r,o){e(i,n(t),r,o)}),i}function gi(t,e,i){_o(e,t)||(e=hr(e),t=Po(t,e),e=Ko(e));var r=null==t?t:t[Ao(e)];return null==r?G:n(r,t,i)}function vi(t){return Ba(t)&&Zl.call(t)==Ht}function _i(t){return Ba(t)&&Zl.call(t)==Pt}function yi(t,e,n,i,r){return t===e?!0:null==t||null==e||!Ia(t)&&!Ba(e)?t!==t&&e!==e:bi(t,e,yi,n,i,r)}function bi(t,e,n,i,r,o){var s=jc(t),a=jc(e),u=St,l=St;s||(u=Jh(t),u=u==Ct?Rt:u),a||(l=Jh(e),l=l==Ct?Rt:l);var h=u==Rt&&!I(t),c=l==Rt&&!I(e),f=u==l;if(f&&!h)return o||(o=new ln),s||Vc(t)?Yr(t,e,n,i,r,o):Jr(t,e,u,n,i,r,o);if(!(r&lt)){var p=h&&ql.call(t,"__wrapped__"),d=c&&ql.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,g=d?e.value():e;return o||(o=new ln),n(m,g,i,r,o)}}return f?(o||(o=new ln),Kr(t,e,n,i,r,o)):!1}function xi(t){return Ba(t)&&Jh(t)==Dt}function wi(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var u=a[0],l=t[u],h=a[1];if(s&&a[2]){if(l===G&&!(u in t))return!1}else{var c=new ln;if(i)var f=i(l,h,u,t,e,c);if(!(f===G?yi(h,l,i,ut|lt,c):f))return!1}}return!0}function Ti(t){if(!Ia(t)||xo(t))return!1;var e=Oa(t)||I(t)?Yl:Pe;return e.test(ko(t))}function Ei(t){return Ia(t)&&Zl.call(t)==It}function Ci(t){return Ba(t)&&Jh(t)==Bt}function Si(t){return Ba(t)&&Na(t.length)&&!!Sn[Zl.call(t)]}function Li(t){return"function"==typeof t?t:null==t?ul:"object"==typeof t?jc(t)?Oi(t[0],t[1]):Di(t):gl(t)}function Pi(t){if(!wo(t))return mh(t);var e=[];for(var n in Object(t))ql.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Mi(t){if(!Ia(t))return Lo(t);var e=wo(t),n=[];for(var i in t)("constructor"!=i||!e&&ql.call(t,i))&&n.push(i);return n}function Ai(t,e){return e>t}function ki(t,e){var n=-1,i=Ea(t)?Rl(t.length):[];return zh(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Di(t){var e=oo(t);return 1==e.length&&e[0][2]?Eo(e[0][0],e[0][1]):function(n){return n===t||wi(n,t,e)}}function Oi(t,e){return _o(t)&&To(e)?Eo(Ao(t),e):function(n){var i=mu(n,t);return i===G&&i===e?vu(n,t):yi(e,i,G,ut|lt)}}function Ri(t,e,n,i,o){if(t!==e){if(!jc(e)&&!Vc(e))var s=Mi(e);r(s||e,function(r,a){if(s&&(a=r,r=e[a]),Ia(r))o||(o=new ln),Ni(t,e,a,n,Ri,i,o);else{var u=i?i(t[a],r,a+"",t,e,o):G;u===G&&(u=r),vn(t,a,u)}})}}function Ni(t,e,n,i,r,o,s){var a=t[n],u=e[n],l=s.get(u);if(l)return void vn(t,n,l);var h=o?o(a,u,n+"",t,e,s):G,c=h===G;c&&(h=u,jc(u)||Vc(u)?jc(a)?h=a:Ca(a)?h=Er(a):(c=!1,h=Nn(u,!0)):qa(u)||Ta(u)?Ta(a)?h=iu(a):!Ia(a)||i&&Oa(a)?(c=!1,h=Nn(u,!0)):h=a:c=!1),c&&(s.set(u,h),r(h,u,i,o,s),s["delete"](u)),vn(t,n,h)}function Ii(t,e){var n=t.length;if(n)return e+=0>e?n:0,go(e,n)?t[e]:G}function Bi(t,e,n){var i=-1;e=h(e.length?e:[ul],P(io()));var r=ki(t,function(t,n,r){var o=h(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return E(r,function(t,e){return xr(t,e,n)})}function Fi(t,e){return t=Object(t),Ui(t,e,function(e,n){return n in t})}function Ui(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=t[s];n(a,s)&&(o[s]=a)}return o}function ji(t){return function(e){return ai(e,t)}}function zi(t,e,n,i){var r=i?_:v,o=-1,s=e.length,a=t;for(t===e&&(e=Er(e)),n&&(a=h(t,P(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(a,c,u,i))>-1;)a!==t&&rh.call(a,u,1),rh.call(t,u,1);return t}function Hi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;if(go(r))rh.call(t,r,1);else if(_o(r,t))delete t[Ao(r)];else{var s=hr(r),a=Po(t,s);null!=a&&delete a[Ao(Ko(s))]}}}return t}function $i(t,e){return t+hh(yh()*(e-t+1))}function Wi(t,e,n,i){for(var r=-1,o=gh(lh((e-t)/(n||1)),0),s=Rl(o);o--;)s[i?o:++r]=t,t+=n;return s}function qi(t,e){var n="";if(!t||1>e||e>_t)return n;do e%2&&(n+=t),e=hh(e/2),e&&(t+=t);while(e);return n}function Gi(t,e){return e=gh(e===G?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=gh(i.length-e,0),s=Rl(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Rl(e+1);++r<e;)a[r]=i[r];return a[e]=s,n(t,this,a)}}function Vi(t,e,n,i){if(!Ia(t))return t;e=_o(e,t)?[e]:hr(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var u=Ao(e[r]),l=n;if(r!=s){var h=a[u];l=i?i(h,u,a):G,l===G&&(l=Ia(h)?h:go(e[r+1])?[]:{})}bn(a,u,l),a=a[u]}return t}function Zi(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Rl(r);++i<r;)o[i]=t[i+e];return o}function Xi(t,e){var n;return zh(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Yi(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&Tt>=r){for(;r>i;){var o=i+r>>>1,s=t[o];null!==s&&!Za(s)&&(n?e>=s:e>s)?i=o+1:r=o}return r}return Ji(t,e,ul,n)}function Ji(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,u=Za(e),l=e===G;o>r;){var h=hh((r+o)/2),c=n(t[h]),f=c!==G,p=null===c,d=c===c,m=Za(c);if(s)var g=i||d;else g=l?d&&(i||f):a?d&&f&&(i||!p):u?d&&f&&!p&&(i||!m):p||m?!1:i?e>=c:e>c;g?r=h+1:o=h}return vh(o,wt)}function Ki(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!wa(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function Qi(t){return"number"==typeof t?t:Za(t)?bt:+t}function tr(t){if("string"==typeof t)return t;if(Za(t))return jh?jh.call(t):"";var e=t+"";return"0"==e&&1/t==-vt?"-0":e}function er(t,e,n){var i=-1,r=u,o=t.length,s=!0,a=[],h=a;if(n)s=!1,r=l;else if(o>=Z){var c=e?null:Vh(t);if(c)return z(c);s=!1,r=A,h=new sn}else h=e?[]:a;t:for(;++i<o;){var f=t[i],p=e?e(f):f;if(f=n||0!==f?f:0,s&&p===p){for(var d=h.length;d--;)if(h[d]===p)continue t;e&&h.push(p),a.push(f)}else r(h,p,n)||(h!==a&&h.push(p),a.push(f))}return a}function nr(t,e){e=_o(e,t)?[e]:hr(e),t=Po(t,e);var n=Ao(Ko(e));return!(null!=t&&ql.call(t,n))||delete t[n]}function ir(t,e,n,i){return Vi(t,e,n(ai(t,e)),i)}function rr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Zi(t,i?0:o,i?o+1:r):Zi(t,i?o+1:0,i?r:o)}function or(t,e){var n=t;return n instanceof Be&&(n=n.value()),f(e,function(t,e){return e.func.apply(e.thisArg,c([t],e.args))},n)}function sr(t,e,n){for(var i=-1,r=t.length;++i<r;)var o=o?c(Kn(o,t[i],e,n),Kn(t[i],o,e,n)):t[i];return o&&o.length?er(o,e,n):[]}function ar(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=o>i?e[i]:G;n(s,t[i],a)}return s}function ur(t){return Ca(t)?t:[]}function lr(t){return"function"==typeof t?t:ul}function hr(t){return jc(t)?t:nc(t)}function cr(t,e,n){var i=t.length;return n=n===G?i:n,!e&&n>=i?t:Zi(t,e,n)}function fr(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function pr(t){var e=new t.constructor(t.byteLength);return new Ql(e).set(new Ql(t)),e}function dr(t,e){var n=e?pr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function mr(e,n,i){var r=n?i(F(e),!0):F(e);return f(r,t,new e.constructor)}function gr(t){var e=new t.constructor(t.source,Ee.exec(t));return e.lastIndex=t.lastIndex,e}function vr(t,n,i){var r=n?i(z(t),!0):z(t);return f(r,e,new t.constructor)}function _r(t){return Uh?Object(Uh.call(t)):{}}function yr(t,e){var n=e?pr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function br(t,e){if(t!==e){var n=t!==G,i=null===t,r=t===t,o=Za(t),s=e!==G,a=null===e,u=e===e,l=Za(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||i&&s&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&e>t||l&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!u)return-1}return 0}function xr(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=br(r[i],o[i]);if(u){if(i>=a)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}function wr(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,u=e.length,l=gh(o-s,0),h=Rl(u+l),c=!i;++a<u;)h[a]=e[a];for(;++r<s;)(c||o>r)&&(h[n[r]]=t[r]);for(;l--;)h[a++]=t[r++];return h}function Tr(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,h=gh(o-a,0),c=Rl(h+l),f=!i;++r<h;)c[r]=t[r];for(var p=r;++u<l;)c[p+u]=e[u];for(;++s<a;)(f||o>r)&&(c[p+n[s]]=t[r++]);return c}function Er(t,e){var n=-1,i=t.length;for(e||(e=Rl(i));++n<i;)e[n]=t[n];return e}function Cr(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var s=e[r],a=i?i(n[s],t[s],s,n,t):G;bn(n,s,a===G?t[s]:a)}return n}function Sr(t,e){return Cr(t,Xh(t),e)}function Lr(t,e){return function(n,r){var o=jc(n)?i:Mn,s=e?e():{};return o(n,t,io(r,2),s)}}function Pr(t){return Gi(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:G,s=r>2?n[2]:G;for(o=t.length>3&&"function"==typeof o?(r--,o):G,s&&vo(n[0],n[1],s)&&(o=3>r?G:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function Mr(t,e){return function(n,i){if(null==n)return n;if(!Ea(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=Object(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function Ar(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(n(o[u],u,o)===!1)break}return e}}function kr(t,e,n){function i(){var e=this&&this!==In&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&K,o=Rr(t);return i}function Dr(t){return function(e){e=ou(e);var n=wn.test(e)?W(e):G,i=n?n[0]:e.charAt(0),r=n?cr(n,1).join(""):e.slice(1);return i[t]()+r}}function Or(t){return function(e){return f(il(Bu(e).replace(_n,"")),t,"")}}function Rr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=jn(t.prototype),i=t.apply(n,e);return Ia(i)?i:n}}function Nr(t,e,i){function r(){for(var s=arguments.length,a=Rl(s),u=s,l=no(r);u--;)a[u]=arguments[u];var h=3>s&&a[0]!==l&&a[s-1]!==l?[]:j(a,l);if(s-=h.length,i>s)return Gr(t,e,Fr,r.placeholder,G,a,h,G,G,i-s);var c=this&&this!==In&&this instanceof r?o:t;return n(c,this,a)}var o=Rr(t);return r}function Ir(t){return function(e,n,i){var r=Object(e);if(!Ea(e)){var o=io(n,3);e=_u(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:G}}function Br(t){return Gi(function(e){e=ii(e,1);var n=e.length,i=n,r=Ie.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new Fl(X);if(r&&!s&&"wrapper"==eo(o))var s=new Ie([],!0)}for(i=s?i:n;++i<n;){o=e[i];var a=eo(o),u="wrapper"==a?Zh(o):G;s=u&&bo(u[0])&&u[1]==(ot|et|it|st)&&!u[4].length&&1==u[9]?s[eo(u[0])].apply(s,u[3]):1==o.length&&bo(o)?s[a]():s.thru(o)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&jc(i)&&i.length>=Z)return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Fr(t,e,n,i,r,o,s,a,u,l){function h(){for(var v=arguments.length,_=Rl(v),y=v;y--;)_[y]=arguments[y];if(d)var b=no(h),x=O(_,b);if(i&&(_=wr(_,i,r,d)),o&&(_=Tr(_,o,s,d)),v-=x,d&&l>v){var w=j(_,b);return Gr(t,e,Fr,h.placeholder,n,_,w,a,u,l-v)}var T=f?n:this,E=p?T[t]:t;return v=_.length,a?_=Mo(_,a):m&&v>1&&_.reverse(),c&&v>u&&(_.length=u),this&&this!==In&&this instanceof h&&(E=g||Rr(E)),E.apply(T,_)}var c=e&ot,f=e&K,p=e&Q,d=e&(et|nt),m=e&at,g=p?G:Rr(t);return h}function Ur(t,e){return function(n,i){return mi(n,t,e(i),{})}}function jr(t,e){return function(n,i){var r;if(n===G&&i===G)return e;if(n!==G&&(r=n),i!==G){if(r===G)return i;"string"==typeof n||"string"==typeof i?(n=tr(n),i=tr(i)):(n=Qi(n),i=Qi(i)),r=t(n,i)}return r}}function zr(t){return Gi(function(e){return e=1==e.length&&jc(e[0])?h(e[0],P(io())):h(ii(e,1),P(io())),Gi(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function Hr(t,e){e=e===G?" ":tr(e);var n=e.length;if(2>n)return n?qi(e,t):e;var i=qi(e,lh(t/$(e)));return wn.test(e)?cr(W(i),0,t).join(""):i.slice(0,t)}function $r(t,e,i,r){function o(){for(var e=-1,u=arguments.length,l=-1,h=r.length,c=Rl(h+u),f=this&&this!==In&&this instanceof o?a:t;++l<h;)c[l]=r[l];for(;u--;)c[l++]=arguments[++e];return n(f,s?i:this,c)}var s=e&K,a=Rr(t);return o}function Wr(t){return function(e,n,i){return i&&"number"!=typeof i&&vo(e,n,i)&&(n=i=G),e=Qa(e),n===G?(n=e,e=0):n=Qa(n),i=i===G?n>e?1:-1:Qa(i),Wi(e,n,i,t)}}function qr(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=nu(e),n=nu(n)),t(e,n)}}function Gr(t,e,n,i,r,o,s,a,u,l){var h=e&et,c=h?s:G,f=h?G:s,p=h?o:G,d=h?G:o;e|=h?it:rt,e&=~(h?rt:it),e&tt||(e&=~(K|Q));var m=[t,e,r,p,c,d,f,a,u,l],g=n.apply(G,m);return bo(t)&&Qh(g,m),g.placeholder=i,ec(g,t,e)}function Vr(t){var e=Il[t];return function(t,n){if(t=nu(t),n=vh(tu(n),292)){var i=(ou(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(ou(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function Zr(t){return function(e){var n=Jh(e);return n==Dt?F(e):n==Bt?H(e):L(e,t(e))}}function Xr(t,e,n,i,r,o,s,a){var u=e&Q;if(!u&&"function"!=typeof t)throw new Fl(X);var l=i?i.length:0;if(l||(e&=~(it|rt),i=r=G),s=s===G?s:gh(tu(s),0),a=a===G?a:tu(a),l-=r?r.length:0,e&rt){var h=i,c=r;i=r=G}var f=u?G:Zh(t),p=[t,e,n,i,r,h,c,o,s,a];if(f&&Co(p,f),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],a=p[9]=null==p[9]?u?0:t.length:gh(p[9]-l,0),!a&&e&(et|nt)&&(e&=~(et|nt)),e&&e!=K)d=e==et||e==nt?Nr(t,e,a):e!=it&&e!=(K|it)||r.length?Fr.apply(G,p):$r(t,e,n,i);else var d=kr(t,e,n);var m=f?qh:Qh;return ec(m(d,p),t,e)}function Yr(t,e,n,i,r,o){var s=r&lt,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,c=!0,f=r&ut?new sn:G;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],m=e[h];if(i)var g=s?i(m,p,h,e,t,o):i(p,m,h,t,e,o);if(g!==G){if(g)continue;c=!1;break}if(f){if(!d(e,function(t,e){return f.has(e)||p!==t&&!n(p,t,i,r,o)?void 0:f.add(e)})){c=!1;break}}else if(p!==m&&!n(p,m,i,r,o)){c=!1;break}}return o["delete"](t),o["delete"](e),c}function Jr(t,e,n,i,r,o,s){switch(n){case $t:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ht:return t.byteLength==e.byteLength&&i(new Ql(t),new Ql(e))?!0:!1;case Lt:case Pt:case Ot:return wa(+t,+e);case Mt:return t.name==e.name&&t.message==e.message;case It:case Ft:return t==e+"";case Dt:var a=F;case Bt:var u=o&lt;if(a||(a=z),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;o|=ut,s.set(t,e);var h=Yr(a(t),a(e),i,r,o,s);return s["delete"](t),h;case Ut:if(Uh)return Uh.call(t)==Uh.call(e)}return!1}function Kr(t,e,n,i,r,o){var s=r&lt,a=_u(t),u=a.length,l=_u(e),h=l.length;if(u!=h&&!s)return!1;for(var c=u;c--;){var f=a[c];if(!(s?f in e:ql.call(e,f)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++c<u;){f=a[c];var g=t[f],v=e[f];if(i)var _=s?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(!(_===G?g===v||n(g,v,i,r,o):_)){d=!1;break}m||(m="constructor"==f)}if(d&&!m){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function Qr(t){return ui(t,_u,Xh)}function to(t){return ui(t,yu,Yh)}function eo(t){for(var e=t.name+"",n=Dh[e],i=ql.call(Dh,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function no(t){var e=ql.call(Re,"placeholder")?Re:t;return e.placeholder}function io(){var t=Re.iteratee||ll;return t=t===ll?Li:t,arguments.length?t(arguments[0],arguments[1]):t}function ro(t,e){var n=t.__data__;return yo(e)?n["string"==typeof e?"string":"hash"]:n.map}function oo(t){for(var e=_u(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,To(r)]}return e}function so(t,e){var n=N(t,e);return Ti(n)?n:G}function ao(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=vh(e,t+s);break;case"takeRight":t=gh(t,e-s)}}return{start:t,end:e}}function uo(t){var e=t.match(ye);return e?e[1].split(be):[]}function lo(t,e,n){e=_o(e,t)?[e]:hr(e);for(var i,r=-1,o=e.length;++r<o;){var s=Ao(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;var o=t?t.length:0;return!!o&&Na(o)&&go(s,o)&&(jc(t)||Va(t)||Ta(t))}function ho(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ql.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function co(t){return"function"!=typeof t.constructor||wo(t)?{}:jn(th(t))}function fo(t,e,n,i){var r=t.constructor;switch(e){case Ht:return pr(t);case Lt:case Pt:return new r(+t);case $t:return dr(t,i);case Wt:case qt:case Gt:case Vt:case Zt:case Xt:case Yt:case Jt:case Kt:return yr(t,i);case Dt:return mr(t,i,n);case Ot:case Ft:return new r(t);case It:return gr(t);case Bt:return vr(t,i,n);case Ut:return _r(t)}}function po(t,e){var n=e.length,i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(_e,"{\n/* [wrapped with "+e+"] */\n")}function mo(t){return jc(t)||Ta(t)||!!(oh&&t&&t[oh])}function go(t,e){return e=null==e?_t:e,!!e&&("number"==typeof t||Ae.test(t))&&t>-1&&t%1==0&&e>t}function vo(t,e,n){if(!Ia(n))return!1;var i=typeof e;return("number"==i?Ea(n)&&go(e,n.length):"string"==i&&e in n)?wa(n[e],t):!1}function _o(t,e){if(jc(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||Za(t)?!0:he.test(t)||!le.test(t)||null!=e&&t in Object(e)}function yo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function bo(t){var e=eo(t),n=Re[e];if("function"!=typeof n||!(e in Be.prototype))return!1;if(t===n)return!0;var i=Zh(n);return!!i&&t===i[0]}function xo(t){return!!$l&&$l in t}function wo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||jl;return t===n}function To(t){return t===t&&!Ia(t)}function Eo(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==G||t in Object(n))}}function Co(t,e){var n=t[1],i=e[1],r=n|i,o=(K|Q|ot)>r,s=i==ot&&n==et||i==ot&&n==st&&t[7].length<=e[8]||i==(ot|st)&&e[7].length<=e[8]&&n==et;if(!o&&!s)return t;i&K&&(t[2]=e[2],r|=n&K?0:tt);var a=e[3];if(a){var u=t[3];t[3]=u?wr(u,a,e[4]):a,t[4]=u?j(t[3],J):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?Tr(u,a,e[6]):a,t[6]=u?j(t[5],J):e[6]),a=e[7],a&&(t[7]=a),i&ot&&(t[8]=null==t[8]?e[8]:vh(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function So(t,e,n,i,r,o){return Ia(t)&&Ia(e)&&(o.set(e,t),Ri(t,e,G,So,o),o["delete"](e)),t}function Lo(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Po(t,e){return 1==e.length?t:ai(t,Zi(e,0,-1))}function Mo(t,e){for(var n=t.length,i=vh(e.length,n),r=Er(t);i--;){var o=e[i];t[i]=go(o,n)?r[o]:G}return t}function Ao(t){if("string"==typeof t||Za(t))return t;var e=t+"";return"0"==e&&1/t==-vt?"-0":e}function ko(t){if(null!=t){try{return Wl.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Do(t,e){return r(Et,function(n){var i="_."+n[0];e&n[1]&&!u(t,i)&&t.push(i)}),t.sort()}function Oo(t){if(t instanceof Be)return t.clone();var e=new Ie(t.__wrapped__,t.__chain__);return e.__actions__=Er(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ro(t,e,n){e=(n?vo(t,e,n):e===G)?1:gh(tu(e),0);var i=t?t.length:0;if(!i||1>e)return[];for(var r=0,o=0,s=Rl(lh(i/e));i>r;)s[o++]=Zi(t,r,r+=e);return s}function No(t){for(var e=-1,n=t?t.length:0,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o);
}return r}function Io(){for(var t=arguments.length,e=Rl(t?t-1:0),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return t?c(jc(n)?Er(n):[n],ii(e,1)):[]}function Bo(t,e,n){var i=t?t.length:0;return i?(e=n||e===G?1:tu(e),Zi(t,0>e?0:e,i)):[]}function Fo(t,e,n){var i=t?t.length:0;return i?(e=n||e===G?1:tu(e),e=i-e,Zi(t,0,0>e?0:e)):[]}function Uo(t,e){return t&&t.length?rr(t,io(e,3),!0,!0):[]}function jo(t,e){return t&&t.length?rr(t,io(e,3),!0):[]}function zo(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&vo(t,e,n)&&(n=0,i=r),ei(t,e,n,i)):[]}function Ho(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:tu(n);return 0>r&&(r=gh(i+r,0)),g(t,io(e,3),r)}function $o(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i-1;return n!==G&&(r=tu(n),r=0>n?gh(i+r,0):vh(r,i-1)),g(t,io(e,3),r,!0)}function Wo(t){var e=t?t.length:0;return e?ii(t,1):[]}function qo(t){var e=t?t.length:0;return e?ii(t,vt):[]}function Go(t,e){var n=t?t.length:0;return n?(e=e===G?1:tu(e),ii(t,e)):[]}function Vo(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function Zo(t){return t&&t.length?t[0]:G}function Xo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:tu(n);return 0>r&&(r=gh(i+r,0)),v(t,e,r)}function Yo(t){var e=t?t.length:0;return e?Zi(t,0,-1):[]}function Jo(t,e){return t?dh.call(t,e):""}function Ko(t){var e=t?t.length:0;return e?t[e-1]:G}function Qo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if(n!==G&&(r=tu(n),r=(0>r?gh(i+r,0):vh(r,i-1))+1),e!==e)return g(t,y,r-1,!0);for(;r--;)if(t[r]===e)return r;return-1}function ts(t,e){return t&&t.length?Ii(t,tu(e)):G}function es(t,e){return t&&t.length&&e&&e.length?zi(t,e):t}function ns(t,e,n){return t&&t.length&&e&&e.length?zi(t,e,io(n,2)):t}function is(t,e,n){return t&&t.length&&e&&e.length?zi(t,e,G,n):t}function rs(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=io(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Hi(t,r),n}function os(t){return t?xh.call(t):t}function ss(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&vo(t,e,n)?(e=0,n=i):(e=null==e?0:tu(e),n=n===G?i:tu(n)),Zi(t,e,n)):[]}function as(t,e){return Yi(t,e)}function us(t,e,n){return Ji(t,e,io(n,2))}function ls(t,e){var n=t?t.length:0;if(n){var i=Yi(t,e);if(n>i&&wa(t[i],e))return i}return-1}function hs(t,e){return Yi(t,e,!0)}function cs(t,e,n){return Ji(t,e,io(n,2),!0)}function fs(t,e){var n=t?t.length:0;if(n){var i=Yi(t,e,!0)-1;if(wa(t[i],e))return i}return-1}function ps(t){return t&&t.length?Ki(t):[]}function ds(t,e){return t&&t.length?Ki(t,io(e,2)):[]}function ms(t){var e=t?t.length:0;return e?Zi(t,1,e):[]}function gs(t,e,n){return t&&t.length?(e=n||e===G?1:tu(e),Zi(t,0,0>e?0:e)):[]}function vs(t,e,n){var i=t?t.length:0;return i?(e=n||e===G?1:tu(e),e=i-e,Zi(t,0>e?0:e,i)):[]}function _s(t,e){return t&&t.length?rr(t,io(e,3),!1,!0):[]}function ys(t,e){return t&&t.length?rr(t,io(e,3)):[]}function bs(t){return t&&t.length?er(t):[]}function xs(t,e){return t&&t.length?er(t,io(e,2)):[]}function ws(t,e){return t&&t.length?er(t,G,e):[]}function Ts(t){if(!t||!t.length)return[];var e=0;return t=a(t,function(t){return Ca(t)?(e=gh(t.length,e),!0):void 0}),S(e,function(e){return h(t,x(e))})}function Es(t,e){if(!t||!t.length)return[];var i=Ts(t);return null==e?i:h(i,function(t){return n(e,G,t)})}function Cs(t,e){return ar(t||[],e||[],bn)}function Ss(t,e){return ar(t||[],e||[],Vi)}function Ls(t){var e=Re(t);return e.__chain__=!0,e}function Ps(t,e){return e(t),t}function Ms(t,e){return e(t)}function As(){return Ls(this)}function ks(){return new Ie(this.value(),this.__chain__)}function Ds(){this.__values__===G&&(this.__values__=Ka(this.value()));var t=this.__index__>=this.__values__.length,e=t?G:this.__values__[this.__index__++];return{done:t,value:e}}function Os(){return this}function Rs(t){for(var e,n=this;n instanceof Ne;){var i=Oo(n);i.__index__=0,i.__values__=G,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Ns(){var t=this.__wrapped__;if(t instanceof Be){var e=t;return this.__actions__.length&&(e=new Be(this)),e=e.reverse(),e.__actions__.push({func:Ms,args:[os],thisArg:G}),new Ie(e,this.__chain__)}return this.thru(os)}function Is(){return or(this.__wrapped__,this.__actions__)}function Bs(t,e,n){var i=jc(t)?s:Qn;return n&&vo(t,e,n)&&(e=G),i(t,io(e,3))}function Fs(t,e){var n=jc(t)?a:ni;return n(t,io(e,3))}function Us(t,e){return ii(qs(t,e),1)}function js(t,e){return ii(qs(t,e),vt)}function zs(t,e,n){return n=n===G?1:tu(n),ii(qs(t,e),n)}function Hs(t,e){var n=jc(t)?r:zh;return n(t,io(e,3))}function $s(t,e){var n=jc(t)?o:Hh;return n(t,io(e,3))}function Ws(t,e,n,i){t=Ea(t)?t:ku(t),n=n&&!i?tu(n):0;var r=t.length;return 0>n&&(n=gh(r+n,0)),Va(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&v(t,e,n)>-1}function qs(t,e){var n=jc(t)?h:ki;return n(t,io(e,3))}function Gs(t,e,n,i){return null==t?[]:(jc(e)||(e=null==e?[]:[e]),n=i?G:n,jc(n)||(n=null==n?[]:[n]),Bi(t,e,n))}function Vs(t,e,n){var i=jc(t)?f:T,r=arguments.length<3;return i(t,io(e,4),n,r,zh)}function Zs(t,e,n){var i=jc(t)?p:T,r=arguments.length<3;return i(t,io(e,4),n,r,Hh)}function Xs(t,e){var n=jc(t)?a:ni;return n(t,la(io(e,3)))}function Ys(t){var e=Ea(t)?t:ku(t),n=e.length;return n>0?e[$i(0,n-1)]:G}function Js(t,e,n){var i=-1,r=Ka(t),o=r.length,s=o-1;for(e=(n?vo(t,e,n):e===G)?1:Rn(tu(e),0,o);++i<e;){var a=$i(i,s),u=r[a];r[a]=r[i],r[i]=u}return r.length=e,r}function Ks(t){return Js(t,xt)}function Qs(t){if(null==t)return 0;if(Ea(t)){var e=t.length;return e&&Va(t)?$(t):e}if(Ba(t)){var n=Jh(t);if(n==Dt||n==Bt)return t.size}return Pi(t).length}function ta(t,e,n){var i=jc(t)?d:Xi;return n&&vo(t,e,n)&&(e=G),i(t,io(e,3))}function ea(t,e){if("function"!=typeof e)throw new Fl(X);return t=tu(t),function(){return--t<1?e.apply(this,arguments):void 0}}function na(t,e,n){return e=n?G:e,e=t&&null==e?t.length:e,Xr(t,ot,G,G,G,G,e)}function ia(t,e){var n;if("function"!=typeof e)throw new Fl(X);return t=tu(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=G),n}}function ra(t,e,n){e=n?G:e;var i=Xr(t,et,G,G,G,G,G,e);return i.placeholder=ra.placeholder,i}function oa(t,e,n){e=n?G:e;var i=Xr(t,nt,G,G,G,G,G,e);return i.placeholder=oa.placeholder,i}function sa(t,e,n){function i(e){var n=f,i=p;return f=p=G,_=e,m=t.apply(i,n)}function r(t){return _=t,g=tc(a,e),y?i(t):m}function o(t){var n=t-v,i=t-_,r=e-n;return b?vh(r,d-i):r}function s(t){var n=t-v,i=t-_;return v===G||n>=e||0>n||b&&i>=d}function a(){var t=Mc();return s(t)?u(t):void(g=tc(a,o(t)))}function u(t){return g=G,x&&f?i(t):(f=p=G,m)}function l(){g!==G&&Gh(g),_=0,f=v=p=g=G}function h(){return g===G?m:u(Mc())}function c(){var t=Mc(),n=s(t);if(f=arguments,p=this,v=t,n){if(g===G)return r(v);if(b)return g=tc(a,e),i(v)}return g===G&&(g=tc(a,e)),m}var f,p,d,m,g,v,_=0,y=!1,b=!1,x=!0;if("function"!=typeof t)throw new Fl(X);return e=nu(e)||0,Ia(n)&&(y=!!n.leading,b="maxWait"in n,d=b?gh(nu(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),c.cancel=l,c.flush=h,c}function aa(t){return Xr(t,at)}function ua(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Fl(X);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(ua.Cache||Qe),n}function la(t){if("function"!=typeof t)throw new Fl(X);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ha(t){return ia(2,t)}function ca(t,e){if("function"!=typeof t)throw new Fl(X);return e=e===G?e:tu(e),Gi(t,e)}function fa(t,e){if("function"!=typeof t)throw new Fl(X);return e=e===G?0:gh(tu(e),0),Gi(function(i){var r=i[e],o=cr(i,0,e);return r&&c(o,r),n(t,this,o)})}function pa(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Fl(X);return Ia(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),sa(t,e,{leading:i,maxWait:e,trailing:r})}function da(t){return na(t,1)}function ma(t,e){return e=null==e?ul:e,Nc(e,t)}function ga(){if(!arguments.length)return[];var t=arguments[0];return jc(t)?t:[t]}function va(t){return Nn(t,!1,!0)}function _a(t,e){return Nn(t,!1,!0,e)}function ya(t){return Nn(t,!0,!0)}function ba(t,e){return Nn(t,!0,!0,e)}function xa(t,e){return null==e||Fn(t,e,_u(e))}function wa(t,e){return t===e||t!==t&&e!==e}function Ta(t){return Ca(t)&&ql.call(t,"callee")&&(!ih.call(t,"callee")||Zl.call(t)==Ct)}function Ea(t){return null!=t&&Na(t.length)&&!Oa(t)}function Ca(t){return Ba(t)&&Ea(t)}function Sa(t){return t===!0||t===!1||Ba(t)&&Zl.call(t)==Lt}function La(t){return!!t&&1===t.nodeType&&Ba(t)&&!qa(t)}function Pa(t){if(Ea(t)&&(jc(t)||Va(t)||Oa(t.splice)||Ta(t)||Hc(t)))return!t.length;if(Ba(t)){var e=Jh(t);if(e==Dt||e==Bt)return!t.size}var n=wo(t);for(var i in t)if(ql.call(t,i)&&(!n||"constructor"!=i))return!1;return!(kh&&mh(t).length)}function Ma(t,e){return yi(t,e)}function Aa(t,e,n){n="function"==typeof n?n:G;var i=n?n(t,e):G;return i===G?yi(t,e,n):!!i}function ka(t){return Ba(t)?Zl.call(t)==Mt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Da(t){return"number"==typeof t&&ph(t)}function Oa(t){var e=Ia(t)?Zl.call(t):"";return e==At||e==kt}function Ra(t){return"number"==typeof t&&t==tu(t)}function Na(t){return"number"==typeof t&&t>-1&&t%1==0&&_t>=t}function Ia(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ba(t){return!!t&&"object"==typeof t}function Fa(t,e){return t===e||wi(t,e,oo(e))}function Ua(t,e,n){return n="function"==typeof n?n:G,wi(t,e,oo(e),n)}function ja(t){return Wa(t)&&t!=+t}function za(t){if(Kh(t))throw new Nl("This method is not supported with core-js. Try https://github.com/es-shims.");return Ti(t)}function Ha(t){return null===t}function $a(t){return null==t}function Wa(t){return"number"==typeof t||Ba(t)&&Zl.call(t)==Ot}function qa(t){if(!Ba(t)||Zl.call(t)!=Rt||I(t))return!1;var e=th(t);if(null===e)return!0;var n=ql.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Wl.call(n)==Vl}function Ga(t){return Ra(t)&&t>=-_t&&_t>=t}function Va(t){return"string"==typeof t||!jc(t)&&Ba(t)&&Zl.call(t)==Ft}function Za(t){return"symbol"==typeof t||Ba(t)&&Zl.call(t)==Ut}function Xa(t){return t===G}function Ya(t){return Ba(t)&&Jh(t)==jt}function Ja(t){return Ba(t)&&Zl.call(t)==zt}function Ka(t){if(!t)return[];if(Ea(t))return Va(t)?W(t):Er(t);if(eh&&t[eh])return B(t[eh]());var e=Jh(t),n=e==Dt?F:e==Bt?z:ku;return n(t)}function Qa(t){if(!t)return 0===t?t:0;if(t=nu(t),t===vt||t===-vt){var e=0>t?-1:1;return e*yt}return t===t?t:0}function tu(t){var e=Qa(t),n=e%1;return e===e?n?e-n:e:0}function eu(t){return t?Rn(tu(t),0,xt):0}function nu(t){if("number"==typeof t)return t;if(Za(t))return bt;if(Ia(t)){var e=Oa(t.valueOf)?t.valueOf():t;t=Ia(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(me,"");var n=Le.test(t);return n||Me.test(t)?On(t.slice(2),n?2:8):Se.test(t)?bt:+t}function iu(t){return Cr(t,yu(t))}function ru(t){return Rn(tu(t),-_t,_t)}function ou(t){return null==t?"":tr(t)}function su(t,e){var n=jn(t);return e?An(n,e):n}function au(t,e){return m(t,io(e,3),ri)}function uu(t,e){return m(t,io(e,3),oi)}function lu(t,e){return null==t?t:$h(t,io(e,3),yu)}function hu(t,e){return null==t?t:Wh(t,io(e,3),yu)}function cu(t,e){return t&&ri(t,io(e,3))}function fu(t,e){return t&&oi(t,io(e,3))}function pu(t){return null==t?[]:si(t,_u(t))}function du(t){return null==t?[]:si(t,yu(t))}function mu(t,e,n){var i=null==t?G:ai(t,e);return i===G?n:i}function gu(t,e){return null!=t&&lo(t,e,ci)}function vu(t,e){return null!=t&&lo(t,e,fi)}function _u(t){return Ea(t)?mn(t):Pi(t)}function yu(t){return Ea(t)?mn(t,!0):Mi(t)}function bu(t,e){var n={};return e=io(e,3),ri(t,function(t,i,r){n[e(t,i,r)]=t}),n}function xu(t,e){var n={};return e=io(e,3),ri(t,function(t,i,r){n[i]=e(t,i,r)}),n}function wu(t,e){return Tu(t,la(io(e)))}function Tu(t,e){return null==t?{}:Ui(t,to(t),io(e))}function Eu(t,e,n){e=_o(e,t)?[e]:hr(e);var i=-1,r=e.length;for(r||(t=G,r=1);++i<r;){var o=null==t?G:t[Ao(e[i])];o===G&&(i=r,o=n),t=Oa(o)?o.call(t):o}return t}function Cu(t,e,n){return null==t?t:Vi(t,e,n)}function Su(t,e,n,i){return i="function"==typeof i?i:G,null==t?t:Vi(t,e,n,i)}function Lu(t,e,n){var i=jc(t)||Vc(t);if(e=io(e,4),null==n)if(i||Ia(t)){var o=t.constructor;n=i?jc(t)?new o:[]:Oa(o)?jn(th(t)):{}}else n={};return(i?r:ri)(t,function(t,i,r){return e(n,t,i,r)}),n}function Pu(t,e){return null==t?!0:nr(t,e)}function Mu(t,e,n){return null==t?t:ir(t,e,lr(n))}function Au(t,e,n,i){return i="function"==typeof i?i:G,null==t?t:ir(t,e,lr(n),i)}function ku(t){return t?M(t,_u(t)):[]}function Du(t){return null==t?[]:M(t,yu(t))}function Ou(t,e,n){return n===G&&(n=e,e=G),n!==G&&(n=nu(n),n=n===n?n:0),e!==G&&(e=nu(e),e=e===e?e:0),Rn(nu(t),e,n)}function Ru(t,e,n){return e=Qa(e),n===G?(n=e,e=0):n=Qa(n),t=nu(t),pi(t,e,n)}function Nu(t,e,n){if(n&&"boolean"!=typeof n&&vo(t,e,n)&&(e=n=G),n===G&&("boolean"==typeof e?(n=e,e=G):"boolean"==typeof t&&(n=t,t=G)),t===G&&e===G?(t=0,e=1):(t=Qa(t),e===G?(e=t,t=0):e=Qa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=yh();return vh(t+r*(e-t+Dn("1e-"+((r+"").length-1))),e)}return $i(t,e)}function Iu(t){return bf(ou(t).toLowerCase())}function Bu(t){return t=ou(t),t&&t.replace(ke,Zn).replace(yn,"")}function Fu(t,e,n){t=ou(t),e=tr(e);var i=t.length;n=n===G?i:Rn(tu(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function Uu(t){return t=ou(t),t&&oe.test(t)?t.replace(ie,Xn):t}function ju(t){return t=ou(t),t&&de.test(t)?t.replace(pe,"\\$&"):t}function zu(t,e,n){t=ou(t),e=tu(e);var i=e?$(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Hr(hh(r),n)+t+Hr(lh(r),n)}function Hu(t,e,n){t=ou(t),e=tu(e);var i=e?$(t):0;return e&&e>i?t+Hr(e-i,n):t}function $u(t,e,n){t=ou(t),e=tu(e);var i=e?$(t):0;return e&&e>i?Hr(e-i,n)+t:t}function Wu(t,e,n){return n||null==e?e=0:e&&(e=+e),t=ou(t).replace(me,""),_h(t,e||(Ce.test(t)?16:10))}function qu(t,e,n){return e=(n?vo(t,e,n):e===G)?1:tu(e),qi(ou(t),e)}function Gu(){var t=arguments,e=ou(t[0]);return t.length<3?e:bh.call(e,t[1],t[2])}function Vu(t,e,n){return n&&"number"!=typeof n&&vo(t,e,n)&&(e=n=G),(n=n===G?xt:n>>>0)?(t=ou(t),t&&("string"==typeof e||null!=e&&!qc(e))&&(e=tr(e),""==e&&wn.test(t))?cr(W(t),0,n):wh.call(t,e,n)):[]}function Zu(t,e,n){return t=ou(t),n=Rn(tu(n),0,t.length),e=tr(e),t.slice(n,n+e.length)==e}function Xu(t,e,n){var i=Re.templateSettings;n&&vo(t,e,n)&&(e=G),t=ou(t),e=Kc({},e,i,gn);var r,o,s=Kc({},e.imports,i.imports,gn),a=_u(s),u=M(s,a),l=0,h=e.interpolate||De,c="__p += '",f=Bl((e.escape||De).source+"|"+h.source+"|"+(h===ue?Te:De).source+"|"+(e.evaluate||De).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Cn+"]")+"\n";t.replace(f,function(e,n,i,s,a,u){return i||(i=s),c+=t.slice(l,u).replace(Oe,R),n&&(r=!0,c+="' +\n__e("+n+") +\n'"),a&&(o=!0,c+="';\n"+a+";\n__p += '"),i&&(c+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),c+="';\n";var d=e.variable;d||(c="with (obj) {\n"+c+"\n}\n"),c=(o?c.replace(Qt,""):c).replace(te,"$1").replace(ee,"$1;"),c="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var m=xf(function(){return Function(a,p+"return "+c).apply(G,u)});if(m.source=c,ka(m))throw m;return m}function Yu(t){return ou(t).toLowerCase()}function Ju(t){return ou(t).toUpperCase()}function Ku(t,e,n){if(t=ou(t),t&&(n||e===G))return t.replace(me,"");if(!t||!(e=tr(e)))return t;var i=W(t),r=W(e),o=k(i,r),s=D(i,r)+1;return cr(i,o,s).join("")}function Qu(t,e,n){if(t=ou(t),t&&(n||e===G))return t.replace(ve,"");if(!t||!(e=tr(e)))return t;var i=W(t),r=D(i,W(e))+1;return cr(i,0,r).join("")}function tl(t,e,n){if(t=ou(t),t&&(n||e===G))return t.replace(ge,"");if(!t||!(e=tr(e)))return t;var i=W(t),r=k(i,W(e));return cr(i,r).join("")}function el(t,e){var n=ht,i=ct;if(Ia(e)){var r="separator"in e?e.separator:r;n="length"in e?tu(e.length):n,i="omission"in e?tr(e.omission):i}t=ou(t);var o=t.length;if(wn.test(t)){var s=W(t);o=s.length}if(n>=o)return t;var a=n-$(i);if(1>a)return i;var u=s?cr(s,0,a).join(""):t.slice(0,a);if(r===G)return u+i;if(s&&(a+=u.length-a),qc(r)){if(t.slice(a).search(r)){var l,h=u;for(r.global||(r=Bl(r.source,ou(Ee.exec(r))+"g")),r.lastIndex=0;l=r.exec(h);)var c=l.index;u=u.slice(0,c===G?a:c)}}else if(t.indexOf(tr(r),a)!=a){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i}function nl(t){return t=ou(t),t&&re.test(t)?t.replace(ne,Yn):t}function il(t,e,n){return t=ou(t),e=n?G:e,e===G&&(e=Tn.test(t)?xn:xe),t.match(e)||[]}function rl(t){var e=t?t.length:0,i=io();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new Fl(X);return[i(t[0]),t[1]]}):[],Gi(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function ol(t){return Bn(Nn(t,!0))}function sl(t){return function(){return t}}function al(t,e){return null==t||t!==t?e:t}function ul(t){return t}function ll(t){return Li("function"==typeof t?t:Nn(t,!0))}function hl(t){return Di(Nn(t,!0))}function cl(t,e){return Oi(t,Nn(e,!0))}function fl(t,e,n){var i=_u(e),o=si(e,i);null!=n||Ia(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=si(e,_u(e)));var s=!(Ia(n)&&"chain"in n&&!n.chain),a=Oa(t);return r(o,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),r=n.__actions__=Er(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,c([this.value()],arguments))})}),t}function pl(){return In._===this&&(In._=Xl),this}function dl(){}function ml(t){return t=tu(t),Gi(function(e){return Ii(e,t)})}function gl(t){return _o(t)?x(Ao(t)):ji(t)}function vl(t){return function(e){return null==t?G:ai(t,e)}}function _l(){return[]}function yl(){return!1}function bl(){return{}}function xl(){return""}function wl(){return!0}function Tl(t,e){if(t=tu(t),1>t||t>_t)return[];var n=xt,i=vh(t,xt);e=io(e),t-=xt;for(var r=S(i,e);++n<t;)e(n);return r}function El(t){return jc(t)?h(t,Ao):Za(t)?[t]:Er(nc(t))}function Cl(t){var e=++Gl;return ou(t)+e}function Sl(t){return t&&t.length?ti(t,ul,hi):G}function Ll(t,e){return t&&t.length?ti(t,io(e,2),hi):G}function Pl(t){return b(t,ul)}function Ml(t,e){return b(t,io(e,2))}function Al(t){return t&&t.length?ti(t,ul,Ai):G}function kl(t,e){return t&&t.length?ti(t,io(e,2),Ai):G}function Dl(t){return t&&t.length?C(t,ul):0}function Ol(t,e){return t&&t.length?C(t,io(e,2)):0}w=w?Jn.defaults({},w,Jn.pick(In,En)):In;var Rl=w.Array,Nl=w.Error,Il=w.Math,Bl=w.RegExp,Fl=w.TypeError,Ul=w.Array.prototype,jl=w.Object.prototype,zl=w.String.prototype,Hl=w["__core-js_shared__"],$l=function(){var t=/[^.]+$/.exec(Hl&&Hl.keys&&Hl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Wl=w.Function.prototype.toString,ql=jl.hasOwnProperty,Gl=0,Vl=Wl.call(Object),Zl=jl.toString,Xl=In._,Yl=Bl("^"+Wl.call(ql).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=Un?w.Buffer:G,Kl=w.Symbol,Ql=w.Uint8Array,th=U(Object.getPrototypeOf,Object),eh=Kl?Kl.iterator:G,nh=w.Object.create,ih=jl.propertyIsEnumerable,rh=Ul.splice,oh=Kl?Kl.isConcatSpreadable:G,sh=w.clearTimeout!==In.clearTimeout&&w.clearTimeout,ah=w.Date&&w.Date.now!==In.Date.now&&w.Date.now,uh=w.setTimeout!==In.setTimeout&&w.setTimeout,lh=Il.ceil,hh=Il.floor,ch=Object.getOwnPropertySymbols,fh=Jl?Jl.isBuffer:G,ph=w.isFinite,dh=Ul.join,mh=U(Object.keys,Object),gh=Il.max,vh=Il.min,_h=w.parseInt,yh=Il.random,bh=zl.replace,xh=Ul.reverse,wh=zl.split,Th=so(w,"DataView"),Eh=so(w,"Map"),Ch=so(w,"Promise"),Sh=so(w,"Set"),Lh=so(w,"WeakMap"),Ph=so(w.Object,"create"),Mh=function(){var t=so(w.Object,"defineProperty"),e=so.name;return e&&e.length>2?t:G}(),Ah=Lh&&new Lh,kh=!ih.call({valueOf:1},"valueOf"),Dh={},Oh=ko(Th),Rh=ko(Eh),Nh=ko(Ch),Ih=ko(Sh),Bh=ko(Lh),Fh=Kl?Kl.prototype:G,Uh=Fh?Fh.valueOf:G,jh=Fh?Fh.toString:G;Re.templateSettings={escape:se,evaluate:ae,interpolate:ue,variable:"",imports:{_:Re}},Re.prototype=Ne.prototype,Re.prototype.constructor=Re,Ie.prototype=jn(Ne.prototype),Ie.prototype.constructor=Ie,Be.prototype=jn(Ne.prototype),Be.prototype.constructor=Be,ze.prototype.clear=He,ze.prototype["delete"]=$e,ze.prototype.get=We,ze.prototype.has=qe,ze.prototype.set=Ge,Ve.prototype.clear=Ze,Ve.prototype["delete"]=Xe,Ve.prototype.get=Ye,Ve.prototype.has=Je,Ve.prototype.set=Ke,Qe.prototype.clear=tn,Qe.prototype["delete"]=en,Qe.prototype.get=nn,Qe.prototype.has=rn,Qe.prototype.set=on,sn.prototype.add=sn.prototype.push=an,sn.prototype.has=un,ln.prototype.clear=hn,ln.prototype["delete"]=cn,ln.prototype.get=fn,ln.prototype.has=pn,ln.prototype.set=dn;var zh=Mr(ri),Hh=Mr(oi,!0),$h=Ar(),Wh=Ar(!0),qh=Ah?function(t,e){return Ah.set(t,e),t}:ul,Gh=sh||function(t){return In.clearTimeout(t)},Vh=Sh&&1/z(new Sh([,-0]))[1]==vt?function(t){return new Sh(t)}:dl,Zh=Ah?function(t){return Ah.get(t)}:dl,Xh=ch?U(ch,Object):_l,Yh=ch?function(t){for(var e=[];t;)c(e,Xh(t)),t=th(t);return e}:_l,Jh=li;(Th&&Jh(new Th(new ArrayBuffer(1)))!=$t||Eh&&Jh(new Eh)!=Dt||Ch&&Jh(Ch.resolve())!=Nt||Sh&&Jh(new Sh)!=Bt||Lh&&Jh(new Lh)!=jt)&&(Jh=function(t){var e=Zl.call(t),n=e==Rt?t.constructor:G,i=n?ko(n):G;if(i)switch(i){case Oh:return $t;case Rh:return Dt;case Nh:return Nt;case Ih:return Bt;case Bh:return jt}return e});var Kh=Hl?Oa:yl,Qh=function(){var t=0,e=0;return function(n,i){var r=Mc(),o=pt-(r-e);if(e=r,o>0){if(++t>=ft)return n}else t=0;return qh(n,i)}}(),tc=uh||function(t,e){return In.setTimeout(t,e)},ec=Mh?function(t,e,n){var i=e+"";return Mh(t,"toString",{configurable:!0,enumerable:!1,value:sl(po(i,Do(uo(i),n)))})}:ul,nc=ua(function(t){t=ou(t);var e=[];return ce.test(t)&&e.push(""),t.replace(fe,function(t,n,i,r){e.push(i?r.replace(we,"$1"):n||t)}),e}),ic=Gi(function(t,e){return Ca(t)?Kn(t,ii(e,1,Ca,!0)):[]}),rc=Gi(function(t,e){var n=Ko(e);return Ca(n)&&(n=G),Ca(t)?Kn(t,ii(e,1,Ca,!0),io(n,2)):[]}),oc=Gi(function(t,e){var n=Ko(e);return Ca(n)&&(n=G),Ca(t)?Kn(t,ii(e,1,Ca,!0),G,n):[]}),sc=Gi(function(t){var e=h(t,ur);return e.length&&e[0]===t[0]?di(e):[]}),ac=Gi(function(t){var e=Ko(t),n=h(t,ur);return e===Ko(n)?e=G:n.pop(),n.length&&n[0]===t[0]?di(n,io(e,2)):[]}),uc=Gi(function(t){var e=Ko(t),n=h(t,ur);return e===Ko(n)?e=G:n.pop(),n.length&&n[0]===t[0]?di(n,G,e):[]}),lc=Gi(es),hc=Gi(function(t,e){e=ii(e,1);var n=t?t.length:0,i=kn(t,e);return Hi(t,h(e,function(t){return go(t,n)?+t:t}).sort(br)),i}),cc=Gi(function(t){return er(ii(t,1,Ca,!0))}),fc=Gi(function(t){var e=Ko(t);return Ca(e)&&(e=G),er(ii(t,1,Ca,!0),io(e,2))}),pc=Gi(function(t){var e=Ko(t);return Ca(e)&&(e=G),er(ii(t,1,Ca,!0),G,e)}),dc=Gi(function(t,e){return Ca(t)?Kn(t,e):[]}),mc=Gi(function(t){return sr(a(t,Ca))}),gc=Gi(function(t){var e=Ko(t);return Ca(e)&&(e=G),sr(a(t,Ca),io(e,2))}),vc=Gi(function(t){var e=Ko(t);return Ca(e)&&(e=G),sr(a(t,Ca),G,e)}),_c=Gi(Ts),yc=Gi(function(t){var e=t.length,n=e>1?t[e-1]:G;return n="function"==typeof n?(t.pop(),n):G,Es(t,n)}),bc=Gi(function(t){t=ii(t,1);var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return kn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Be&&go(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Ms,args:[r],thisArg:G}),new Ie(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(G),t})):this.thru(r)}),xc=Lr(function(t,e,n){ql.call(t,n)?++t[n]:t[n]=1}),wc=Ir(Ho),Tc=Ir($o),Ec=Lr(function(t,e,n){ql.call(t,n)?t[n].push(e):t[n]=[e]}),Cc=Gi(function(t,e,i){var r=-1,o="function"==typeof e,s=_o(e),a=Ea(t)?Rl(t.length):[];return zh(t,function(t){var u=o?e:s&&null!=t?t[e]:G;a[++r]=u?n(u,t,i):gi(t,e,i)}),a}),Sc=Lr(function(t,e,n){t[n]=e}),Lc=Lr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Pc=Gi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&vo(t,e[0],e[1])?e=[]:n>2&&vo(e[0],e[1],e[2])&&(e=[e[0]]),Bi(t,ii(e,1),[])}),Mc=ah||function(){return In.Date.now()},Ac=Gi(function(t,e,n){var i=K;if(n.length){var r=j(n,no(Ac));i|=it}return Xr(t,i,e,n,r)}),kc=Gi(function(t,e,n){var i=K|Q;if(n.length){var r=j(n,no(kc));i|=it}return Xr(e,i,t,n,r)}),Dc=Gi(function(t,e){return zn(t,1,e)}),Oc=Gi(function(t,e,n){return zn(t,nu(e)||0,n)});ua.Cache=Qe;var Rc=Gi(function(t,e){e=1==e.length&&jc(e[0])?h(e[0],P(io())):h(ii(e,1),P(io()));var i=e.length;return Gi(function(r){for(var o=-1,s=vh(r.length,i);++o<s;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),Nc=Gi(function(t,e){var n=j(e,no(Nc));return Xr(t,it,G,e,n)}),Ic=Gi(function(t,e){var n=j(e,no(Ic));return Xr(t,rt,G,e,n)}),Bc=Gi(function(t,e){return Xr(t,st,G,G,G,ii(e,1))}),Fc=qr(hi),Uc=qr(function(t,e){return t>=e}),jc=Rl.isArray,zc=Hn?P(Hn):vi,Hc=fh||yl,$c=$n?P($n):_i,Wc=Wn?P(Wn):xi,qc=qn?P(qn):Ei,Gc=Gn?P(Gn):Ci,Vc=Vn?P(Vn):Si,Zc=qr(Ai),Xc=qr(function(t,e){return e>=t}),Yc=Pr(function(t,e){if(kh||wo(e)||Ea(e))return void Cr(e,_u(e),t);for(var n in e)ql.call(e,n)&&bn(t,n,e[n])}),Jc=Pr(function(t,e){Cr(e,yu(e),t)}),Kc=Pr(function(t,e,n,i){Cr(e,yu(e),t,i)}),Qc=Pr(function(t,e,n,i){Cr(e,_u(e),t,i)}),tf=Gi(function(t,e){return kn(t,ii(e,1))}),ef=Gi(function(t){return t.push(G,gn),n(Kc,G,t)}),nf=Gi(function(t){return t.push(G,So),n(uf,G,t)}),rf=Ur(function(t,e,n){t[e]=n},sl(ul)),of=Ur(function(t,e,n){ql.call(t,e)?t[e].push(n):t[e]=[n]},io),sf=Gi(gi),af=Pr(function(t,e,n){Ri(t,e,n)}),uf=Pr(function(t,e,n,i){Ri(t,e,n,i)}),lf=Gi(function(t,e){return null==t?{}:(e=h(ii(e,1),Ao),Fi(t,Kn(to(t),e)))}),hf=Gi(function(t,e){return null==t?{}:Fi(t,h(ii(e,1),Ao))}),cf=Zr(_u),ff=Zr(yu),pf=Or(function(t,e,n){return e=e.toLowerCase(),t+(n?Iu(e):e)}),df=Or(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),mf=Or(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),gf=Dr("toLowerCase"),vf=Or(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),_f=Or(function(t,e,n){return t+(n?" ":"")+bf(e)}),yf=Or(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),bf=Dr("toUpperCase"),xf=Gi(function(t,e){try{return n(t,G,e)}catch(i){return ka(i)?i:new Nl(i)}}),wf=Gi(function(t,e){return r(ii(e,1),function(e){e=Ao(e),t[e]=Ac(t[e],t)}),t}),Tf=Br(),Ef=Br(!0),Cf=Gi(function(t,e){return function(n){return gi(n,t,e)}}),Sf=Gi(function(t,e){return function(n){return gi(t,n,e)}}),Lf=zr(h),Pf=zr(s),Mf=zr(d),Af=Wr(),kf=Wr(!0),Df=jr(function(t,e){return t+e},0),Of=Vr("ceil"),Rf=jr(function(t,e){return t/e},1),Nf=Vr("floor"),If=jr(function(t,e){return t*e},1),Bf=Vr("round"),Ff=jr(function(t,e){return t-e},0);return Re.after=ea,Re.ary=na,Re.assign=Yc,Re.assignIn=Jc,Re.assignInWith=Kc,Re.assignWith=Qc,Re.at=tf,Re.before=ia,Re.bind=Ac,Re.bindAll=wf,Re.bindKey=kc,Re.castArray=ga,Re.chain=Ls,Re.chunk=Ro,Re.compact=No,Re.concat=Io,Re.cond=rl,Re.conforms=ol,Re.constant=sl,Re.countBy=xc,Re.create=su,Re.curry=ra,Re.curryRight=oa,Re.debounce=sa,Re.defaults=ef,Re.defaultsDeep=nf,Re.defer=Dc,Re.delay=Oc,Re.difference=ic,Re.differenceBy=rc,Re.differenceWith=oc,Re.drop=Bo,Re.dropRight=Fo,Re.dropRightWhile=Uo,Re.dropWhile=jo,Re.fill=zo,Re.filter=Fs,Re.flatMap=Us,Re.flatMapDeep=js,Re.flatMapDepth=zs,Re.flatten=Wo,Re.flattenDeep=qo,Re.flattenDepth=Go,Re.flip=aa,Re.flow=Tf,Re.flowRight=Ef,Re.fromPairs=Vo,Re.functions=pu,Re.functionsIn=du,Re.groupBy=Ec,Re.initial=Yo,Re.intersection=sc,Re.intersectionBy=ac,Re.intersectionWith=uc,Re.invert=rf,Re.invertBy=of,Re.invokeMap=Cc,Re.iteratee=ll,Re.keyBy=Sc,Re.keys=_u,Re.keysIn=yu,Re.map=qs,Re.mapKeys=bu,Re.mapValues=xu,Re.matches=hl,Re.matchesProperty=cl,Re.memoize=ua,Re.merge=af,Re.mergeWith=uf,Re.method=Cf,Re.methodOf=Sf,Re.mixin=fl,Re.negate=la,Re.nthArg=ml,Re.omit=lf,Re.omitBy=wu,Re.once=ha,Re.orderBy=Gs,Re.over=Lf,Re.overArgs=Rc,Re.overEvery=Pf,Re.overSome=Mf,Re.partial=Nc,Re.partialRight=Ic,Re.partition=Lc,Re.pick=hf,Re.pickBy=Tu,Re.property=gl,Re.propertyOf=vl,Re.pull=lc,Re.pullAll=es,Re.pullAllBy=ns,Re.pullAllWith=is,Re.pullAt=hc,Re.range=Af,Re.rangeRight=kf,Re.rearg=Bc,Re.reject=Xs,Re.remove=rs,Re.rest=ca,Re.reverse=os,Re.sampleSize=Js,Re.set=Cu,Re.setWith=Su,Re.shuffle=Ks,Re.slice=ss,Re.sortBy=Pc,Re.sortedUniq=ps,Re.sortedUniqBy=ds,Re.split=Vu,Re.spread=fa,Re.tail=ms,Re.take=gs,Re.takeRight=vs,Re.takeRightWhile=_s,Re.takeWhile=ys,Re.tap=Ps,Re.throttle=pa,Re.thru=Ms,Re.toArray=Ka,Re.toPairs=cf,Re.toPairsIn=ff,Re.toPath=El,Re.toPlainObject=iu,Re.transform=Lu,Re.unary=da,Re.union=cc,Re.unionBy=fc,Re.unionWith=pc,Re.uniq=bs,Re.uniqBy=xs,Re.uniqWith=ws,Re.unset=Pu,Re.unzip=Ts,Re.unzipWith=Es,Re.update=Mu,Re.updateWith=Au,Re.values=ku,Re.valuesIn=Du,Re.without=dc,Re.words=il,Re.wrap=ma,Re.xor=mc,Re.xorBy=gc,Re.xorWith=vc,Re.zip=_c,Re.zipObject=Cs,Re.zipObjectDeep=Ss,Re.zipWith=yc,Re.entries=cf,Re.entriesIn=ff,Re.extend=Jc,Re.extendWith=Kc,fl(Re,Re),Re.add=Df,Re.attempt=xf,Re.camelCase=pf,Re.capitalize=Iu,Re.ceil=Of,Re.clamp=Ou,Re.clone=va,Re.cloneDeep=ya,Re.cloneDeepWith=ba,Re.cloneWith=_a,Re.conformsTo=xa,Re.deburr=Bu,Re.defaultTo=al,Re.divide=Rf,Re.endsWith=Fu,Re.eq=wa,Re.escape=Uu,Re.escapeRegExp=ju,Re.every=Bs,Re.find=wc,Re.findIndex=Ho,Re.findKey=au,Re.findLast=Tc,Re.findLastIndex=$o,Re.findLastKey=uu,Re.floor=Nf,Re.forEach=Hs,Re.forEachRight=$s,Re.forIn=lu,Re.forInRight=hu,Re.forOwn=cu,Re.forOwnRight=fu,Re.get=mu,Re.gt=Fc,Re.gte=Uc,Re.has=gu,Re.hasIn=vu,Re.head=Zo,Re.identity=ul,Re.includes=Ws,Re.indexOf=Xo,Re.inRange=Ru,Re.invoke=sf,Re.isArguments=Ta,Re.isArray=jc,Re.isArrayBuffer=zc,Re.isArrayLike=Ea,Re.isArrayLikeObject=Ca,Re.isBoolean=Sa,Re.isBuffer=Hc,Re.isDate=$c,Re.isElement=La,Re.isEmpty=Pa,Re.isEqual=Ma,Re.isEqualWith=Aa,Re.isError=ka,Re.isFinite=Da,Re.isFunction=Oa,Re.isInteger=Ra,Re.isLength=Na,Re.isMap=Wc,Re.isMatch=Fa,Re.isMatchWith=Ua,Re.isNaN=ja,Re.isNative=za,Re.isNil=$a,Re.isNull=Ha,Re.isNumber=Wa,Re.isObject=Ia,Re.isObjectLike=Ba,Re.isPlainObject=qa,Re.isRegExp=qc,Re.isSafeInteger=Ga,Re.isSet=Gc,Re.isString=Va,Re.isSymbol=Za,Re.isTypedArray=Vc,Re.isUndefined=Xa,Re.isWeakMap=Ya,Re.isWeakSet=Ja,Re.join=Jo,Re.kebabCase=df,Re.last=Ko,Re.lastIndexOf=Qo,Re.lowerCase=mf,Re.lowerFirst=gf,Re.lt=Zc,Re.lte=Xc,Re.max=Sl,Re.maxBy=Ll,Re.mean=Pl,Re.meanBy=Ml,Re.min=Al,Re.minBy=kl,Re.stubArray=_l,Re.stubFalse=yl,Re.stubObject=bl,Re.stubString=xl,Re.stubTrue=wl,Re.multiply=If,Re.nth=ts,Re.noConflict=pl,Re.noop=dl,Re.now=Mc,Re.pad=zu,Re.padEnd=Hu,Re.padStart=$u,Re.parseInt=Wu,Re.random=Nu,Re.reduce=Vs,Re.reduceRight=Zs,Re.repeat=qu,Re.replace=Gu,Re.result=Eu,Re.round=Bf,Re.runInContext=q,Re.sample=Ys,Re.size=Qs,Re.snakeCase=vf,Re.some=ta,Re.sortedIndex=as,Re.sortedIndexBy=us,Re.sortedIndexOf=ls,Re.sortedLastIndex=hs,Re.sortedLastIndexBy=cs,Re.sortedLastIndexOf=fs,Re.startCase=_f,Re.startsWith=Zu,Re.subtract=Ff,Re.sum=Dl,Re.sumBy=Ol,Re.template=Xu,Re.times=Tl,Re.toFinite=Qa,Re.toInteger=tu,Re.toLength=eu,Re.toLower=Yu,Re.toNumber=nu,Re.toSafeInteger=ru,Re.toString=ou,Re.toUpper=Ju,Re.trim=Ku,Re.trimEnd=Qu,Re.trimStart=tl,Re.truncate=el,Re.unescape=nl,Re.uniqueId=Cl,Re.upperCase=yf,Re.upperFirst=bf,Re.each=Hs,Re.eachRight=$s,Re.first=Zo,fl(Re,function(){var t={};return ri(Re,function(e,n){ql.call(Re.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),Re.VERSION=V,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Re[t].placeholder=Re}),r(["drop","take"],function(t,e){Be.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Be(this);n=n===G?1:gh(tu(n),0);var r=this.clone();return i?r.__takeCount__=vh(n,r.__takeCount__):r.__views__.push({size:vh(n,xt),type:t+(r.__dir__<0?"Right":"")}),r},Be.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==dt||n==gt;Be.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:io(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");Be.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Be.prototype[t]=function(){return this.__filtered__?new Be(this):this[n](1)}}),Be.prototype.compact=function(){return this.filter(ul)},Be.prototype.find=function(t){return this.filter(t).head()},
Be.prototype.findLast=function(t){return this.reverse().find(t)},Be.prototype.invokeMap=Gi(function(t,e){return"function"==typeof t?new Be(this):this.map(function(n){return gi(n,t,e)})}),Be.prototype.reject=function(t){return this.filter(la(io(t)))},Be.prototype.slice=function(t,e){t=tu(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Be(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==G&&(e=tu(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Be.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Be.prototype.toArray=function(){return this.take(xt)},ri(Be.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Re[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(Re.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,a=e instanceof Be,u=s[0],l=a||jc(e),h=function(t){var e=r.apply(Re,c([t],s));return i&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(a=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=o&&!f,m=a&&!p;if(!o&&l){e=m?e:new Be(this);var g=t.apply(e,s);return g.__actions__.push({func:Ms,args:[h],thisArg:G}),new Ie(g,f)}return d&&m?t.apply(this,s):(g=this.thru(h),d?i?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=Ul[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Re.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(jc(r)?r:[],t)}return this[n](function(n){return e.apply(jc(n)?n:[],t)})}}),ri(Be.prototype,function(t,e){var n=Re[e];if(n){var i=n.name+"",r=Dh[i]||(Dh[i]=[]);r.push({name:e,func:n})}}),Dh[Fr(G,Q).name]=[{name:"wrapper",func:G}],Be.prototype.clone=Fe,Be.prototype.reverse=Ue,Be.prototype.value=je,Re.prototype.at=bc,Re.prototype.chain=As,Re.prototype.commit=ks,Re.prototype.next=Ds,Re.prototype.plant=Rs,Re.prototype.reverse=Ns,Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=Is,Re.prototype.first=Re.prototype.head,eh&&(Re.prototype[eh]=Os),Re}var G,V="4.14.2",Z=200,X="Expected a function",Y="__lodash_hash_undefined__",J="__lodash_placeholder__",K=1,Q=2,tt=4,et=8,nt=16,it=32,rt=64,ot=128,st=256,at=512,ut=1,lt=2,ht=30,ct="...",ft=150,pt=16,dt=1,mt=2,gt=3,vt=1/0,_t=9007199254740991,yt=1.7976931348623157e308,bt=NaN,xt=4294967295,wt=xt-1,Tt=xt>>>1,Et=[["ary",ot],["bind",K],["bindKey",Q],["curry",et],["curryRight",nt],["flip",at],["partial",it],["partialRight",rt],["rearg",st]],Ct="[object Arguments]",St="[object Array]",Lt="[object Boolean]",Pt="[object Date]",Mt="[object Error]",At="[object Function]",kt="[object GeneratorFunction]",Dt="[object Map]",Ot="[object Number]",Rt="[object Object]",Nt="[object Promise]",It="[object RegExp]",Bt="[object Set]",Ft="[object String]",Ut="[object Symbol]",jt="[object WeakMap]",zt="[object WeakSet]",Ht="[object ArrayBuffer]",$t="[object DataView]",Wt="[object Float32Array]",qt="[object Float64Array]",Gt="[object Int8Array]",Vt="[object Int16Array]",Zt="[object Int32Array]",Xt="[object Uint8Array]",Yt="[object Uint8ClampedArray]",Jt="[object Uint16Array]",Kt="[object Uint32Array]",Qt=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39|#96);/g,ie=/[&<>"'`]/g,re=RegExp(ne.source),oe=RegExp(ie.source),se=/<%-([\s\S]+?)%>/g,ae=/<%([\s\S]+?)%>/g,ue=/<%=([\s\S]+?)%>/g,le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,he=/^\w*$/,ce=/^\./,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pe=/[\\^$.*+?()[\]{}|]/g,de=RegExp(pe.source),me=/^\s+|\s+$/g,ge=/^\s+/,ve=/\s+$/,_e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ye=/\{\n\/\* \[wrapped with (.+)\] \*/,be=/,? & /,xe=/[a-zA-Z0-9]+/g,we=/\\(\\)?/g,Te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ee=/\w*$/,Ce=/^0x/i,Se=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,Pe=/^\[object .+?Constructor\]$/,Me=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\d*)$/,ke=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,De=/($^)/,Oe=/['\n\r\u2028\u2029\\]/g,Re="\\ud800-\\udfff",Ne="\\u0300-\\u036f\\ufe20-\\ufe23",Ie="\\u20d0-\\u20f0",Be="\\u2700-\\u27bf",Fe="a-z\\xdf-\\xf6\\xf8-\\xff",Ue="\\xac\\xb1\\xd7\\xf7",je="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ze="\\u2000-\\u206f",He=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$e="A-Z\\xc0-\\xd6\\xd8-\\xde",We="\\ufe0e\\ufe0f",qe=Ue+je+ze+He,Ge="['â]",Ve="["+Re+"]",Ze="["+qe+"]",Xe="["+Ne+Ie+"]",Ye="\\d+",Je="["+Be+"]",Ke="["+Fe+"]",Qe="[^"+Re+qe+Ye+Be+Fe+$e+"]",tn="\\ud83c[\\udffb-\\udfff]",en="(?:"+Xe+"|"+tn+")",nn="[^"+Re+"]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="["+$e+"]",an="\\u200d",un="(?:"+Ke+"|"+Qe+")",ln="(?:"+sn+"|"+Qe+")",hn="(?:"+Ge+"(?:d|ll|m|re|s|t|ve))?",cn="(?:"+Ge+"(?:D|LL|M|RE|S|T|VE))?",fn=en+"?",pn="["+We+"]?",dn="(?:"+an+"(?:"+[nn,rn,on].join("|")+")"+pn+fn+")*",mn=pn+fn+dn,gn="(?:"+[Je,rn,on].join("|")+")"+mn,vn="(?:"+[nn+Xe+"?",Xe,rn,on,Ve].join("|")+")",_n=RegExp(Ge,"g"),yn=RegExp(Xe,"g"),bn=RegExp(tn+"(?="+tn+")|"+vn+mn,"g"),xn=RegExp([sn+"?"+Ke+"+"+hn+"(?="+[Ze,sn,"$"].join("|")+")",ln+"+"+cn+"(?="+[Ze,sn+un,"$"].join("|")+")",sn+"?"+un+"+"+hn,sn+"+"+cn,Ye,gn].join("|"),"g"),wn=RegExp("["+an+Re+Ne+Ie+We+"]"),Tn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,En=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cn=-1,Sn={};Sn[Wt]=Sn[qt]=Sn[Gt]=Sn[Vt]=Sn[Zt]=Sn[Xt]=Sn[Yt]=Sn[Jt]=Sn[Kt]=!0,Sn[Ct]=Sn[St]=Sn[Ht]=Sn[Lt]=Sn[$t]=Sn[Pt]=Sn[Mt]=Sn[At]=Sn[Dt]=Sn[Ot]=Sn[Rt]=Sn[It]=Sn[Bt]=Sn[Ft]=Sn[jt]=!1;var Ln={};Ln[Ct]=Ln[St]=Ln[Ht]=Ln[$t]=Ln[Lt]=Ln[Pt]=Ln[Wt]=Ln[qt]=Ln[Gt]=Ln[Vt]=Ln[Zt]=Ln[Dt]=Ln[Ot]=Ln[Rt]=Ln[It]=Ln[Bt]=Ln[Ft]=Ln[Ut]=Ln[Xt]=Ln[Yt]=Ln[Jt]=Ln[Kt]=!0,Ln[Mt]=Ln[At]=Ln[jt]=!1;var Pn={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},An={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dn=parseFloat,On=parseInt,Rn="object"==typeof global&&global&&global.Object===Object&&global,Nn="object"==typeof self&&self&&self.Object===Object&&self,In=Rn||Nn||Function("return this")(),Bn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fn=Bn&&"object"==typeof module&&module&&!module.nodeType&&module,Un=Fn&&Fn.exports===Bn,jn=Un&&Rn.process,zn=function(){try{return jn&&jn.binding("util")}catch(t){}}(),Hn=zn&&zn.isArrayBuffer,$n=zn&&zn.isDate,Wn=zn&&zn.isMap,qn=zn&&zn.isRegExp,Gn=zn&&zn.isSet,Vn=zn&&zn.isTypedArray,Zn=w(Pn),Xn=w(Mn),Yn=w(An),Jn=q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(In._=Jn,define(function(){return Jn})):Fn?((Fn.exports=Jn)._=Jn,Bn._=Jn):In._=Jn}.call(this),function(t,e,n){var i=t.L,r={};r.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd&&define(r),r.noConflict=function(){return t.L=i,this},t.L=r,r.Util={extend:function(t){var e,n,i,r,o=Array.prototype.slice.call(arguments,1);for(n=0,i=o.length;i>n;n++){r=o[n]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,n){var i,r;return function o(){var s=arguments;return i?void(r=!0):(i=!0,setTimeout(function(){i=!1,r&&(o.apply(n,s),r=!1)},e),void t.apply(n,s))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return r.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=r.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var r=e[i];if(r===n)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,r=["webkit","moz","o","ms"];for(n=0;n<r.length&&!i;n++)i=t[r[n]+e];return i}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||n,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};r.Util.requestAnimFrame=function(e,i,s,a){return e=r.bind(e,i),s&&o===n?void e():o.call(t,e,a)},r.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(r.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=r.extend({},i.options,t.options)),r.extend(i,t),i._initHooks=[];var s=this;return e.__super__=s.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},r.Class.include=function(t){r.extend(this.prototype,t)},r.Class.mergeOptions=function(t){r.extend(this.prototype.options,t)},r.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var o="_leaflet_events";r.Mixin={},r.Mixin.Events={addEventListener:function(t,e,n){if(r.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,s,a,u,l,h,c,f=this[o]=this[o]||{},p=n&&n!==this&&r.stamp(n);for(t=r.Util.splitWords(t),i=0,s=t.length;s>i;i++)a={action:e,context:n||this},u=t[i],p?(l=u+"_idx",h=l+"_len",c=f[l]=f[l]||{},c[p]||(c[p]=[],f[h]=(f[h]||0)+1),c[p].push(a)):(f[u]=f[u]||[],f[u].push(a));return this},hasEventListeners:function(t){var e=this[o];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[o])return this;if(!t)return this.clearAllEventListeners();if(r.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,s,a,u,l,h,c,f,p,d=this[o],m=n&&n!==this&&r.stamp(n);for(t=r.Util.splitWords(t),i=0,s=t.length;s>i;i++)if(a=t[i],h=a+"_idx",c=h+"_len",f=d[h],e){if(u=m&&f?f[m]:d[a]){for(l=u.length-1;l>=0;l--)u[l].action!==e||n&&u[l].context!==n||(p=u.splice(l,1),p[0].action=r.Util.falseFn);n&&f&&0===u.length&&(delete f[m],d[c]--)}}else delete d[a],delete d[h],delete d[c];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,s,a,u,l=r.Util.extend({},e,{type:t,target:this}),h=this[o];if(h[t])for(n=h[t].slice(),i=0,s=n.length;s>i;i++)n[i].action.call(n[i].context,l);a=h[t+"_idx"];for(u in a)if(n=a[u].slice())for(i=0,s=n.length;s>i;i++)n[i].action.call(n[i].context,l);return this},addOneTimeEventListener:function(t,e,n){if(r.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=r.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},r.Mixin.Events.on=r.Mixin.Events.addEventListener,r.Mixin.Events.off=r.Mixin.Events.removeEventListener,r.Mixin.Events.once=r.Mixin.Events.addOneTimeEventListener,r.Mixin.Events.fire=r.Mixin.Events.fireEvent,function(){var i="ActiveXObject"in t,o=i&&!e.addEventListener,s=navigator.userAgent.toLowerCase(),a=-1!==s.indexOf("webkit"),u=-1!==s.indexOf("chrome"),l=-1!==s.indexOf("phantom"),h=-1!==s.indexOf("android"),c=-1!==s.search("android [23]"),f=-1!==s.indexOf("gecko"),p=typeof orientation!=n+"",d=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||d,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=e.documentElement,_=i&&"transition"in v.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,b="MozPerspective"in v.style,x="OTransition"in v.style,w=!t.L_DISABLE_3D&&(_||y||b||x)&&!l,T=!t.L_NO_TOUCH&&!l&&(m||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);r.Browser={ie:i,ielt9:o,webkit:a,gecko:f&&!a&&!t.opera&&!i,android:h,android23:c,chrome:u,ie3d:_,webkit3d:y,gecko3d:b,opera3d:x,any3d:w,mobile:p,mobileWebkit:p&&a,mobileWebkit3d:p&&y,mobileOpera:p&&t.opera,touch:T,msPointer:d,pointer:m,retina:g}}(),r.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(t){return this.clone()._add(r.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(r.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=r.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=r.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=r.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(t,e,i){return t instanceof r.Point?t:r.Util.isArray(t)?new r.Point(t[0],t[1]):t===n||null===t?t:new r.Point(t,e,i)},r.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},r.Bounds.prototype={extend:function(t){return t=r.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof r.Point?r.point(t):r.bounds(t),t instanceof r.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=r.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(t,e){return!t||t instanceof r.Bounds?t:new r.Bounds(t,e)},r.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},r.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new r.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},r.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,n){var i=t.style[n];if(!i&&t.currentStyle&&(i=t.currentStyle[n]),(!i||"auto"===i)&&e.defaultView){var r=e.defaultView.getComputedStyle(t,null);i=r?r[n]:null}return"auto"===i?null:i},getViewportOffset:function(t){var n,i=0,o=0,s=t,a=e.body,u=e.documentElement;do{if(i+=s.offsetTop||0,o+=s.offsetLeft||0,i+=parseInt(r.DomUtil.getStyle(s,"borderTopWidth"),10)||0,o+=parseInt(r.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,n=r.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===n)break;if("fixed"===n){i+=a.scrollTop||u.scrollTop||0,o+=a.scrollLeft||u.scrollLeft||0;break}if("relative"===n&&!s.offsetLeft){var l=r.DomUtil.getStyle(s,"width"),h=r.DomUtil.getStyle(s,"max-width"),c=s.getBoundingClientRect();("none"!==l||"none"!==h)&&(o+=c.left+s.clientLeft),i+=c.top+(a.scrollTop||u.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;i-=s.scrollTop||0,o-=s.scrollLeft||0,s=s.parentNode}while(s);return new r.Point(o,i)},documentIsLtr:function(){return r.DomUtil._docIsLtrCached||(r.DomUtil._docIsLtrCached=!0,r.DomUtil._docIsLtr="ltr"===r.DomUtil.getStyle(e.body,"direction")),r.DomUtil._docIsLtr},create:function(t,n,i){var r=e.createElement(t);return r.className=n,i&&i.appendChild(r),r},hasClass:function(t,e){if(t.classList!==n)return t.classList.contains(e);var i=r.DomUtil._getClass(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)},addClass:function(t,e){if(t.classList!==n)for(var i=r.Util.splitWords(e),o=0,s=i.length;s>o;o++)t.classList.add(i[o]);else if(!r.DomUtil.hasClass(t,e)){var a=r.DomUtil._getClass(t);r.DomUtil._setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==n?t.classList.remove(e):r.DomUtil._setClass(t,r.Util.trim((" "+r.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===n?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var n=e.documentElement.style,i=0;i<t.length;i++)if(t[i]in n)return t[i];return!1},getTranslateString:function(t){var e=r.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=r.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&r.Browser.any3d?t.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),r.DomUtil.TRANSITION_END="webkitTransition"===r.DomUtil.TRANSITION||"OTransition"===r.DomUtil.TRANSITION?r.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)r.extend(r.DomUtil,{disableTextSelection:function(){r.DomEvent.on(t,"selectstart",r.DomEvent.preventDefault)},enableTextSelection:function(){r.DomEvent.off(t,"selectstart",r.DomEvent.preventDefault)}});else{var n=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.extend(r.DomUtil,{disableTextSelection:function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},enableTextSelection:function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}})}r.extend(r.DomUtil,{disableImageDrag:function(){r.DomEvent.on(t,"dragstart",r.DomEvent.preventDefault)},enableImageDrag:function(){r.DomEvent.off(t,"dragstart",r.DomEvent.preventDefault)}})}(),r.LatLng=function(t,e,i){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,i!==n&&(this.alt=parseFloat(i))},r.extend(r.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),r.LatLng.prototype={equals:function(t){if(!t)return!1;t=r.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=r.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+r.Util.formatNum(this.lat,t)+", "+r.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=r.latLng(t);var e=6378137,n=r.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,o=(t.lng-this.lng)*n,s=this.lat*n,a=t.lat*n,u=Math.sin(i/2),l=Math.sin(o/2),h=u*u+l*l*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new r.LatLng(this.lat,n)}},r.latLng=function(t,e){return t instanceof r.LatLng?t:r.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new r.LatLng(t[0],t[1],t[2]):null:t===n||null===t?t:"object"==typeof t&&"lat"in t?new r.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===n?null:new r.LatLng(t,e)},r.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},r.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=r.latLng(t);return t=null!==e?e:r.latLngBounds(t),t instanceof r.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new r.LatLng(t.lat,t.lng),this._northEast=new r.LatLng(t.lat,t.lng)):t instanceof r.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new r.LatLngBounds(new r.LatLng(e.lat-i,e.lng-o),new r.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof r.LatLng?r.latLng(t):r.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof r.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=r.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=r.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(t,e){return!t||t instanceof r.LatLngBounds?t:new r.LatLngBounds(t,e)},r.Projection={},r.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=r.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=t.lng*e,s=i*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new r.Point(o,s)},unproject:function(t){var e=r.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new r.LatLng(i,n)}},r.Projection.LonLat={project:function(t){return new r.Point(t.lng,t.lat)},unproject:function(t){return new r.LatLng(t.y,t.x)}},r.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return r.point(e,e)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),r.CRS.EPSG3857=r.extend({},r.CRS,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:new r.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/360,.5,-1/360,.5)}),r.Map=r.Class.extend({includes:r.Mixin.Events,options:{crs:r.CRS.EPSG3857,fadeAnimation:r.DomUtil.TRANSITION&&!r.Browser.android23,trackResize:!0,markerZoomAnimation:r.DomUtil.TRANSITION&&r.Browser.any3d},initialize:function(t,e){e=r.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==n&&this.setView(r.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===n?this.getZoom():e,this._resetView(r.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),s=t instanceof r.Point?t:this.latLngToContainerPoint(t),a=s.subtract(o).multiplyBy(1-1/i),u=this.containerPointToLatLng(o.add(a));return this.setView(u,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():r.latLngBounds(t);var n=r.point(e.paddingTopLeft||e.padding||[0,0]),i=r.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o=e.maxZoom?Math.min(e.maxZoom,o):o;var s=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),u=this.project(t.getNorthEast(),o),l=this.unproject(a.add(u).divideBy(2).add(s),o);return this.setView(l,o,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(r.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=r.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=r.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&t instanceof r.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=r.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&t instanceof r.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?r.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=r.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),s=i.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=n}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new r.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom===n?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=r.latLngBounds(t);var i,o=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),u=t.getNorthWest(),l=t.getSouthEast(),h=!0;n=r.point(n||[0,0]);do o++,i=this.project(l,o).subtract(this.project(u,o)).add(n),h=e?i.x<a.x||i.y<a.y:a.contains(i);while(h&&s>=o);return h&&e?null:e?o:o-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new r.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(r.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(r.point(t),e)},layerPointToLatLng:function(t){var e=r.point(t).add(this.getPixelOrigin());
return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(r.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return r.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return r.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(r.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(t)))},mouseEventToContainerPoint:function(t){return r.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=r.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=r.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(r.DomUtil.addClass(t.markerPane,e),r.DomUtil.addClass(t.shadowPane,e),r.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return r.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?r.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var o=this._zoom!==e;i||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,i=-(1/0),r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(i=Math.max(i,o.options.maxZoom))}t===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=i,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(r.DomEvent){e=e||"on",r.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=o.length;i>n;n++)r.DomEvent[e](this._container,o[n],this._fireMouseEvent,this);this.options.trackResize&&r.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||r.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!r.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&r.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),o=this.layerPointToLatLng(i);this.fire(e,{latlng:o,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),s=new r.Bounds(i.subtract(o),i.add(o)),a=this._getBoundsOffset(s,n,e);return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new r.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),o=this.project(e.getSouthEast(),n).subtract(t.max),s=this._rebound(i.x,-o.x),a=this._rebound(i.y,-o.y);return new r.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),r.map=function(t,e){return new r.Map(t,e)},r.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=r.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*o,u=i*e,l=s/o,h=Math.sqrt(1-l*l),c=h*Math.sin(u);c=Math.pow((1-c)/(1+c),.5*h);var f=Math.tan(.5*(.5*Math.PI-u))/c;return u=-o*Math.log(f),new r.Point(a,u)},unproject:function(t){for(var e,n=r.LatLng.RAD_TO_DEG,i=this.R_MAJOR,o=this.R_MINOR,s=t.x*n/i,a=o/i,u=Math.sqrt(1-a*a),l=Math.exp(-t.y/i),h=Math.PI/2-2*Math.atan(l),c=15,f=1e-7,p=c,d=.1;Math.abs(d)>f&&--p>0;)e=u*Math.sin(h),d=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*u))-h,h+=d;return new r.LatLng(h*n,s)}},r.CRS.EPSG3395=r.extend({},r.CRS,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var t=r.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new r.Transformation(n,.5,-n,.5)}()}),r.TileLayer=r.Class.extend({includes:r.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:r.Browser.mobile,updateWhenIdle:r.Browser.mobile},initialize:function(t,e){e=r.setOptions(this,e),e.detectRetina&&r.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=r.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=r.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,r,o=t.children,s=-e(1/0,-(1/0));for(i=0,r=o.length;r>i;i++)o[i]!==this._container&&(n=parseInt(o[i].style.zIndex,10),isNaN(n)||(s=e(s,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(r.Browser.ielt9)for(t in e)r.DomUtil.setOpacity(e[t],this.options.opacity);else r.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=r.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=r.DomUtil.create("div",e,this._container),this._tileContainer=r.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var o=r.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(t){var n,i,o,s=[],a=t.getCenter();for(n=t.min.y;n<=t.max.y;n++)for(i=t.min.x;i<=t.max.x;i++)o=new r.Point(i,n),this._tileShouldBeLoaded(o)&&s.push(o);var u=s.length;if(0!==u){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=u,i=0;u>i;i++)this._addTile(s[i],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),r=t.multiplyBy(i),o=r.add([i,i]),s=this._map.unproject(r),a=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,r;for(r in this._tiles)e=r.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(r.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),r.Browser.android||(e.onload=null,e.src=r.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();r.DomUtil.setPosition(i,n,r.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return r.Util.template(this._url,r.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=r.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity!==n&&r.DomUtil.setOpacity(t,this.options.opacity),r.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&r.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(r.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==r.Util.emptyImageUrl&&(r.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),r.tileLayer=function(t,e){return new r.TileLayer(t,e)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=r.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&r.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var o in e)this.options.hasOwnProperty(o)||"crs"===o||(n[o]=e[o]);this.wmsParams=n,r.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),o=i.add([n,n]),s=this._crs.project(e.unproject(i,t.z)),a=this._crs.project(e.unproject(o,t.z)),u=this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[a.y,s.x,s.y,a.x].join(","):[s.x,a.y,a.x,s.y].join(","),l=r.Util.template(this._url,{s:this._getSubdomain(t)});return l+r.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+u},setParams:function(t,e){return r.extend(this.wmsParams,t),e||this.redraw(),this}}),r.tileLayer.wms=function(t,e){return new r.TileLayer.WMS(t,e)},r.TileLayer.Canvas=r.TileLayer.extend({options:{async:!1},initialize:function(t){r.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=r.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=r.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),r.tileLayer.canvas=function(t){return new r.TileLayer.Canvas(t)},r.ImageOverlay=r.Class.extend({includes:r.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=r.latLngBounds(e),r.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&r.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=r.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&r.Browser.any3d?r.DomUtil.addClass(this._image,"leaflet-zoom-animated"):r.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),r.extend(this._image,{galleryimg:"no",onselectstart:r.Util.falseFn,onmousemove:r.Util.falseFn,onload:r.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(o,t.zoom,t.center),u=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),l=a._add(u._multiplyBy(.5*(1-1/i)));n.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(l)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);r.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(t,e,n){return new r.ImageOverlay(t,e,n)},r.Icon=r.Class.extend({options:{className:""},initialize:function(t){r.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,o=r.point(i[e+"Size"]);n="shadow"===e?r.point(i.shadowAnchor||i.iconAnchor):r.point(i.iconAnchor),!n&&o&&(n=o.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,n){return n=n||e.createElement("img"),n.src=t,n},_getIconUrl:function(t){return r.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),r.icon=function(t){return new r.Icon(t)},r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];r.Browser.retina&&"icon"===t&&(t+="-2x");var n=r.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),r.Icon.Default.imagePath=function(){var t,n,i,r,o,s=e.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,n=s.length;n>t;t++)if(i=s[t].src,r=i.match(a))return o=i.split(a)[0],(o?o+"/":"")+"images"}(),r.Marker=r.Class.extend({includes:r.Mixin.Events,options:{icon:new r.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",o=t.icon.createIcon(this._icon),s=!1;o!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(o.title=t.title),t.alt&&(o.alt=t.alt)),r.DomUtil.addClass(o,i),t.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),t.riseOnHover&&r.DomEvent.on(o,"mouseover",this._bringToFront,this).on(o,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),u=!1;a!==this._shadow&&(this._removeShadow(),u=!0),a&&r.DomUtil.addClass(a,i),this._shadow=a,t.opacity<1&&this._updateOpacity();var l=this._map._panes;s&&l.markerPane.appendChild(this._icon),a&&u&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&r.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){r.DomUtil.setPosition(this._icon,t),this._shadow&&r.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];r.DomUtil.addClass(t,"leaflet-clickable"),r.DomEvent.on(t,"click",this._onMouseClick,this),r.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)r.DomEvent.on(t,e[n],this._fireMouseEvent,this);r.Handler.MarkerDrag&&(this.dragging=new r.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&r.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&r.DomEvent.preventDefault(t),"mousedown"!==t.type?r.DomEvent.stopPropagation(t):r.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){r.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&r.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(t,e){return new r.Marker(t,e)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var n=t&&"DIV"===t.tagName?t:e.createElement("div"),i=this.options;return i.html!==!1?n.innerHTML=i.html:n.innerHTML="",i.bgPos&&(n.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),r.divIcon=function(t){return new r.DivIcon(t)},r.Map.mergeOptions({closePopupOnClick:!0}),r.Popup=r.Class.extend({includes:r.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){r.setOptions(this,t),this._source=e,this._animated=r.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&r.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&r.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),r.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&r.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=r.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=r.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",r.DomEvent.disableClickPropagation(t),r.DomEvent.on(t,"click",this._onCloseButtonClick,this));var o=this._wrapper=r.DomUtil.create("div",e+"-content-wrapper",i);r.DomEvent.disableClickPropagation(o),this._contentNode=r.DomUtil.create("div",e+"-content",o),r.DomEvent.disableScrollPropagation(this._contentNode),r.DomEvent.on(o,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",e+"-tip-container",i),this._tip=r.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",r.DomUtil.addClass(t,s)):r.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=r.point(this.options.offset);e&&r.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);r.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new r.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(r.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(i),s=r.point(this.options.autoPanPadding),a=r.point(this.options.autoPanPaddingTopLeft||s),u=r.point(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=0,c=0;o.x+n+u.x>l.x&&(h=o.x+n-l.x+u.x),o.x-h-a.x<0&&(h=o.x-a.x),o.y+e+u.y>l.y&&(c=o.y+e-l.y+u.y),o.y-c-a.y<0&&(c=o.y-a.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),r.DomEvent.stop(t)}}),r.popup=function(t,e){return new r.Popup(t,e)},r.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof r.Popup)){var i=t;t=new r.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),r.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=r.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(r.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=r.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof r.Popup?(r.setOptions(t,e),this._popup=t,t._source=this):this._popup=new r.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),
this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),r.LayerGroup=r.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r.stamp(t)}}),r.layerGroup=function(t){return new r.LayerGroup(t)},r.FeatureGroup=r.LayerGroup.extend({includes:r.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof r.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=r.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),r.featureGroup=function(t){return new r.FeatureGroup(t)},r.Path=r.Class.extend({includes:[r.Mixin.Events],statics:{CLIP_PADDING:function(){var e=r.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){r.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,r.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return r.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),r.Map.include({_updatePathViewport:function(){var t=r.Path.CLIP_PADDING,e=this.getSize(),n=r.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),o=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new r.Bounds(i,o)}}),r.Path.SVG_NS="http://www.w3.org/2000/svg",r.Browser.svg=!(!e.createElementNS||!e.createElementNS(r.Path.SVG_NS,"svg").createSVGRect),r.Path=r.Path.extend({statics:{SVG:r.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(r.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&r.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(r.Browser.svg||!r.Browser.vml)&&r.DomUtil.addClass(this._path,"leaflet-clickable"),r.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)r.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),o=e.layerPointToLatLng(i);this.fire(t.type,{latlng:o,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&r.DomEvent.preventDefault(t),"mousemove"!==t.type&&r.DomEvent.stopPropagation(t)}}}),r.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=r.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&r.Browser.any3d?(r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,o=n.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;r.Browser.mobileWebkit&&a.removeChild(s),r.DomUtil.setPosition(s,e),s.setAttribute("width",i),s.setAttribute("height",o),s.setAttribute("viewBox",[e.x,e.y,i,o].join(" ")),r.Browser.mobileWebkit&&a.appendChild(s)}}}),r.Path.include({bindPopup:function(t,e){return t instanceof r.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new r.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),r.Browser.vml=!r.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(i){return!1}}(),r.Path=r.Browser.svg||!r.Browser.vml?r.Path:r.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");r.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&r.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=r.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),r.Map.include(r.Browser.svg||!r.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),r.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),r.Path=r.Path.SVG&&!t.L_PREFER_CANVAS||!r.Browser.canvas?r.Path:r.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return r.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!r.Path._updateRequest&&(r.Path._updateRequest=r.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){r.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,o,s;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,i=this._parts[t].length;i>e;e++)o=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](o.x,o.y);this instanceof r.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),r.Map.include(r.Path.SVG&&!t.L_PREFER_CANVAS||!r.Browser.canvas?{}:{_initPathRoot:function(){var t,n=this._pathRoot;n||(n=this._pathRoot=e.createElement("canvas"),n.style.position="absolute",t=this._canvasCtx=n.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(n),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;r.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),r.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var i=t.length,r=typeof Uint8Array!=n+""?Uint8Array:Array,o=new r(i);o[0]=o[i-1]=1,this._simplifyDPStep(t,o,e,0,i-1);var s,a=[];for(s=0;i>s;s++)o[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,n,i,r){var o,s,a,u=0;for(s=i+1;r-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[r],!0),a>u&&(o=s,u=a);u>n&&(e[o]=1,this._simplifyDPStep(t,e,n,i,o),this._simplifyDPStep(t,e,n,o,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;o>i;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return o-1>r&&n.push(t[o-1]),n},clipSegment:function(t,e,n,i){var r,o,s,a=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(a|u))return[t,e];if(a&u)return!1;r=a||u,o=this._getEdgeIntersection(t,e,r,n),s=this._getBitCode(o,n),r===a?(t=o,a=s):(e=o,u=s)}},_getEdgeIntersection:function(t,e,n,i){var o=e.x-t.x,s=e.y-t.y,a=i.min,u=i.max;return 8&n?new r.Point(t.x+o*(u.y-t.y)/s,u.y):4&n?new r.Point(t.x+o*(a.y-t.y)/s,a.y):2&n?new r.Point(u.x,t.y+s*(u.x-t.x)/o):1&n?new r.Point(a.x,t.y+s*(a.x-t.x)/o):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,s=e.x,a=e.y,u=n.x-s,l=n.y-a,h=u*u+l*l;return h>0&&(o=((t.x-s)*u+(t.y-a)*l)/h,o>1?(s=n.x,a=n.y):o>0&&(s+=u*o,a+=l*o)),u=t.x-s,l=t.y-a,i?u*u+l*l:new r.Point(s,a)}},r.Polyline=r.Path.extend({initialize:function(t,e){r.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(r.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,o=this._parts,s=null,a=0,u=o.length;u>a;a++)for(var l=o[a],h=1,c=l.length;c>h;h++){e=l[h-1],n=l[h];var f=r.LineUtil._sqClosestPointOnSegment(t,e,n,!0);i>f&&(i=f,s=r.LineUtil._sqClosestPointOnSegment(t,e,n))}return s&&(s.distance=Math.sqrt(i)),s},getBounds:function(){return new r.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,o=e?t:[];for(n=0,i=t.length;i>n;n++){if(r.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;o[n]=r.latLng(t[n])}return o},_initEvents:function(){r.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=r.Path.VML,i=0,o=t.length,s="";o>i;i++)e=t[i],n&&e._round(),s+=(i?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,n,i=this._originalPoints,o=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var s=this._parts,a=this._map._pathViewport,u=r.LineUtil;for(t=0,e=0;o-1>t;t++)n=u.clipSegment(i[t],i[t+1],a,t),n&&(s[e]=s[e]||[],s[e].push(n[0]),(n[1]!==i[t+1]||t===o-2)&&(s[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=r.LineUtil,n=0,i=t.length;i>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),r.Path.prototype._updatePath.call(this))}}),r.polyline=function(t,e){return new r.Polyline(t,e)},r.PolyUtil={},r.PolyUtil.clipPolygon=function(t,e){var n,i,o,s,a,u,l,h,c,f=[1,4,2,8],p=r.LineUtil;for(i=0,l=t.length;l>i;i++)t[i]._code=p._getBitCode(t[i],e);for(s=0;4>s;s++){for(h=f[s],n=[],i=0,l=t.length,o=l-1;l>i;o=i++)a=t[i],u=t[o],a._code&h?u._code&h||(c=p._getEdgeIntersection(u,a,h,e),c._code=p._getBitCode(c,e),n.push(c)):(u._code&h&&(c=p._getEdgeIntersection(u,a,h,e),c._code=p._getBitCode(c,e),n.push(c)),n.push(a));t=n}return t},r.Polygon=r.Polyline.extend({options:{fill:!0},initialize:function(t,e){r.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&r.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;n>e;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(r.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;i>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&r.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):r.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;i>n;n++){var o=r.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);o.length&&e.push(o)}this._parts=e}},_getPathPartStr:function(t){var e=r.Polyline.prototype._getPathPartStr.call(this,t);return e+(r.Browser.svg?"z":"x")}}),r.polygon=function(t,e){return new r.Polygon(t,e)},function(){function t(t){return r.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){i>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);i>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}r.MultiPolyline=t(r.Polyline),r.MultiPolygon=t(r.Polygon),r.multiPolyline=function(t,e){return new r.MultiPolyline(t,e)},r.multiPolygon=function(t,e){return new r.MultiPolygon(t,e)}}(),r.Rectangle=r.Polygon.extend({initialize:function(t,e){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=r.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),r.rectangle=function(t,e){return new r.Rectangle(t,e)},r.Circle=r.Path.extend({initialize:function(t,e,n){r.Path.prototype.initialize.call(this,n),this._latlng=r.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=r.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new r.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":r.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(r.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),r.circle=function(t,e,n){return new r.Circle(t,e,n)},r.CircleMarker=r.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){r.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){r.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return r.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),r.circleMarker=function(t,e){return new r.CircleMarker(t,e)},r.Polyline.include(r.Path.CANVAS?{_containsPoint:function(t,e){var n,i,o,s,a,u,l,h=this.options.weight/2;for(r.Browser.touch&&(h+=10),n=0,s=this._parts.length;s>n;n++)for(l=this._parts[n],i=0,a=l.length,o=a-1;a>i;o=i++)if((e||0!==i)&&(u=r.LineUtil.pointToSegmentDistance(t,l[o],l[i]),h>=u))return!0;return!1}}:{}),r.Polygon.include(r.Path.CANVAS?{_containsPoint:function(t){var e,n,i,o,s,a,u,l,h=!1;if(r.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,u=this._parts.length;u>o;o++)for(e=this._parts[o],s=0,l=e.length,a=l-1;l>s;a=s++)n=e[s],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(h=!h);return h}}:{}),r.Circle.include(r.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),r.CircleMarker.include(r.Path.CANVAS?{_updateStyle:function(){r.Path.prototype._updateStyle.call(this)}}:{}),r.GeoJSON=r.FeatureGroup.extend({initialize:function(t,e){r.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=r.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(o[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=r.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=r.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(r.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),r.extend(r.GeoJSON,{geometryToLayer:function(t,e,n,i){var o,s,a,u,l="Feature"===t.type?t.geometry:t,h=l.coordinates,c=[];switch(n=n||this.coordsToLatLng,l.type){case"Point":return o=n(h),e?e(t,o):new r.Marker(o);case"MultiPoint":for(a=0,u=h.length;u>a;a++)o=n(h[a]),c.push(e?e(t,o):new r.Marker(o));return new r.FeatureGroup(c);case"LineString":return s=this.coordsToLatLngs(h,0,n),new r.Polyline(s,i);case"Polygon":if(2===h.length&&!h[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(h,1,n),new r.Polygon(s,i);case"MultiLineString":return s=this.coordsToLatLngs(h,1,n),new r.MultiPolyline(s,i);case"MultiPolygon":return s=this.coordsToLatLngs(h,2,n),new r.MultiPolygon(s,i);case"GeometryCollection":for(a=0,u=l.geometries.length;u>a;a++)c.push(this.geometryToLayer({geometry:l.geometries[a],type:"Feature",properties:t.properties},e,n,i));return new r.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new r.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i,r,o,s=[];for(r=0,o=t.length;o>r;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),s.push(i);return s},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==n&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(r.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):r.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(s),r.Circle.include(s),r.CircleMarker.include(s),r.Polyline.include({toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"LineString",coordinates:r.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),r.Polygon.include({toGeoJSON:function(){var t,e,n,i=[r.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=r.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return r.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:t,coordinates:e})}}r.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),r.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),r.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var o=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(o?e.geometry:r.GeoJSON.asFeature(e)))}),o?r.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),r.geoJson=function(t,e){return new r.GeoJSON(t,e)},r.DomEvent={addListener:function(t,e,n,i){var o,s,a,u=r.stamp(n),l="_leaflet_"+e+u;return t[l]?this:(o=function(e){return n.call(i||t,e||r.DomEvent._getEvent())},r.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,o,u):(r.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,o,u),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?(s=o,a="mouseenter"===e?"mouseover":"mouseout",o=function(e){return r.DomEvent._checkMouse(t,e)?s(e):void 0},t.addEventListener(a,o,!1)):"click"===e&&r.Browser.android?(s=o,o=function(t){return r.DomEvent._filterClick(t,s)},t.addEventListener(e,o,!1)):t.addEventListener(e,o,!1):"attachEvent"in t&&t.attachEvent("on"+e,o),t[l]=o,this))},removeListener:function(t,e,n){var i=r.stamp(n),o="_leaflet_"+e+i,s=t[o];return s?(r.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):r.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,r.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=r.DomEvent.stopPropagation;return r.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=r.DomEvent.stopPropagation,n=r.Draggable.START.length-1;n>=0;n--)r.DomEvent.on(t,r.Draggable.START[n],e);return r.DomEvent.on(t,"click",r.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return r.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new r.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new r.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){r.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=r.DomEvent._lastClick&&n-r.DomEvent._lastClick;return i&&i>100&&500>i||t.target._simulatedClick&&!t._simulated?void r.DomEvent.stop(t):(r.DomEvent._lastClick=n,e(t))}},r.DomEvent.on=r.DomEvent.addListener,r.DomEvent.off=r.DomEvent.removeListener,r.Draggable=r.Class.extend({includes:r.Mixin.Events,statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=r.Draggable.START.length-1;t>=0;t--)r.DomEvent.on(this._dragStartTarget,r.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=r.Draggable.START.length-1;t>=0;t--)r.DomEvent.off(this._dragStartTarget,r.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(r.DomEvent.stopPropagation(t),!r.Draggable._disabled&&(r.DomUtil.disableImageDrag(),
r.DomUtil.disableTextSelection(),!this._moving))){var n=t.touches?t.touches[0]:t;this._startPoint=new r.Point(n.clientX,n.clientY),this._startPos=this._newPos=r.DomUtil.getPosition(this._element),r.DomEvent.on(e,r.Draggable.MOVE[t.type],this._onMove,this).on(e,r.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var n=t.touches&&1===t.touches.length?t.touches[0]:t,i=new r.Point(n.clientX,n.clientY),o=i.subtract(this._startPoint);(o.x||o.y)&&(r.Browser.touch&&Math.abs(o.x)+Math.abs(o.y)<3||(r.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(o),r.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){r.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in r.Draggable.MOVE)r.DomEvent.off(e,r.Draggable.MOVE[t],this._onMove).off(e,r.Draggable.END[t],this._onUp);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),r.Handler=r.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:r.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new r.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,o=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),o)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+i-this._times[0])/1e3,u=n.easeLinearity,l=s.multiplyBy(u/a),h=l.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,h),f=l.multiplyBy(c/h),p=c/(n.inertiaDeceleration*u),d=f.multiplyBy(-p/2).round();d.x&&d.y?(d=e._limitOffset(d,e.options.maxBounds),r.Util.requestAnimFrame(function(){e.panBy(d,{duration:p,easeLinearity:u,noMoveStart:!0})})):e.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),r.DomEvent.on(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),r.DomEvent.off(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=r.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),n),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,n,i){function o(t){var e;if(r.Browser.pointer?(d.push(t.pointerId),e=d.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(a||n);u=t.touches?t.touches[0]:t,l=i>0&&h>=i,a=n}}function s(t){if(r.Browser.pointer){var e=d.indexOf(t.pointerId);if(-1===e)return;d.splice(e,1)}if(l){if(r.Browser.pointer){var i,o={};for(var s in u)i=u[s],"function"==typeof i?o[s]=i.bind(u):o[s]=i;u=o}u.type="dblclick",n(u),a=null}}var a,u,l=!1,h=250,c="_leaflet_",f=this._touchstart,p=this._touchend,d=[];t[c+f+i]=o,t[c+p+i]=s;var m=r.Browser.pointer?e.documentElement:t;return t.addEventListener(f,o,!1),m.addEventListener(p,s,!1),r.Browser.pointer&&m.addEventListener(r.DomEvent.POINTER_CANCEL,s,!1),this},removeDoubleTapListener:function(t,n){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+n],!1),(r.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+n],!1),r.Browser.pointer&&e.documentElement.removeEventListener(r.DomEvent.POINTER_CANCEL,t[i+this._touchend+n],!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,n,i,o){var s="_leaflet_",a=this._pointers,u=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&r.DomEvent.preventDefault(t);for(var e=!1,n=0;n<a.length;n++)if(a[n].pointerId===t.pointerId){e=!0;break}e||a.push(t),t.touches=a.slice(),t.changedTouches=[t],i(t)};if(t[s+"touchstart"+o]=u,t.addEventListener(this.POINTER_DOWN,u,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,l,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],n(t)}}var o="_leaflet_",s=this._pointers;return t[o+"touchmove"+i]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,n,i){var r="_leaflet_",o=this._pointers,s=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],n(t)};return t[r+"touchend"+i]=s,t.addEventListener(this.POINTER_UP,s,!1),t.addEventListener(this.POINTER_CANCEL,s,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",r=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(t.touches&&2===t.touches.length&&!n._animatingZoom&&!this._zooming){var i=n.mouseEventToLayerPoint(t.touches[0]),o=n.mouseEventToLayerPoint(t.touches[1]),s=n._getCenterLayerPoint();this._startCenter=i.add(o)._divideBy(2),this._startDist=i.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),n._panAnim&&n._panAnim.stop(),r.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(r.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),r.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,r.DomUtil.removeClass(t._mapPane,"leaflet-touching"),r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var n=this._getScaleOrigin(),i=t.layerPointToLatLng(n),o=t.getZoom(),s=t.getScaleZoom(this._scale)-o,a=s>0?Math.ceil(s):Math.floor(s),u=t._limitZoom(o+a),l=t.getZoomScale(u)/this._scale;t._animateZoom(i,u,n,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(r.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=t.touches[0],i=n.target;this._startPos=this._newPos=new r.Point(n.clientX,n.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),r.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),r.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var n=t.changedTouches[0],i=n.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new r.Point(e.clientX,e.clientY)},_simulateEvent:function(n,i){var r=e.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(n,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void r.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=r.DomUtil.create("div","leaflet-zoom-box",this._pane),r.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),o=i.subtract(e),s=new r.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));r.DomUtil.setPosition(n,s),this._moved=!0,n.style.width=Math.max(0,Math.abs(o.x)-4)+"px",n.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new r.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),r.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;r.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var n=e.body,i=e.documentElement,r=n.scrollTop||i.scrollTop,o=n.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;n>e;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;n>e;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;n>e;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;n>e;e++)i[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;n>e;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;n>e;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){r.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}r.DomEvent.stop(t)}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),r.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=r.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&r.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(t){r.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return r.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),r.control=function(t){return new r.Control(t)},r.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,o){var s=n+t+" "+n+o;e[t+o]=r.DomUtil.create("div",s,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=r.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=r.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,o,s){var a=r.DomUtil.create("a",n,i);a.innerHTML=t,a.href="#",a.title=e;var u=r.DomEvent.stopPropagation;return r.DomEvent.on(a,"click",u).on(a,"mousedown",u).on(a,"dblclick",u).on(a,"click",r.DomEvent.preventDefault).on(a,"click",o,s).on(a,"click",this._refocusOnMap,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,e),r.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&r.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&r.DomUtil.addClass(this._zoomInButton,e)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(t){return new r.Control.Zoom(t)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new r.Control.Attribution).addTo(this))}),r.control.attribution=function(t){return new r.Control.Attribution(t)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=r.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=r.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=r.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,s=0;r.x>0&&(s=i*(o.maxWidth/r.x)),this._updateScales(o,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,n=this._getRoundNum(e),o.style.width=this._getScaleWidth(n/e)+"px",o.innerHTML=n+" mi"):(i=this._getRoundNum(r),o.style.width=this._getScaleWidth(i/r)+"px",o.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),r.control.scale=function(t){return new r.Control.Scale(t)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){r.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=r.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=r.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),r.Browser.touch?r.DomEvent.on(e,"click",r.DomEvent.stopPropagation):r.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=r.DomUtil.create("form",t+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=r.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",r.Browser.touch?r.DomEvent.on(i,"click",r.DomEvent.stop).on(i,"click",this._expand,this):r.DomEvent.on(i,"focus",this._expand,this),r.DomEvent.on(n,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=r.DomUtil.create("div",t+"-base",n),this._separator=r.DomUtil.create("div",t+"-separator",n),this._overlaysList=r.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=r.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[r.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,n){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';n&&(i+=' checked="checked"'),i+="/>";var r=e.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var n,i=e.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(n=e.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=o):n=this._createRadioElement("leaflet-base-layers",o),n.layerId=r.stamp(t.layer),r.DomEvent.on(n,"click",this._onInputClick,this);var s=e.createElement("span");s.innerHTML=" "+t.name,i.appendChild(n),i.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=i.length;for(this._handlingClick=!0,t=0;r>t;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),r.control.layers=function(t,e,n){return new r.Control.Layers(t,e,n)},r.PosAnimation=r.Class.extend({includes:r.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[r.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",r.DomEvent.on(t,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),r.DomUtil.setPosition(t,e),r.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(r.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(r.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),r.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,o=this._el,s=t.getComputedStyle(o);if(r.Browser.any3d){if(i=s[r.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(s.left),n=parseFloat(s.top);return new r.Point(e,n,!0)},_onTransitionEnd:function(){r.DomEvent.off(this._el,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[r.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),r.Map.include({setView:function(t,e,i){if(e=e===n?this._zoom:this._limitZoom(e),t=this._limitCenter(r.latLng(t),e,this.options.maxBounds),i=i||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==n&&(i.zoom=r.extend({animate:i.animate},i.zoom),i.pan=r.extend({animate:i.animate},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=r.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),r.PosAnimation=r.DomUtil.TRANSITION?r.PosAnimation:r.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=r.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));
r.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),r.DomUtil.TRANSITION&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.android23&&!r.Browser.mobileOpera,this._zoomAnimated&&r.DomEvent.on(this._mapPane,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),r.Map.include(r.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i),o=this._getCenterLayerPoint()._add(r);return n.animate===!0||this.getSize().contains(r)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,i,null,!0),!0):!1},_animateZoom:function(t,e,n,i,o,s,a){a||(this._animatingZoom=!0),r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,r.Draggable&&(r.Draggable._disabled=!0),r.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:o,backwards:s}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),r.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),r.Draggable&&(r.Draggable._disabled=!1)},this))}}:{}),r.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=r.DomUtil.TRANSFORM,i=t.delta?r.DomUtil.getTranslateString(t.delta):e.style[n],o=r.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?o+" "+i:i+" "+o},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),r.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[r.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>i?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[r.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),r=0;for(e=0,n=i.length;n>e;e++)i[e].complete&&r++;return r/n},_stopLoadingImages:function(t){var e,n,i,o=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=o.length;n>e;e++)i=o[e],i.complete||(i.onload=r.Util.falseFn,i.onerror=r.Util.falseFn,i.src=r.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),r.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=r.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r.bind(this._handleGeolocationResponse,this),n=r.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new r.LatLng(e,n),o=180*t.coords.accuracy/40075017,s=o/Math.cos(r.LatLng.DEG_TO_RAD*e),a=r.latLngBounds([e-o,n-s],[e+o,n+s]),u=this._locateOptions;if(u.setView){var l=Math.min(this.getBoundsZoom(a),u.maxZoom);this.setView(i,l)}var h={latlng:i,bounds:a,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(h[c]=t.coords[c]);this.fire("locationfound",h)}})}(window,document),function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){function i(t,e,n){function i(t){return t>=200&&300>t||304===t}function r(){void 0===a.status||i(a.status)?e.call(a,null,a):e.call(a,a,null)}var o=!1;if("undefined"==typeof window.XMLHttpRequest)return e(Error("Browser not supported"));if("undefined"==typeof n){var s=t.match(/^\s*https?:\/\/[^\/]*/);n=s&&s[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var a=new window.XMLHttpRequest;if(n&&!("withCredentials"in a)){a=new window.XDomainRequest;var u=e;e=function(){if(o)u.apply(this,arguments);else{var t=this,e=arguments;setTimeout(function(){u.apply(t,e)},0)}}}return"onload"in a?a.onload=r:a.onreadystatechange=function(){4===a.readyState&&r()},a.onerror=function(t){e.call(this,t||!0,null),e=function(){}},a.onprogress=function(){},a.ontimeout=function(t){e.call(this,t,null),e=function(){}},a.onabort=function(t){e.call(this,t,null),e=function(){}},a.open("GET",t,!0),a.send(null),o=!0,a}"undefined"!=typeof e&&(e.exports=i)},{}],2:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],3:[function(t,e,n){!function(t,n,i){var r=t.L,o={};o.version="0.7.7","object"==typeof e&&"object"==typeof e.exports?e.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=r,this},t.L=o,o.Util={extend:function(t){var e,n,i,r,o=Array.prototype.slice.call(arguments,1);for(n=0,i=o.length;i>n;n++){r=o[n]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,n){var i,r;return function o(){var s=arguments;return i?void(r=!0):(i=!0,setTimeout(function(){i=!1,r&&(o.apply(n,s),r=!1)},e),void t.apply(n,s))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var r=e[n];if(r===i)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,r=["webkit","moz","o","ms"];for(n=0;n<r.length&&!i;n++)i=t[r[n]+e];return i}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,r=t.requestAnimationFrame||e("RequestAnimationFrame")||n,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,i,s,a){return e=o.bind(e,i),s&&r===n?void e():r.call(t,e,a)},o.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=o.extend({},i.options,t.options)),o.extend(i,t),i._initHooks=[];var s=this;return e.__super__=s.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,r,a,u,l,h,c,f=this[s]=this[s]||{},p=n&&n!==this&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,r=t.length;r>i;i++)a={action:e,context:n||this},u=t[i],p?(l=u+"_idx",h=l+"_len",c=f[l]=f[l]||{},c[p]||(c[p]=[],f[h]=(f[h]||0)+1),c[p].push(a)):(f[u]=f[u]||[],f[u].push(a));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,r,a,u,l,h,c,f,p,d=this[s],m=n&&n!==this&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,r=t.length;r>i;i++)if(a=t[i],h=a+"_idx",c=h+"_len",f=d[h],e){if(u=m&&f?f[m]:d[a]){for(l=u.length-1;l>=0;l--)u[l].action!==e||n&&u[l].context!==n||(p=u.splice(l,1),p[0].action=o.Util.falseFn);n&&f&&0===u.length&&(delete f[m],d[c]--)}}else delete d[a],delete d[h],delete d[c];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,r,a,u,l=o.Util.extend({},e,{type:t,target:this}),h=this[s];if(h[t])for(n=h[t].slice(),i=0,r=n.length;r>i;i++)n[i].action.call(n[i].context,l);a=h[t+"_idx"];for(u in a)if(n=a[u].slice())for(i=0,r=n.length;r>i;i++)n[i].action.call(n[i].context,l);return this},addOneTimeEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=o.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var e="ActiveXObject"in t,r=e&&!n.addEventListener,s=navigator.userAgent.toLowerCase(),a=-1!==s.indexOf("webkit"),u=-1!==s.indexOf("chrome"),l=-1!==s.indexOf("phantom"),h=-1!==s.indexOf("android"),c=-1!==s.search("android [23]"),f=-1!==s.indexOf("gecko"),p=typeof orientation!=i+"",d=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||d,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=n.documentElement,_=e&&"transition"in v.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,b="MozPerspective"in v.style,x="OTransition"in v.style,w=!t.L_DISABLE_3D&&(_||y||b||x)&&!l,T=!t.L_NO_TOUCH&&!l&&(m||"ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch);o.Browser={ie:e,ielt9:r,webkit:a,gecko:f&&!a&&!t.opera&&!e,android:h,android23:c,chrome:u,ie3d:_,webkit3d:y,gecko3d:b,opera3d:x,any3d:w,mobile:p,mobileWebkit:p&&a,mobileWebkit3d:p&&y,mobileOpera:p&&t.opera,touch:T,msPointer:d,pointer:m,retina:g}}(),o.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,s=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||"auto"===i)&&n.defaultView){var r=n.defaultView.getComputedStyle(t,null);i=r?r[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e,i=0,r=0,s=t,a=n.body,u=n.documentElement;do{if(i+=s.offsetTop||0,r+=s.offsetLeft||0,i+=parseInt(o.DomUtil.getStyle(s,"borderTopWidth"),10)||0,r+=parseInt(o.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,e=o.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===e)break;if("fixed"===e){i+=a.scrollTop||u.scrollTop||0,r+=a.scrollLeft||u.scrollLeft||0;break}if("relative"===e&&!s.offsetLeft){var l=o.DomUtil.getStyle(s,"width"),h=o.DomUtil.getStyle(s,"max-width"),c=s.getBoundingClientRect();("none"!==l||"none"!==h)&&(r+=c.left+s.clientLeft),i+=c.top+(a.scrollTop||u.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;i-=s.scrollTop||0,r-=s.scrollLeft||0,s=s.parentNode}while(s);return new o.Point(r,i)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(n.body,"direction")),o.DomUtil._docIsLtr},create:function(t,e,i){var r=n.createElement(t);return r.className=e,i&&i.appendChild(r),r},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),r=0,s=n.length;s>r;r++)t.classList.add(n[r]);else if(!o.DomUtil.hasClass(t,e)){var a=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in n)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var e=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(e){var t=n.documentElement.style;this._userSelect=t[e],t[e]="none"}},enableTextSelection:function(){e&&(n.documentElement.style[e]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,n=o.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,r=(t.lng-this.lng)*n,s=this.lat*n,a=t.lat*n,u=Math.sin(i/2),l=Math.sin(r/2),h=u*u+l*l*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new o.LatLng(this.lat,n)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-i,e.lng-r),new o.LatLng(n.lat+i,n.lng+r))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=t.lng*e,s=i*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new o.Point(r,s)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(i,n)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),s=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=s.subtract(r).multiplyBy(1-1/i),u=this.containerPointToLatLng(r.add(a));return this.setView(u,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var n=o.point(e.paddingTopLeft||e.padding||[0,0]),i=o.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));r=e.maxZoom?Math.min(e.maxZoom,r):r;var s=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),u=this.project(t.getNorthEast(),r),l=this.unproject(a.add(u).divideBy(2).add(s),r);return this.setView(l,r,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),s=i.subtract(r);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new o.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=o.latLngBounds(t);var i,r=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),u=t.getNorthWest(),l=t.getSouthEast(),h=!0;n=o.point(n||[0,0]);do r++,i=this.project(l,r).subtract(this.project(u,r)).add(n),h=e?i.x<a.x||i.y<a.y:a.contains(i);while(h&&s>=r);return h&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0;
},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var r=this._zoom!==e;i||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(r||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=r.length;i>n;n++)o.DomEvent[e](this._container,r[n],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),r=this.layerPointToLatLng(i);this.fire(e,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),s=new o.Bounds(i.subtract(r),i.add(r)),a=this._getBoundsOffset(s,n,e);return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new o.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),r=this.project(e.getSouthEast(),n).subtract(t.max),s=this._rebound(i.x,-r.x),a=this._rebound(i.y,-r.y);return new o.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*r,u=i*e,l=s/r,h=Math.sqrt(1-l*l),c=h*Math.sin(u);c=Math.pow((1-c)/(1+c),.5*h);var f=Math.tan(.5*(.5*Math.PI-u))/c;return u=-r*Math.log(f),new o.Point(a,u)},unproject:function(t){for(var e,n=o.LatLng.RAD_TO_DEG,i=this.R_MAJOR,r=this.R_MINOR,s=t.x*n/i,a=r/i,u=Math.sqrt(1-a*a),l=Math.exp(-t.y/i),h=Math.PI/2-2*Math.atan(l),c=15,f=1e-7,p=c,d=.1;Math.abs(d)>f&&--p>0;)e=u*Math.sin(h),d=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*u))-h,h+=d;return new o.LatLng(h*n,s)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new o.Transformation(n,.5,-n,.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,r,o=t.children,s=-e(1/0,-(1/0));for(i=0,r=o.length;r>i;i++)o[i]!==this._container&&(n=parseInt(o[i].style.zIndex,10),isNaN(n)||(s=e(s,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var r=o.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(r),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(r)}}},_addTilesFromCenterOut:function(t){var e,i,r,s=[],a=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(i=t.min.x;i<=t.max.x;i++)r=new o.Point(i,e),this._tileShouldBeLoaded(r)&&s.push(r);var u=s.length;if(0!==u){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var l=n.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=u,i=0;u>i;i++)this._addTile(s[i],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),r=t.multiplyBy(i),o=r.add([i,i]),s=this._map.unproject(r),a=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,r;for(r in this._tiles)e=r.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();o.DomUtil.setPosition(i,n,o.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=o.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&o.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var r in e)this.options.hasOwnProperty(r)||"crs"===r||(n[r]=e[r]);this.wmsParams=n,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),r=i.add([n,n]),s=this._crs.project(e.unproject(i,t.z)),a=this._crs.project(e.unproject(r,t.z)),u=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[a.y,s.x,s.y,a.x].join(","):[s.x,a.y,a.x,s.y].join(","),l=o.Util.template(this._url,{s:this._getSubdomain(t)});return l+o.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+u},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(r,t.zoom,t.center),u=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),l=a._add(u._multiplyBy(.5*(1-1/i)));n.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,n){return new o.ImageOverlay(t,e,n)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,r=o.point(i[e+"Size"]);n="shadow"===e?o.point(i.shadowAnchor||i.iconAnchor):o.point(i.iconAnchor),!n&&r&&(n=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var n=o.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,e,i,r,o,s=n.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=s.length;e>t;t++)if(i=s[t].src,r=i.match(a))return o=i.split(a)[0],(o?o+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title),t.alt&&(r.alt=t.alt)),o.DomUtil.addClass(r,i),t.keyboard&&(r.tabIndex="0"),this._icon=r,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(r,"mouseover",this._bringToFront,this).on(r,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),u=!1;a!==this._shadow&&(this._removeShadow(),u=!0),a&&o.DomUtil.addClass(a,i),this._shadow=a,t.opacity<1&&this._updateOpacity();var l=this._map._panes;s&&l.markerPane.appendChild(this._icon),a&&u&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)o.DomEvent.on(t,e[n],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;return i.html!==!1?e.innerHTML=i.html:e.innerHTML="",i.bgPos&&(e.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=o.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var r=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",i);o.DomEvent.disableClickPropagation(r),this._contentNode=o.DomUtil.create("div",e+"-content",r),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(r,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",i),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",o.DomUtil.addClass(t,s)):o.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(o.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(i),s=o.point(this.options.autoPanPadding),a=o.point(this.options.autoPanPaddingTopLeft||s),u=o.point(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=0,c=0;r.x+n+u.x>l.x&&(h=r.x+n-l.x+u.x),r.x-h-a.x<0&&(h=r.x-a.x),r.y+e+u.y>l.y&&(c=r.y+e-l.y+u.y),r.y-c-a.y<0&&(c=r.y-a.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof o.Popup)){var i=t;t=new o.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=o.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(o.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=o.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),
this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),n=o.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),r=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(i,r)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!n.createElementNS||!n.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return n.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),r=e.layerPointToLatLng(i);this.fire(t.type,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,r=n.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;o.Browser.mobileWebkit&&a.removeChild(s),o.DomUtil.setPosition(s,e),s.setAttribute("width",i),s.setAttribute("height",r),s.setAttribute("viewBox",[e.x,e.y,i,r].join(" ")),o.Browser.mobileWebkit&&a.appendChild(s)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=o.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=n.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,r,s;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,i=this._parts[t].length;i>e;e++)r=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](r.x,r.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=n.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;o.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,r=typeof Uint8Array!=i+""?Uint8Array:Array,o=new r(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var s,a=[];for(s=0;n>s;s++)o[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,n,i,r){var o,s,a,u=0;for(s=i+1;r-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[r],!0),a>u&&(o=s,u=a);u>n&&(e[o]=1,this._simplifyDPStep(t,e,n,i,o),this._simplifyDPStep(t,e,n,o,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;o>i;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return o-1>r&&n.push(t[o-1]),n},clipSegment:function(t,e,n,i){var r,o,s,a=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(a|u))return[t,e];if(a&u)return!1;r=a||u,o=this._getEdgeIntersection(t,e,r,n),s=this._getBitCode(o,n),r===a?(t=o,a=s):(e=o,u=s)}},_getEdgeIntersection:function(t,e,n,i){var r=e.x-t.x,s=e.y-t.y,a=i.min,u=i.max;return 8&n?new o.Point(t.x+r*(u.y-t.y)/s,u.y):4&n?new o.Point(t.x+r*(a.y-t.y)/s,a.y):2&n?new o.Point(u.x,t.y+s*(u.x-t.x)/r):1&n?new o.Point(a.x,t.y+s*(a.x-t.x)/r):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var r,s=e.x,a=e.y,u=n.x-s,l=n.y-a,h=u*u+l*l;return h>0&&(r=((t.x-s)*u+(t.y-a)*l)/h,r>1?(s=n.x,a=n.y):r>0&&(s+=u*r,a+=l*r)),u=t.x-s,l=t.y-a,i?u*u+l*l:new o.Point(s,a)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,r=this._parts,s=null,a=0,u=r.length;u>a;a++)for(var l=r[a],h=1,c=l.length;c>h;h++){e=l[h-1],n=l[h];var f=o.LineUtil._sqClosestPointOnSegment(t,e,n,!0);i>f&&(i=f,s=o.LineUtil._sqClosestPointOnSegment(t,e,n))}return s&&(s.distance=Math.sqrt(i)),s},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,r=e?t:[];for(n=0,i=t.length;i>n;n++){if(o.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;r[n]=o.latLng(t[n])}return r},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=o.Path.VML,i=0,r=t.length,s="";r>i;i++)e=t[i],n&&e._round(),s+=(i?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,n,i=this._originalPoints,r=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var s=this._parts,a=this._map._pathViewport,u=o.LineUtil;for(t=0,e=0;r-1>t;t++)n=u.clipSegment(i[t],i[t+1],a,t),n&&(s[e]=s[e]||[],s[e].push(n[0]),(n[1]!==i[t+1]||t===r-2)&&(s[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,n=0,i=t.length;i>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var n,i,r,s,a,u,l,h,c,f=[1,4,2,8],p=o.LineUtil;for(i=0,l=t.length;l>i;i++)t[i]._code=p._getBitCode(t[i],e);for(s=0;4>s;s++){for(h=f[s],n=[],i=0,l=t.length,r=l-1;l>i;r=i++)a=t[i],u=t[r],a._code&h?u._code&h||(c=p._getEdgeIntersection(u,a,h,e),c._code=p._getBitCode(c,e),n.push(c)):(u._code&h&&(c=p._getEdgeIntersection(u,a,h,e),c._code=p._getBitCode(c,e),n.push(c)),n.push(a));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;n>e;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;i>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;i>n;n++){var r=o.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){i>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);i>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,n){o.Path.prototype.initialize.call(this,n),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new o.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),o.circle=function(t,e,n){return new o.Circle(t,e,n)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var n,i,r,s,a,u,l,h=this.options.weight/2;for(o.Browser.touch&&(h+=10),n=0,s=this._parts.length;s>n;n++)for(l=this._parts[n],i=0,a=l.length,r=a-1;a>i;r=i++)if((e||0!==i)&&(u=o.LineUtil.pointToSegmentDistance(t,l[r],l[i]),h>=u))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,n,i,r,s,a,u,l,h=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,u=this._parts.length;u>r;r++)for(e=this._parts[r],s=0,l=e.length,a=l-1;l>s;a=s++)n=e[s],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(h=!h);return h}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=o.Util.isArray(t)?t:t.features;if(r){for(e=0,n=r.length;n>e;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(r[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=o.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=o.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,n,i){var r,s,a,u,l="Feature"===t.type?t.geometry:t,h=l.coordinates,c=[];switch(n=n||this.coordsToLatLng,l.type){case"Point":return r=n(h),e?e(t,r):new o.Marker(r);case"MultiPoint":for(a=0,u=h.length;u>a;a++)r=n(h[a]),c.push(e?e(t,r):new o.Marker(r));return new o.FeatureGroup(c);case"LineString":return s=this.coordsToLatLngs(h,0,n),new o.Polyline(s,i);case"Polygon":if(2===h.length&&!h[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(h,1,n),new o.Polygon(s,i);case"MultiLineString":return s=this.coordsToLatLngs(h,1,n),new o.MultiPolyline(s,i);case"MultiPolygon":return s=this.coordsToLatLngs(h,2,n),new o.MultiPolygon(s,i);case"GeometryCollection":for(a=0,u=l.geometries.length;u>a;a++)c.push(this.geometryToLayer({geometry:l.geometries[a],type:"Feature",properties:t.properties},e,n,i));return new o.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i,r,o,s=[];for(r=0,o=t.length;o>r;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),s.push(i);return s},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(o.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,n,i=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=o.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var r=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(r?e.geometry:o.GeoJSON.asFeature(e)))}),r?o.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,n,i){var r,s,a,u=o.stamp(n),l="_leaflet_"+e+u;return t[l]?this:(r=function(e){return n.call(i||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,r,u):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,r,u),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?(s=r,a="mouseenter"===e?"mouseover":"mouseout",r=function(e){return o.DomEvent._checkMouse(t,e)?s(e):void 0},t.addEventListener(a,r,!1)):"click"===e&&o.Browser.android?(s=r,r=function(t){return o.DomEvent._filterClick(t,s)},t.addEventListener(e,r,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[l]=r,this))},removeListener:function(t,e,n){var i=o.stamp(n),r="_leaflet_"+e+i,s=t[r];return s?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,n=o.Draggable.START.length-1;n>=0;n--)o.DomEvent.on(t,o.Draggable.START[n],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new o.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=o.DomEvent._lastClick&&n-o.DomEvent._lastClick;return i&&i>100&&500>i||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=n,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled&&(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){var e=t.touches?t.touches[0]:t;this._startPoint=new o.Point(e.clientX,e.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(n,o.Draggable.MOVE[t.type],this._onMove,this).on(n,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new o.Point(e.clientX,e.clientY),r=i.subtract(this._startPoint);(r.x||r.y)&&(o.Browser.touch&&Math.abs(r.x)+Math.abs(r.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)));
},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(n,o.Draggable.MOVE[t],this._onMove).off(n,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,r=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),r)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+i-this._times[0])/1e3,u=n.easeLinearity,l=s.multiplyBy(u/a),h=l.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,h),f=l.multiplyBy(c/h),p=c/(n.inertiaDeceleration*u),d=f.multiplyBy(-p/2).round();d.x&&d.y?(d=e._limitOffset(d,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(d,{duration:p,easeLinearity:u,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function r(t){var e;if(o.Browser.pointer?(d.push(t.pointerId),e=d.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(a||n);u=t.touches?t.touches[0]:t,l=i>0&&h>=i,a=n}}function s(t){if(o.Browser.pointer){var n=d.indexOf(t.pointerId);if(-1===n)return;d.splice(n,1)}if(l){if(o.Browser.pointer){var i,r={};for(var s in u)i=u[s],"function"==typeof i?r[s]=i.bind(u):r[s]=i;u=r}u.type="dblclick",e(u),a=null}}var a,u,l=!1,h=250,c="_leaflet_",f=this._touchstart,p=this._touchend,d=[];t[c+f+i]=r,t[c+p+i]=s;var m=o.Browser.pointer?n.documentElement:t;return t.addEventListener(f,r,!1),m.addEventListener(p,s,!1),o.Browser.pointer&&m.addEventListener(o.DomEvent.POINTER_CANCEL,s,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+e],!1),(o.Browser.pointer?n.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+e],!1),o.Browser.pointer&&n.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[i+this._touchend+e],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,i,r){var s="_leaflet_",a=this._pointers,u=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&o.DomEvent.preventDefault(t);for(var e=!1,n=0;n<a.length;n++)if(a[n].pointerId===t.pointerId){e=!0;break}e||a.push(t),t.touches=a.slice(),t.changedTouches=[t],i(t)};if(t[s+"touchstart"+r]=u,t.addEventListener(this.POINTER_DOWN,u,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a.splice(e,1);break}};n.documentElement.addEventListener(this.POINTER_UP,l,!1),n.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],n(t)}}var o="_leaflet_",s=this._pointers;return t[o+"touchmove"+i]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,n,i){var r="_leaflet_",o=this._pointers,s=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],n(t)};return t[r+"touchend"+i]=s,t.addEventListener(this.POINTER_UP,s,!1),t.addEventListener(this.POINTER_CANCEL,s,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",r=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),r=e.mouseEventToLayerPoint(t.touches[1]),s=e._getCenterLayerPoint();this._startCenter=i.add(r)._divideBy(2),this._startDist=i.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),o.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),r=t.getZoom(),s=t.getScaleZoom(this._scale)-r,a=s>0?Math.ceil(s):Math.floor(s),u=t._limitZoom(r+a),l=t.getZoomScale(u)/this._scale;t._animateZoom(i,u,e,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new o.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),o.DomEvent.on(n,"touchmove",this._onMove,this).on(n,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(n,"touchmove",this._onMove,this).off(n,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(e,i){var r=n.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(n,"mousemove",this._onMouseMove,this).on(n,"mouseup",this._onMouseUp,this).on(n,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),r=i.subtract(e),s=new o.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));o.DomUtil.setPosition(n,s),this._moved=!0,n.style.width=Math.max(0,Math.abs(r.x)-4)+"px",n.style.height=Math.max(0,Math.abs(r.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(n,"mousemove",this._onMouseMove).off(n,"mouseup",this._onMouseUp).off(n,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=n.body,i=n.documentElement,r=e.scrollTop||i.scrollTop,o=e.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;n>e;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;n>e;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;n>e;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;n>e;e++)i[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;n>e;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;n>e;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=o.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&o.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return o.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var s=n+t+" "+n+r;e[t+r]=o.DomUtil.create("div",s,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=o.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,r,s){var a=o.DomUtil.create("a",n,i);a.innerHTML=t,a.href="#",a.title=e;var u=o.DomEvent.stopPropagation;return o.DomEvent.on(a,"click",u).on(a,"mousedown",u).on(a,"dblclick",u).on(a,"click",o.DomEvent.preventDefault).on(a,"click",r,s).on(a,"click",this._refocusOnMap,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=o.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,s=0;r.x>0&&(s=i*(o.maxWidth/r.x)),this._updateScales(o,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,n=this._getRoundNum(e),o.style.width=this._getScaleWidth(n/e)+"px",o.innerHTML=n+" mi"):(i=this._getRoundNum(r),o.style.width=this._getScaleWidth(i/r)+"px",o.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){o.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",o.Browser.touch?o.DomEvent.on(i,"click",o.DomEvent.stop).on(i,"click",this._expand,this):o.DomEvent.on(i,"focus",this._expand,this),o.DomEvent.on(n,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",n),this._separator=o.DomUtil.create("div",t+"-separator",n),this._overlaysList=o.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=o.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(i+=' checked="checked"'),i+="/>";var r=n.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var e,i=n.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=o.stamp(t.layer),o.DomEvent.on(e,"click",this._onInputClick,this);var s=n.createElement("span");s.innerHTML=" "+t.name,i.appendChild(e),i.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=i.length;for(this._handlingClick=!0,t=0;r>t;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,n){return new o.Control.Layers(t,e,n)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,r=this._el,s=t.getComputedStyle(r);if(o.Browser.any3d){if(i=s[o.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(s.left),n=parseFloat(s.top);return new o.Point(e,n,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;
var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i),o=this._getCenterLayerPoint()._add(r);return n.animate===!0||this.getSize().contains(r)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,i,null,!0),!0):!1},_animateZoom:function(t,e,n,i,r,s,a){a||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:r,backwards:s}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),o.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)},this))}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=o.DomUtil.TRANSFORM,i=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[n],r=o.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?r+" "+i:i+" "+r},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>i?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),r=0;for(e=0,n=i.length;n>e;e++)i[e].complete&&r++;return r/n},_stopLoadingImages:function(t){var e,n,i,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=r.length;n>e;e++)i=r[e],i.complete||(i.onload=o.Util.falseFn,i.onerror=o.Util.falseFn,i.src=o.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),n=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new o.LatLng(e,n),r=180*t.coords.accuracy/40075017,s=r/Math.cos(o.LatLng.DEG_TO_RAD*e),a=o.latLngBounds([e-r,n-s],[e+r,n+s]),u=this._locateOptions;if(u.setView){var l=Math.min(this.getBoundsZoom(a),u.maxZoom);this.setView(i,l)}var h={latlng:i,bounds:a,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(h[c]=t.coords[c]);this.fire("locationfound",h)}})}(window,document)},{}],4:[function(t,e,n){!function(t,e){"object"==typeof n&&n&&"string"!=typeof n.nodeName?e(n):"function"==typeof define&&define.amd?define(["exports"],e):(t.Mustache={},e(t.Mustache))}(this,function(t){function e(t){return"function"==typeof t}function n(t){return m(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return g.call(t,e)}function s(t){return!o(v,t)}function a(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return _[t]})}function u(e,n){function r(){if(v&&!_)for(;g.length;)delete d[g.pop()];else g=[];v=!1,_=!1}function o(t){if("string"==typeof t&&(t=t.split(b,2)),!m(t)||2!==t.length)throw new Error("Invalid tags: "+t);a=new RegExp(i(t[0])+"\\s*"),u=new RegExp("\\s*"+i(t[1])),f=new RegExp("\\s*"+i("}"+t[1]))}if(!e)return[];var a,u,f,p=[],d=[],g=[],v=!1,_=!1;o(n||t.tags);for(var E,C,S,L,P,M,A=new c(e);!A.eos();){if(E=A.pos,S=A.scanUntil(a))for(var k=0,D=S.length;D>k;++k)L=S.charAt(k),s(L)?g.push(d.length):_=!0,d.push(["text",L,E,E+1]),E+=1,"\n"===L&&r();if(!A.scan(a))break;if(v=!0,C=A.scan(T)||"name",A.scan(y),"="===C?(S=A.scanUntil(x),A.scan(x),A.scanUntil(u)):"{"===C?(S=A.scanUntil(f),A.scan(w),A.scanUntil(u),C="&"):S=A.scanUntil(u),!A.scan(u))throw new Error("Unclosed tag at "+A.pos);if(P=[C,S,E,A.pos],d.push(P),"#"===C||"^"===C)p.push(P);else if("/"===C){if(M=p.pop(),!M)throw new Error('Unopened section "'+S+'" at '+E);if(M[1]!==S)throw new Error('Unclosed section "'+M[1]+'" at '+E)}else"name"===C||"{"===C||"&"===C?_=!0:"="===C&&o(S)}if(M=p.pop())throw new Error('Unclosed section "'+M[1]+'" at '+A.pos);return h(l(d))}function l(t){for(var e,n,i=[],r=0,o=t.length;o>r;++r)e=t[r],e&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function h(t){for(var e,n,i=[],r=i,o=[],s=0,a=t.length;a>s;++s)switch(e=t[s],e[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":n=o.pop(),n[5]=e[2],r=o.length>0?o[o.length-1][4]:i;break;default:r.push(e)}return i}function c(t){this.string=t,this.tail=t,this.pos=0}function f(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var d=Object.prototype.toString,m=Array.isArray||function(t){return"[object Array]"===d.call(t)},g=RegExp.prototype.test,v=/\S/,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,b=/\s+/,x=/\s*=/,w=/\s*\}/,T=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},c.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},f.prototype.push=function(t){return new f(t,this)},f.prototype.lookup=function(t){var n,i=this.cache;if(i.hasOwnProperty(t))n=i[t];else{for(var o,s,a=this,u=!1;a;){if(t.indexOf(".")>0)for(n=a.view,o=t.split("."),s=0;null!=n&&s<o.length;)s===o.length-1&&(u=r(n,o[s])),n=n[o[s++]];else n=a.view[t],u=r(a.view,t);if(u)break;a=a.parent}i[t]=n}return e(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var n=this.cache,i=n[t];return null==i&&(i=n[t]=u(t,e)),i},p.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof f?e:new f(e);return this.renderTokens(i,r,n,t)},p.prototype.renderTokens=function(t,e,n,i){for(var r,o,s,a="",u=0,l=t.length;l>u;++u)s=void 0,r=t[u],o=r[0],"#"===o?s=this.renderSection(r,e,n,i):"^"===o?s=this.renderInverted(r,e,n,i):">"===o?s=this.renderPartial(r,e,n,i):"&"===o?s=this.unescapedValue(r,e):"name"===o?s=this.escapedValue(r,e):"text"===o&&(s=this.rawValue(r)),void 0!==s&&(a+=s);return a},p.prototype.renderSection=function(t,n,i,r){function o(t){return s.render(t,n,i)}var s=this,a="",u=n.lookup(t[1]);if(u){if(m(u))for(var l=0,h=u.length;h>l;++l)a+=this.renderTokens(t[4],n.push(u[l]),i,r);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)a+=this.renderTokens(t[4],n.push(u),i,r);else if(e(u)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,r.slice(t[3],t[5]),o),null!=u&&(a+=u)}else a+=this.renderTokens(t[4],n,i,r);return a}},p.prototype.renderInverted=function(t,e,n,i){var r=e.lookup(t[1]);return!r||m(r)&&0===r.length?this.renderTokens(t[4],e,n,i):void 0},p.prototype.renderPartial=function(t,n,i){if(i){var r=e(i)?i(t[1]):i[t[1]];return null!=r?this.renderTokens(this.parse(r),n,i,r):void 0}},p.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);return null!=n?n:void 0},p.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);return null!=i?t.escape(i):void 0},p.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var E=new p;t.clearCache=function(){return E.clearCache()},t.parse=function(t,e){return E.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,i)},t.to_html=function(n,i,r,o){var s=t.render(n,i,r);return e(o)?void o(s):s},t.escape=a,t.Scanner=c,t.Context=f,t.Writer=p})},{}],5:[function(t,e,n){function i(t){"use strict";return/^https?/.test(t.getScheme())?t.toString():/^mailto?/.test(t.getScheme())?t.toString():"data"==t.getScheme()&&/^image/.test(t.getPath())?t.toString():void 0}function r(t){return t}var o=t("./sanitizer-bundle.js");e.exports=function(t){return t?o(t,i,r):""}},{"./sanitizer-bundle.js":6}],6:[function(t,e,n){var i=function(){function t(t){var e=(""+t).match(p);return e?new u(l(e[1]),l(e[2]),l(e[3]),l(e[4]),l(e[5]),l(e[6]),l(e[7])):null}function e(t,e,o,s,a,l,h){var c=new u(i(t,d),i(e,d),n(o),s>0?s.toString():null,i(a,m),null,n(h));return l&&("string"==typeof l?c.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,r)):c.setAllParameters(l)),c}function n(t){return"string"==typeof t?encodeURIComponent(t):null}function i(t,e){return"string"==typeof t?encodeURI(t).replace(e,r):null}function r(t){var e=t.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}function o(t){return t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}function s(t){if(null===t)return null;for(var e,n=o(t),i=c;(e=n.replace(i,"$1"))!=n;n=e);return n}function a(t,e){var n=t.clone(),i=e.hasScheme();i?n.setRawScheme(e.getRawScheme()):i=e.hasCredentials(),i?n.setRawCredentials(e.getRawCredentials()):i=e.hasDomain(),i?n.setRawDomain(e.getRawDomain()):i=e.hasPort();var r=e.getRawPath(),o=s(r);if(i)n.setPort(e.getPort()),o=o&&o.replace(f,"");else if(i=!!r){if(47!==o.charCodeAt(0)){var a=s(n.getRawPath()||"").replace(f,""),u=a.lastIndexOf("/")+1;o=s((u?a.substring(0,u):"")+s(r)).replace(f,"")}}else o=o&&o.replace(f,""),o!==r&&n.setRawPath(o);return i?n.setRawPath(o):i=e.hasQuery(),i?n.setRawQuery(e.getRawQuery()):i=e.hasFragment(),i&&n.setRawFragment(e.getRawFragment()),n}function u(t,e,n,i,r,o,s){this.scheme_=t,this.credentials_=e,this.domain_=n,this.port_=i,this.path_=r,this.query_=o,this.fragment_=s,this.paramCache_=null}function l(t){return"string"==typeof t&&t.length>0?t:null}var h=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),c=new RegExp(h),f=/^(?:\.\.\/)*(?:\.\.$)?/;u.prototype.toString=function(){var t=[];return null!==this.scheme_&&t.push(this.scheme_,":"),null!==this.domain_&&(t.push("//"),null!==this.credentials_&&t.push(this.credentials_,"@"),t.push(this.domain_),null!==this.port_&&t.push(":",this.port_.toString())),null!==this.path_&&t.push(this.path_),null!==this.query_&&t.push("?",this.query_),null!==this.fragment_&&t.push("#",this.fragment_),t.join("")},u.prototype.clone=function(){return new u(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},u.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},u.prototype.getRawScheme=function(){return this.scheme_},u.prototype.setScheme=function(t){return this.scheme_=i(t,d),this},u.prototype.setRawScheme=function(t){return this.scheme_=t?t:null,this},u.prototype.hasScheme=function(){return null!==this.scheme_},u.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},u.prototype.getRawCredentials=function(){return this.credentials_},u.prototype.setCredentials=function(t){return this.credentials_=i(t,d),this},u.prototype.setRawCredentials=function(t){return this.credentials_=t?t:null,this},u.prototype.hasCredentials=function(){return null!==this.credentials_},u.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},u.prototype.getRawDomain=function(){return this.domain_},u.prototype.setDomain=function(t){return this.setRawDomain(t&&encodeURIComponent(t))},u.prototype.setRawDomain=function(t){return this.domain_=t?t:null,this.setRawPath(this.path_)},u.prototype.hasDomain=function(){return null!==this.domain_},u.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},u.prototype.setPort=function(t){if(t){if(t=Number(t),t!==(65535&t))throw new Error("Bad port number "+t);this.port_=""+t}else this.port_=null;return this},u.prototype.hasPort=function(){return null!==this.port_},u.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},u.prototype.getRawPath=function(){return this.path_},u.prototype.setPath=function(t){return this.setRawPath(i(t,m))},u.prototype.setRawPath=function(t){return t?(t=String(t),this.path_=!this.domain_||/^\//.test(t)?t:"/"+t):this.path_=null,this},u.prototype.hasPath=function(){return null!==this.path_},u.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},u.prototype.getRawQuery=function(){return this.query_},u.prototype.setQuery=function(t){return this.paramCache_=null,this.query_=n(t),this},u.prototype.setRawQuery=function(t){return this.paramCache_=null,this.query_=t?t:null,this},u.prototype.hasQuery=function(){return null!==this.query_},u.prototype.setAllParameters=function(t){if("object"==typeof t&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e=[],n=-1;for(var i in t){var r=t[i];"string"==typeof r&&(e[++n]=i,e[++n]=r)}t=e}this.paramCache_=null;for(var o=[],s="",a=0;a<t.length;){var i=t[a++],r=t[a++];o.push(s,encodeURIComponent(i.toString())),s="&",r&&o.push("=",encodeURIComponent(r.toString()))}return this.query_=o.join(""),this},u.prototype.checkParameterCache_=function(){if(!this.paramCache_){var t=this.query_;if(t){for(var e=t.split(/[&\?]/),n=[],i=-1,r=0;r<e.length;++r){var o=e[r].match(/^([^=]*)(?:=(.*))?$/);n[++i]=decodeURIComponent(o[1]).replace(/\+/g," "),n[++i]=decodeURIComponent(o[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},u.prototype.setParameterValues=function(t,e){"string"==typeof e&&(e=[e]),this.checkParameterCache_();for(var n=0,i=this.paramCache_,r=[],o=0;o<i.length;o+=2)t===i[o]?n<e.length&&r.push(t,e[n++]):r.push(i[o],i[o+1]);for(;n<e.length;)r.push(t,e[n++]);return this.setAllParameters(r),this},u.prototype.removeParameter=function(t){return this.setParameterValues(t,[])},u.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},u.prototype.getParameterValues=function(t){this.checkParameterCache_();for(var e=[],n=0;n<this.paramCache_.length;n+=2)t===this.paramCache_[n]&&e.push(this.paramCache_[n+1]);return e},u.prototype.getParameterMap=function(t){this.checkParameterCache_();for(var e={},n=0;n<this.paramCache_.length;n+=2){var i=this.paramCache_[n++],r=this.paramCache_[n++];i in e?e[i].push(r):e[i]=[r]}return e},u.prototype.getParameterValue=function(t){this.checkParameterCache_();for(var e=0;e<this.paramCache_.length;e+=2)if(t===this.paramCache_[e])return this.paramCache_[e+1];return null},u.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},u.prototype.getRawFragment=function(){return this.fragment_},u.prototype.setFragment=function(t){return this.fragment_=t?encodeURIComponent(t):null,this},u.prototype.setRawFragment=function(t){return this.fragment_=t?t:null,this},u.prototype.hasFragment=function(){return null!==this.fragment_};var p=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),d=/[#\/\?@]/g,m=/[\#\?]/g;return u.parse=t,u.create=e,u.resolve=a,u.collapse_dots=s,u.utils={mimeTypeOf:function(e){var n=t(e);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(e,n){return e?a(t(e),t(n)).toString():""+n}},u}(),r={};if(r.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},r.atype=r.atype,r.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},r.ATTRIBS=r.ATTRIBS,r.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},r.eflags=r.eflags,r.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:16,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2},r.ELEMENTS=r.ELEMENTS,r.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},r.ELEMENT_DOM_INTERFACES=r.ELEMENT_DOM_INTERFACES,r.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},r.ueffects=r.ueffects,r.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},r.URIEFFECTS=r.URIEFFECTS,r.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},r.ltypes=r.ltypes,r.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},r.LOADERTYPES=r.LOADERTYPES,"i"!=="I".toLowerCase())throw"I/i problem";var o=function(t){function e(t){if(k.hasOwnProperty(t))return k[t];var e=t.match(D);if(e)return String.fromCharCode(parseInt(e[1],10));if(e=t.match(O))return String.fromCharCode(parseInt(e[1],16));if(N&&R.test(t)){N.innerHTML="&"+t+";";var n=N.textContent;return k[t]=n,n}return"&"+t+";"}function n(t,n){return e(n)}function r(t){return t.replace(I,"")}function o(t){return t.replace(B,n)}function s(t){return(""+t).replace(U,"&amp;").replace(z,"&lt;").replace(H,"&gt;").replace($,"&#34;")}function a(t){return t.replace(j,"&amp;$1").replace(z,"&lt;").replace(H,"&gt;")}function u(t){var e={cdata:t.cdata||t.cdata,comment:t.comment||t.comment,endDoc:t.endDoc||t.endDoc,endTag:t.endTag||t.endTag,pcdata:t.pcdata||t.pcdata,rcdata:t.rcdata||t.rcdata,startDoc:t.startDoc||t.startDoc,startTag:t.startTag||t.startTag};return function(t,n){return l(t,e,n)}}function l(t,e,n){var i=f(t),r={noMoreGT:!1,noMoreEndComments:!1};c(e,i,0,r,n)}function h(t,e,n,i,r){return function(){c(t,e,n,i,r)}}function c(e,n,i,r,o){try{e.startDoc&&0==i&&e.startDoc(o);for(var s,a,u,l=i,c=n.length;c>l;){var f=n[l++],g=n[l];switch(f){case"&":F.test(g)?(e.pcdata&&e.pcdata("&"+g,o,V,h(e,n,l,r,o)),l++):e.pcdata&&e.pcdata("&amp;",o,V,h(e,n,l,r,o));break;case"</":(s=/^([-\w:]+)[^\'\"]*/.exec(g))?s[0].length===g.length&&">"===n[l+1]?(l+=2,u=s[1].toLowerCase(),e.endTag&&e.endTag(u,o,V,h(e,n,l,r,o))):l=p(n,l,e,o,V,r):e.pcdata&&e.pcdata("&lt;/",o,V,h(e,n,l,r,o));break;case"<":if(s=/^([-\w:]+)\s*\/?/.exec(g))if(s[0].length===g.length&&">"===n[l+1]){l+=2,u=s[1].toLowerCase(),e.startTag&&e.startTag(u,[],o,V,h(e,n,l,r,o));var v=t.ELEMENTS[u];if(v&G){var _={name:u,next:l,eflags:v};l=m(n,_,e,o,V,r)}}else l=d(n,l,e,o,V,r);else e.pcdata&&e.pcdata("&lt;",o,V,h(e,n,l,r,o));break;case"<!--":if(!r.noMoreEndComments){for(a=l+1;c>a&&(">"!==n[a]||!/--$/.test(n[a-1]));a++);if(c>a){if(e.comment){var y=n.slice(l,a).join("");e.comment(y.substr(0,y.length-2),o,V,h(e,n,a+1,r,o))}l=a+1}else r.noMoreEndComments=!0}r.noMoreEndComments&&e.pcdata&&e.pcdata("&lt;!--",o,V,h(e,n,l,r,o));break;case"<!":if(/^\w/.test(g)){if(!r.noMoreGT){for(a=l+1;c>a&&">"!==n[a];a++);c>a?l=a+1:r.noMoreGT=!0}r.noMoreGT&&e.pcdata&&e.pcdata("&lt;!",o,V,h(e,n,l,r,o))}else e.pcdata&&e.pcdata("&lt;!",o,V,h(e,n,l,r,o));break;case"<?":if(!r.noMoreGT){for(a=l+1;c>a&&">"!==n[a];a++);c>a?l=a+1:r.noMoreGT=!0}r.noMoreGT&&e.pcdata&&e.pcdata("&lt;?",o,V,h(e,n,l,r,o));break;case">":e.pcdata&&e.pcdata("&gt;",o,V,h(e,n,l,r,o));break;case"":break;default:e.pcdata&&e.pcdata(f,o,V,h(e,n,l,r,o))}}e.endDoc&&e.endDoc(o)}catch(b){if(b!==V)throw b}}function f(t){var e=/(<\/|<\!--|<[!?]|[&<>])/g;if(t+="",q)return t.split(e);for(var n,i=[],r=0;null!==(n=e.exec(t));)i.push(t.substring(r,n.index)),i.push(n[0]),r=n.index+n[0].length;return i.push(t.substring(r)),i}function p(t,e,n,i,r,o){var s=g(t,e);return s?(n.endTag&&n.endTag(s.name,i,r,h(n,t,e,o,i)),s.next):t.length}function d(t,e,n,i,r,o){var s=g(t,e);return s?(n.startTag&&n.startTag(s.name,s.attrs,i,r,h(n,t,s.next,o,i)),s.eflags&G?m(t,s,n,i,r,o):s.next):t.length}function m(e,n,i,r,o,s){var u=e.length;Z.hasOwnProperty(n.name)||(Z[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=Z[n.name],c=n.next,f=n.next+1;u>f&&("</"!==e[f-1]||!l.test(e[f]));f++);u>f&&(f-=1);var p=e.slice(c,f).join("");if(n.eflags&t.eflags.CDATA)i.cdata&&i.cdata(p,r,o,h(i,e,f,s,r));else{if(!(n.eflags&t.eflags.RCDATA))throw new Error("bug");i.rcdata&&i.rcdata(a(p),r,o,h(i,e,f,s,r))}return f}function g(e,n){var i=/^([-\w:]+)/.exec(e[n]),r={};r.name=i[1].toLowerCase(),r.eflags=t.ELEMENTS[r.name];for(var o=e[n].substr(i[0].length),s=n+1,a=e.length;a>s&&">"!==e[s];s++)o+=e[s];if(!(s>=a)){for(var u=[];""!==o;)if(i=W.exec(o)){if(i[4]&&!i[5]||i[6]&&!i[7]){for(var l=i[4]||i[6],h=!1,c=[o,e[s++]];a>s;s++){if(h){if(">"===e[s])break}else 0<=e[s].indexOf(l)&&(h=!0);c.push(e[s])}if(s>=a)break;o=c.join("");continue}var f=i[1].toLowerCase(),p=i[2]?v(i[3]):"";u.push(f,p),o=o.substr(i[0].length)}else o=o.replace(/^[\s\S][^a-z\s]*/,"");return r.attrs=u,r.next=s+1,r}}function v(t){var e=t.charCodeAt(0);return(34===e||39===e)&&(t=t.substr(1,t.length-2)),o(r(t))}function _(e){var n,i,r=function(t,e){i||e.push(t)};return u({startDoc:function(t){n=[],i=!1},startTag:function(r,o,a){if(!i&&t.ELEMENTS.hasOwnProperty(r)){var u=t.ELEMENTS[r];if(!(u&t.eflags.FOLDABLE)){var l=e(r,o);if(!l)return void(i=!(u&t.eflags.EMPTY));if("object"!=typeof l)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in l))throw new Error("tagPolicy gave no attribs");o=l.attribs;var h,c;if("tagName"in l?(c=l.tagName,h=t.ELEMENTS[c]):(c=r,h=u),u&t.eflags.OPTIONAL_ENDTAG){var f=n[n.length-1];!f||f.orig!==r||f.rep===c&&r===c||a.push("</",f.rep,">")}u&t.eflags.EMPTY||n.push({orig:r,rep:c}),a.push("<",c);for(var p=0,d=o.length;d>p;p+=2){var m=o[p],g=o[p+1];null!==g&&void 0!==g&&a.push(" ",m,'="',s(g),'"')}a.push(">"),u&t.eflags.EMPTY&&!(h&t.eflags.EMPTY)&&a.push("</",c,">")}}},endTag:function(e,r){if(i)return void(i=!1);if(t.ELEMENTS.hasOwnProperty(e)){var o=t.ELEMENTS[e];if(!(o&(t.eflags.EMPTY|t.eflags.FOLDABLE))){var s;if(o&t.eflags.OPTIONAL_ENDTAG)for(s=n.length;--s>=0;){
var a=n[s].orig;if(a===e)break;if(!(t.ELEMENTS[a]&t.eflags.OPTIONAL_ENDTAG))return}else for(s=n.length;--s>=0&&n[s].orig!==e;);if(0>s)return;for(var u=n.length;--u>s;){var l=n[u].rep;t.ELEMENTS[l]&t.eflags.OPTIONAL_ENDTAG||r.push("</",l,">")}s<n.length&&(e=n[s].rep),n.length=s,r.push("</",e,">")}}},pcdata:r,rcdata:r,cdata:r,endDoc:function(t){for(;n.length;n.length--)t.push("</",n[n.length-1].rep,">")}})}function y(t,e,n,r,o){if(!o)return null;try{var s=i.parse(""+t);if(s&&(!s.hasScheme()||X.test(s.getScheme()))){var a=o(s,e,n,r);return a?a.toString():null}}catch(u){return null}return null}function b(t,e,n,i,r){if(n||t(e+" removed",{change:"removed",tagName:e}),i!==r){var o="changed";i&&!r?o="removed":!i&&r&&(o="added"),t(e+"."+n+" "+o,{change:o,tagName:e,attribName:n,oldValue:i,newValue:r})}}function x(t,e,n){var i;return i=e+"::"+n,t.hasOwnProperty(i)?t[i]:(i="*::"+n,t.hasOwnProperty(i)?t[i]:void 0)}function w(e,n){return x(t.LOADERTYPES,e,n)}function T(e,n){return x(t.URIEFFECTS,e,n)}function E(e,n,i,r,o){for(var s=0;s<n.length;s+=2){var a,u=n[s],l=n[s+1],h=l,c=null;if(a=e+"::"+u,(t.ATTRIBS.hasOwnProperty(a)||(a="*::"+u,t.ATTRIBS.hasOwnProperty(a)))&&(c=t.ATTRIBS[a]),null!==c)switch(c){case t.atype.NONE:break;case t.atype.SCRIPT:l=null,o&&b(o,e,u,h,l);break;case t.atype.STYLE:if("undefined"==typeof P){l=null,o&&b(o,e,u,h,l);break}var f=[];P(l,{declaration:function(e,n){var r=e.toLowerCase(),o=A[r];o&&(M(r,o,n,i?function(e){return y(e,t.ueffects.SAME_DOCUMENT,t.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:r},i)}:null),f.push(e+": "+n.join(" ")))}}),l=f.length>0?f.join(" ; "):null,o&&b(o,e,u,h,l);break;case t.atype.ID:case t.atype.IDREF:case t.atype.IDREFS:case t.atype.GLOBAL_NAME:case t.atype.LOCAL_NAME:case t.atype.CLASSES:l=r?r(l):l,o&&b(o,e,u,h,l);break;case t.atype.URI:l=y(l,T(e,u),w(e,u),{TYPE:"MARKUP",XML_ATTR:u,XML_TAG:e},i),o&&b(o,e,u,h,l);break;case t.atype.URI_FRAGMENT:l&&"#"===l.charAt(0)?(l=l.substring(1),l=r?r(l):l,null!==l&&void 0!==l&&(l="#"+l)):l=null,o&&b(o,e,u,h,l);break;default:l=null,o&&b(o,e,u,h,l)}else l=null,o&&b(o,e,u,h,l);n[s+1]=l}return n}function C(e,n,i){return function(r,o){return t.ELEMENTS[r]&t.eflags.UNSAFE?void(i&&b(i,r,void 0,void 0,void 0)):{attribs:E(r,o,e,n,i)}}}function S(t,e){var n=[];return _(e)(t,n),n.join("")}function L(t,e,n,i){var r=C(e,n,i);return S(t,r)}var P,M,A;"undefined"!=typeof window&&(P=window.parseCssDeclarations,M=window.sanitizeCssProperty,A=window.cssSchema);var k={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:"Â "},D=/^#(\d+)$/,O=/^#x([0-9A-Fa-f]+)$/,R=/^[A-Za-z][A-za-z0-9]+$/,N="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null,I=/\0/g,B=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,F=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,U=/&/g,j=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,z=/[<]/g,H=/>/g,$=/\"/g,W=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),q=3==="a,b".split(/(,)/).length,G=t.eflags.CDATA|t.eflags.RCDATA,V={},Z={},X=/^(?:https?|mailto|data)$/i,Y={};return Y.escapeAttrib=Y.escapeAttrib=s,Y.makeHtmlSanitizer=Y.makeHtmlSanitizer=_,Y.makeSaxParser=Y.makeSaxParser=u,Y.makeTagPolicy=Y.makeTagPolicy=C,Y.normalizeRCData=Y.normalizeRCData=a,Y.sanitize=Y.sanitize=L,Y.sanitizeAttribs=Y.sanitizeAttribs=E,Y.sanitizeWithPolicy=Y.sanitizeWithPolicy=S,Y.unescapeEntities=Y.unescapeEntities=o,Y}(r),s=o.sanitize;r.ATTRIBS["*::style"]=0,r.ELEMENTS.style=0,r.ATTRIBS["a::target"]=0,r.ELEMENTS.video=0,r.ATTRIBS["video::src"]=0,r.ATTRIBS["video::poster"]=0,r.ATTRIBS["video::controls"]=0,r.ELEMENTS.audio=0,r.ATTRIBS["audio::src"]=0,r.ATTRIBS["video::autoplay"]=0,r.ATTRIBS["video::controls"]=0,"undefined"!=typeof e&&(e.exports=s)},{}],7:[function(t,e,n){e.exports={author:"Mapbox",name:"mapbox.js",description:"mapbox javascript api",version:"2.4.0",homepage:"http://mapbox.com/",repository:{type:"git",url:"git://github.com/mapbox/mapbox.js.git"},main:"src/index.js",dependencies:{corslite:"0.0.6",isarray:"0.0.1",leaflet:"0.7.7",mustache:"2.2.1","sanitize-caja":"0.1.3"},scripts:{test:"eslint --no-eslintrc -c .eslintrc src && mocha-phantomjs test/index.html"},license:"BSD-3-Clause",devDependencies:{browserify:"^13.0.0","clean-css":"~2.0.7",eslint:"^0.23.0","expect.js":"0.3.1",happen:"0.1.3","leaflet-fullscreen":"0.0.4","leaflet-hash":"0.2.1",marked:"~0.3.0",minifyify:"^6.1.0",minimist:"0.0.5",mocha:"2.4.5","mocha-phantomjs":"4.0.2",sinon:"1.10.2"},optionalDependencies:{},engines:{node:"*"}}},{}],8:[function(t,e,n){"use strict";e.exports={HTTP_URL:"http://a.tiles.mapbox.com/v4",HTTPS_URL:"https://a.tiles.mapbox.com/v4",FORCE_HTTPS:!1,REQUIRE_ACCESS_TOKEN:!0}},{}],9:[function(t,e,n){"use strict";var i=t("./util"),r=t("./format_url"),o=t("./request"),s=t("./marker"),a=t("./simplestyle"),u=L.FeatureGroup.extend({options:{filter:function(){return!0},sanitizer:t("sanitize-caja"),style:a.style,popupOptions:{closeButton:!1}},initialize:function(t,e){L.setOptions(this,e),this._layers={},"string"==typeof t?i.idUrl(t,this):t&&"object"==typeof t&&this.setGeoJSON(t)},setGeoJSON:function(t){return this._geojson=t,this.clearLayers(),this._initialize(t),this},getGeoJSON:function(){return this._geojson},loadURL:function(t){return this._request&&"abort"in this._request&&this._request.abort(),this._request=o(t,L.bind(function(e,n){this._request=null,e&&"abort"!==e.type?(i.log("could not load features at "+t),this.fire("error",{error:e})):n&&(this.setGeoJSON(n),this.fire("ready"))},this)),this},loadID:function(t){return this.loadURL(r("/v4/"+t+"/features.json",this.options.accessToken))},setFilter:function(t){return this.options.filter=t,this._geojson&&(this.clearLayers(),this._initialize(this._geojson)),this},getFilter:function(){return this.options.filter},_initialize:function(t){var e,n,i=L.Util.isArray(t)?t:t.features;if(i)for(e=0,n=i.length;n>e;e++)(i[e].geometries||i[e].geometry||i[e].features)&&this._initialize(i[e]);else if(this.options.filter(t)){var r={accessToken:this.options.accessToken},o=this.options.pointToLayer||function(t,e){return s.style(t,e,r)},u=L.GeoJSON.geometryToLayer(t,o),l=s.createPopup(t,this.options.sanitizer),h=this.options.style,c=h===a.style;!(h&&"setStyle"in u)||c&&(u instanceof L.Circle||u instanceof L.CircleMarker)||("function"==typeof h&&(h=h(t)),u.setStyle(h)),u.feature=t,l&&u.bindPopup(l,this.options.popupOptions),this.addLayer(u)}}});e.exports.FeatureLayer=u,e.exports.featureLayer=function(t,e){return new u(t,e)}},{"./format_url":11,"./marker":25,"./request":26,"./simplestyle":28,"./util":31,"sanitize-caja":5}],10:[function(t,e,n){"use strict";var i=L.Class.extend({includes:L.Mixin.Events,data:{},record:function(t){L.extend(this.data,t),this.fire("change")}});e.exports=new i},{}],11:[function(t,e,n){"use strict";var i=t("./config"),r=t("../package.json").version;e.exports=function(t,e){if(e=e||L.mapbox.accessToken,!e&&i.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox.js. See https://www.mapbox.com/mapbox.js/api/v"+r+"/api-access-tokens/");var n="https:"===document.location.protocol||i.FORCE_HTTPS?i.HTTPS_URL:i.HTTP_URL;if(n=n.replace(/\/v4$/,""),n+=t,i.REQUIRE_ACCESS_TOKEN){if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox.js, not a secret access token (sk.*). See https://www.mapbox.com/mapbox.js/api/v"+r+"/api-access-tokens/");n+=-1!==n.indexOf("?")?"&access_token=":"?access_token=",n+=e}return n},e.exports.tileJSON=function(t,n){if(0===t.indexOf("mapbox://styles"))throw new Error("Styles created with Mapbox Studio need to be used with L.mapbox.styleLayer, not L.mapbox.tileLayer");if(-1!==t.indexOf("/"))return t;var i=e.exports("/v4/"+t+".json",n);return 0===i.indexOf("https")&&(i+="&secure"),i},e.exports.style=function(t,n){if(-1===t.indexOf("mapbox://styles/"))throw new Error("Incorrectly formatted Mapbox style at "+t);var i=t.split("mapbox://styles/")[1],r=e.exports("/styles/v1/"+i,n).replace("http://","https://");return r}},{"../package.json":7,"./config":8}],12:[function(t,e,n){"use strict";var i=t("isarray"),r=t("./util"),o=t("./format_url"),s=t("./feedback"),a=t("./request");e.exports=function(t,e){function n(t,e){var n=Math.pow(10,e);return t.lat=Math.round(t.lat*n)/n,t.lng=Math.round(t.lng*n)/n,t}e||(e={});var u={};return r.strict(t,"string"),-1===t.indexOf("/")&&(t=o("/geocoding/v5/"+t+"/{query}.json",e.accessToken,5)),u.getURL=function(){return t},u.queryURL=function(t){var e=!(i(t)||"string"==typeof t),r=e?t.query:t;if(i(r)){for(var o=[],a=0;a<r.length;a++)o[a]=encodeURIComponent(r[a]);r=o.join(";")}else r=encodeURIComponent(r);s.record({geocoding:r});var l=L.Util.template(u.getURL(),{query:r});if(e){if(t.types&&(l+=i(t.types)?"&types="+t.types.join():"&types="+t.types),t.country&&(l+=i(t.country)?"&country="+t.country.join():"&country="+t.country),t.proximity){var h=n(L.latLng(t.proximity),3);l+="&proximity="+h.lng+","+h.lat}"boolean"==typeof t.autocomplete&&(l+="&autocomplete="+t.autocomplete)}return l},u.query=function(t,e){return r.strict(e,"function"),a(u.queryURL(t),function(t,n){if(n&&(n.length||n.features)){var i={results:n};n.features&&n.features.length&&(i.latlng=[n.features[0].center[1],n.features[0].center[0]],n.features[0].bbox&&(i.bounds=n.features[0].bbox,i.lbounds=r.lbounds(i.bounds))),e(null,i)}else e(t||!0)}),u},u.reverseQuery=function(t,e){function i(t){var e;return e=void 0!==t.lat&&void 0!==t.lng?L.latLng(t.lat,t.lng):void 0!==t.lat&&void 0!==t.lon?L.latLng(t.lat,t.lon):L.latLng(t[1],t[0]),e=n(e,5),e.lng+","+e.lat}var r="";if(t.length&&t[0].length){for(var o=0,s=[];o<t.length;o++)s.push(i(t[o]));r=s.join(";")}else r=i(t);return a(u.queryURL(r),function(t,n){e(t,n)}),u},u}},{"./feedback":10,"./format_url":11,"./request":26,"./util":31,isarray:2}],13:[function(t,e,n){"use strict";var i=t("./geocoder"),r=t("./util"),o=L.Control.extend({includes:L.Mixin.Events,options:{proximity:!0,position:"topleft",pointZoom:16,keepOpen:!1,autocomplete:!1,queryOptions:{}},initialize:function(t,e){L.Util.setOptions(this,e),this.setURL(t),this._updateSubmit=L.bind(this._updateSubmit,this),this._updateAutocomplete=L.bind(this._updateAutocomplete,this),this._chooseResult=L.bind(this._chooseResult,this)},setURL:function(t){return this.geocoder=i(t,{accessToken:this.options.accessToken}),this},getURL:function(){return this.geocoder.getURL()},setID:function(t){return this.setURL(t)},setTileJSON:function(t){return this.setURL(t.geocoder)},_toggle:function(t){t&&L.DomEvent.stop(t),L.DomUtil.hasClass(this._container,"active")?(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur()):(L.DomUtil.addClass(this._container,"active"),this._input.focus(),this._input.select())},_closeIfOpen:function(){L.DomUtil.hasClass(this._container,"active")&&!this.options.keepOpen&&(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur())},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-mapbox-geocoder leaflet-bar leaflet-control"),n=L.DomUtil.create("a","leaflet-control-mapbox-geocoder-toggle mapbox-icon mapbox-icon-geocoder",e),i=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-results",e),r=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-wrap",e),o=L.DomUtil.create("form","leaflet-control-mapbox-geocoder-form",r),s=L.DomUtil.create("input","",o);return n.href="#",n.innerHTML="&nbsp;",s.type="text",s.setAttribute("placeholder","Search"),L.DomEvent.addListener(o,"submit",this._geocode,this),L.DomEvent.addListener(s,"keyup",this._autocomplete,this),L.DomEvent.disableClickPropagation(e),this._map=t,this._results=i,this._input=s,this._form=o,this.options.keepOpen?L.DomUtil.addClass(e,"active"):(this._map.on("click",this._closeIfOpen,this),L.DomEvent.addListener(n,"click",this._toggle,this)),e},_updateSubmit:function(t,e){if(L.DomUtil.removeClass(this._container,"searching"),this._results.innerHTML="",t||!e)this.fire("error",{error:t});else{var n=[];e.results&&e.results.features&&(n=e.results.features),1===n.length?(this.fire("autoselect",{feature:n[0]}),this.fire("found",{results:e.results}),this._chooseResult(n[0]),this._closeIfOpen()):n.length>1?(this.fire("found",{results:e.results}),this._displayResults(n)):(this.fire("notfound"),this._displayResults(n))}},_updateAutocomplete:function(t,e){if(this._results.innerHTML="",t||!e)this.fire("error",{error:t});else{var n=[];e.results&&e.results.features&&(n=e.results.features),n.length?this.fire("found",{results:e.results}):this.fire("notfound"),this._displayResults(n)}},_displayResults:function(t){for(var e=0,n=Math.min(t.length,5);n>e;e++){var i=t[e],r=i.place_name;if(r.length){var o=L.DomUtil.create("a","",this._results),s="innerText"in o?"innerText":"textContent";o[s]=r,o.setAttribute("title",r),o.href="#",L.bind(function(t){L.DomEvent.addListener(o,"click",function(e){this._chooseResult(t),L.DomEvent.stop(e),this.fire("select",{feature:t})},this)},this)(i)}}if(t.length>5){var a=L.DomUtil.create("span","",this._results);a.innerHTML="Top 5 of "+t.length+"  results"}},_chooseResult:function(t){t.bbox?this._map.fitBounds(r.lbounds(t.bbox)):t.center&&this._map.setView([t.center[1],t.center[0]],void 0===this._map.getZoom()?this.options.pointZoom:Math.max(this._map.getZoom(),this.options.pointZoom))},_geocode:function(t){return L.DomEvent.preventDefault(t),""===this._input.value?this._updateSubmit():(L.DomUtil.addClass(this._container,"searching"),void this.geocoder.query(L.Util.extend({query:this._input.value,proximity:this.options.proximity?this._map.getCenter():!1},this.options.queryOptions),this._updateSubmit))},_autocomplete:function(){return this.options.autocomplete?""===this._input.value?this._updateAutocomplete():void this.geocoder.query(L.Util.extend({query:this._input.value,proximity:this.options.proximity?this._map.getCenter():!1},this.options.queryOptions),this._updateAutocomplete):void 0}});e.exports.GeocoderControl=o,e.exports.geocoderControl=function(t,e){return new o(t,e)}},{"./geocoder":12,"./util":31}],14:[function(t,e,n){"use strict";function i(t){return t>=93&&t--,t>=35&&t--,t-32}e.exports=function(t){return function(e,n){if(t){var r=i(t.grid[n].charCodeAt(e)),o=t.keys[r];return t.data[o]}}}},{}],15:[function(t,e,n){"use strict";var i=t("./util"),r=t("mustache"),o=L.Control.extend({options:{pinnable:!0,follow:!1,sanitizer:t("sanitize-caja"),touchTeaser:!0,location:!0},_currentContent:"",_pinned:!1,initialize:function(t,e){L.Util.setOptions(this,e),i.strict_instance(t,L.Class,"L.mapbox.gridLayer"),this._layer=t},setTemplate:function(t){return i.strict(t,"string"),this.options.template=t,this},_template:function(t,e){if(e){var n=this.options.template||this._layer.getTileJSON().template;if(n){var i={};return i["__"+t+"__"]=!0,this.options.sanitizer(r.to_html(n,L.extend(i,e)))}}},_show:function(t,e){t!==this._currentContent&&(this._currentContent=t,this.options.follow?(this._popup.setContent(t).setLatLng(e.latLng),this._map._popup!==this._popup&&this._popup.openOn(this._map)):(this._container.style.display="block",this._contentWrapper.innerHTML=t))},hide:function(){return this._pinned=!1,this._currentContent="",this._map.closePopup(),this._container.style.display="none",this._contentWrapper.innerHTML="",L.DomUtil.removeClass(this._container,"closable"),this},_mouseover:function(t){if(t.data?L.DomUtil.addClass(this._map._container,"map-clickable"):L.DomUtil.removeClass(this._map._container,"map-clickable"),!this._pinned){var e=this._template("teaser",t.data);e?this._show(e,t):this.hide()}},_mousemove:function(t){this._pinned||this.options.follow&&this._popup.setLatLng(t.latLng)},_navigateTo:function(t){window.top.location.href=t},_click:function(t){var e=this._template("location",t.data);if(this.options.location&&e&&0===e.search(/^https?:/))return this._navigateTo(this._template("location",t.data));if(this.options.pinnable){var n=this._template("full",t.data);!n&&this.options.touchTeaser&&L.Browser.touch&&(n=this._template("teaser",t.data)),n?(L.DomUtil.addClass(this._container,"closable"),this._pinned=!0,this._show(n,t)):this._pinned&&(L.DomUtil.removeClass(this._container,"closable"),this._pinned=!1,this.hide())}},_onPopupClose:function(){this._currentContent=null,this._pinned=!1},_createClosebutton:function(t,e){var n=L.DomUtil.create("a","close",t);return n.innerHTML="close",n.href="#",n.title="close",L.DomEvent.on(n,"click",L.DomEvent.stopPropagation).on(n,"mousedown",L.DomEvent.stopPropagation).on(n,"dblclick",L.DomEvent.stopPropagation).on(n,"click",L.DomEvent.preventDefault).on(n,"click",e,this),n},onAdd:function(t){this._map=t;var e="leaflet-control-grid map-tooltip",n=L.DomUtil.create("div",e),i=L.DomUtil.create("div","map-tooltip-content");return n.style.display="none",this._createClosebutton(n,this.hide),n.appendChild(i),this._contentWrapper=i,this._popup=new L.Popup({autoPan:!1,closeOnClick:!1}),t.on("popupclose",this._onPopupClose,this),L.DomEvent.disableClickPropagation(n).addListener(n,"mousewheel",L.DomEvent.stopPropagation),this._layer.on("mouseover",this._mouseover,this).on("mousemove",this._mousemove,this).on("click",this._click,this),n},onRemove:function(t){t.off("popupclose",this._onPopupClose,this),this._layer.off("mouseover",this._mouseover,this).off("mousemove",this._mousemove,this).off("click",this._click,this)}});e.exports.GridControl=o,e.exports.gridControl=function(t,e){return new o(t,e)}},{"./util":31,mustache:4,"sanitize-caja":5}],16:[function(t,e,n){"use strict";var i=t("./util"),r=t("./request"),o=t("./grid"),s=L.Class.extend({includes:[L.Mixin.Events,t("./load_tilejson")],options:{template:function(){return""}},_mouseOn:null,_tilejson:{},_cache:{},initialize:function(t,e){L.Util.setOptions(this,e),this._loadTileJSON(t)},_setTileJSON:function(t){return i.strict(t,"object"),L.extend(this.options,{grids:t.grids,minZoom:t.minzoom,maxZoom:t.maxzoom,bounds:t.bounds&&i.lbounds(t.bounds)}),this._tilejson=t,this._cache={},this._update(),this},getTileJSON:function(){return this._tilejson},active:function(){return!!(this._map&&this.options.grids&&this.options.grids.length)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t,this._update(),this._map.on("click",this._click,this).on("mousemove",this._move,this).on("moveend",this._update,this)},onRemove:function(){this._map.off("click",this._click,this).off("mousemove",this._move,this).off("moveend",this._update,this)},getData:function(t,e){if(this.active()){var n=this._map,i=n.project(t.wrap()),r=256,o=4,s=Math.floor(i.x/r),a=Math.floor(i.y/r),u=n.options.crs.scale(n.getZoom())/r;return s=(s+u)%u,a=(a+u)%u,this._getTile(n.getZoom(),s,a,function(t){var n=Math.floor((i.x-s*r)/o),u=Math.floor((i.y-a*r)/o);e(t(n,u))}),this}},_click:function(t){this.getData(t.latlng,L.bind(function(e){this.fire("click",{latLng:t.latlng,data:e})},this))},_move:function(t){this.getData(t.latlng,L.bind(function(e){e!==this._mouseOn?(this._mouseOn&&this.fire("mouseout",{latLng:t.latlng,data:this._mouseOn}),this.fire("mouseover",{latLng:t.latlng,data:e}),this._mouseOn=e):this.fire("mousemove",{latLng:t.latlng,data:e})},this))},_getTileURL:function(t){var e=this.options.grids,n=(t.x+t.y)%e.length,i=e[n];return L.Util.template(i,t)},_update:function(){if(this.active()){var t=this._map.getPixelBounds(),e=this._map.getZoom(),n=256;if(!(e>this.options.maxZoom||e<this.options.minZoom))for(var i=L.bounds(t.min.divideBy(n)._floor(),t.max.divideBy(n)._floor()),r=this._map.options.crs.scale(e)/n,o=i.min.x;o<=i.max.x;o++)for(var s=i.min.y;s<=i.max.y;s++)this._getTile(e,(o%r+r)%r,(s%r+r)%r)}},_getTile:function(t,e,n,i){var s=t+"_"+e+"_"+n,a=L.point(e,n);if(a.z=t,this._tileShouldBeLoaded(a)){if(s in this._cache){if(!i)return;return void("function"==typeof this._cache[s]?i(this._cache[s]):this._cache[s].push(i))}this._cache[s]=[],i&&this._cache[s].push(i),r(this._getTileURL(a),L.bind(function(t,e){var n=this._cache[s];this._cache[s]=o(e);for(var i=0;i<n.length;++i)n[i](this._cache[s])},this))}},_tileShouldBeLoaded:function(t){if(t.z>this.options.maxZoom||t.z<this.options.minZoom)return!1;if(this.options.bounds){var e=256,n=t.multiplyBy(e),i=n.add(new L.Point(e,e)),r=this._map.unproject(n),o=this._map.unproject(i),s=new L.LatLngBounds([r,o]);if(!this.options.bounds.intersects(s))return!1}return!0}});e.exports.GridLayer=s,e.exports.gridLayer=function(t,e){return new s(t,e)}},{"./grid":14,"./load_tilejson":21,"./request":26,"./util":31}],17:[function(t,e,n){"use strict";var i=t("./leaflet");t("./mapbox"),e.exports=i},{"./leaflet":19,"./mapbox":23}],18:[function(t,e,n){"use strict";var i=L.Control.extend({options:{position:"bottomright",sanitizer:t("sanitize-caja")},initialize:function(t){L.setOptions(this,t),this._info={},console.warn("infoControl has been deprecated and will be removed in mapbox.js v3.0.0. Use the default attribution control instead, which is now responsive.")},onAdd:function(t){this._container=L.DomUtil.create("div","mapbox-control-info mapbox-small"),this._content=L.DomUtil.create("div","map-info-container",this._container);var e=L.DomUtil.create("a","mapbox-info-toggle mapbox-icon mapbox-icon-info",this._container);e.href="#",L.DomEvent.addListener(e,"click",this._showInfo,this),L.DomEvent.disableClickPropagation(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addInfo(t._layers[n].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd,this).off("layerremove",this._onLayerRemove,this)},addInfo:function(t){return t?(this._info[t]||(this._info[t]=0),this._info[t]=!0,this._update()):this},removeInfo:function(t){return t?(this._info[t]&&(this._info[t]=!1),this._update()):this},_showInfo:function(t){return L.DomEvent.preventDefault(t),this._active===!0?this._hidecontent():(L.DomUtil.addClass(this._container,"active"),this._active=!0,void this._update())},_hidecontent:function(){this._content.innerHTML="",this._active=!1,L.DomUtil.removeClass(this._container,"active")},_update:function(){if(!this._map)return this;this._content.innerHTML="";var t="none",e=[];for(var n in this._info)this._info.hasOwnProperty(n)&&this._info[n]&&(e.push(this.options.sanitizer(n)),t="block");return this._content.innerHTML+=e.join(" | "),this._container.style.display=t,this},_onLayerAdd:function(t){t.layer.getAttribution&&t.layer.getAttribution()?this.addInfo(t.layer.getAttribution()):"on"in t.layer&&t.layer.getAttribution&&t.layer.on("ready",L.bind(function(){this.addInfo(t.layer.getAttribution())},this))},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeInfo(t.layer.getAttribution())}});e.exports.InfoControl=i,e.exports.infoControl=function(t){return new i(t)}},{"sanitize-caja":5}],19:[function(t,e,n){e.exports=window.L=t("leaflet/dist/leaflet-src")},{"leaflet/dist/leaflet-src":3}],20:[function(t,e,n){"use strict";var i=L.Control.extend({options:{position:"bottomright",sanitizer:t("sanitize-caja")},initialize:function(t){L.setOptions(this,t),this._legends={}},onAdd:function(){return this._container=L.DomUtil.create("div","map-legends wax-legends"),L.DomEvent.disableClickPropagation(this._container),this._update(),this._container},addLegend:function(t){return t?(this._legends[t]||(this._legends[t]=0),this._legends[t]++,this._update()):this},removeLegend:function(t){return t?(this._legends[t]&&this._legends[t]--,this._update()):this},_update:function(){if(!this._map)return this;this._container.innerHTML="";var t="none";for(var e in this._legends)if(this._legends.hasOwnProperty(e)&&this._legends[e]){var n=L.DomUtil.create("div","map-legend wax-legend",this._container);n.innerHTML=this.options.sanitizer(e),t="block"}return this._container.style.display=t,this}});e.exports.LegendControl=i,e.exports.legendControl=function(t){return new i(t)}},{"sanitize-caja":5}],21:[function(t,e,n){"use strict";var i=t("./request"),r=t("./format_url"),o=t("./util");e.exports={_loadTileJSON:function(t){"string"==typeof t?(t=r.tileJSON(t,this.options&&this.options.accessToken),i(t,L.bind(function(e,n){e?(o.log("could not load TileJSON at "+t),this.fire("error",{error:e})):n&&(this._setTileJSON(n),this.fire("ready"))},this))):t&&"object"==typeof t&&this._setTileJSON(t)}}},{"./format_url":11,"./request":26,"./util":31}],22:[function(t,e,n){"use strict";function i(t,e){return!e||t.accessToken?t:L.extend({accessToken:e},t)}var r=t("./tile_layer").tileLayer,o=t("./feature_layer").featureLayer,s=t("./grid_layer").gridLayer,a=t("./grid_control").gridControl,u=t("./info_control").infoControl,l=t("./share_control").shareControl,h=t("./legend_control").legendControl,c=t("./mapbox_logo").mapboxLogoControl,f=t("./feedback"),p=L.Map.extend({includes:[t("./load_tilejson")],options:{tileLayer:{},featureLayer:{},gridLayer:{},legendControl:{},gridControl:{},infoControl:!1,shareControl:!1,sanitizer:t("sanitize-caja")},_tilejson:{},initialize:function(t,e,n){if(L.Map.prototype.initialize.call(this,t,L.extend({},L.Map.prototype.options,n)),this.attributionControl){this.attributionControl.setPrefix("");var p=this.options.attributionControl.compact;(p||p!==!1&&this._container.offsetWidth<=640)&&L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution"),void 0===p&&this.on("resize",function(){this._container.offsetWidth>640?L.DomUtil.removeClass(this.attributionControl._container,"leaflet-compact-attribution"):L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution")})}this.options.tileLayer&&(this.tileLayer=r(void 0,i(this.options.tileLayer,this.options.accessToken)),this.addLayer(this.tileLayer)),this.options.featureLayer&&(this.featureLayer=o(void 0,i(this.options.featureLayer,this.options.accessToken)),this.addLayer(this.featureLayer)),this.options.gridLayer&&(this.gridLayer=s(void 0,i(this.options.gridLayer,this.options.accessToken)),this.addLayer(this.gridLayer)),this.options.gridLayer&&this.options.gridControl&&(this.gridControl=a(this.gridLayer,this.options.gridControl),this.addControl(this.gridControl)),this.options.infoControl&&(this.infoControl=u(this.options.infoControl),this.addControl(this.infoControl)),this.options.legendControl&&(this.legendControl=h(this.options.legendControl),this.addControl(this.legendControl)),this.options.shareControl&&(this.shareControl=l(void 0,i(this.options.shareControl,this.options.accessToken)),this.addControl(this.shareControl)),this._mapboxLogoControl=c(this.options.mapboxLogoControl),this.addControl(this._mapboxLogoControl),this._loadTileJSON(e),this.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this).on("moveend",this._updateMapFeedbackLink,this),this.whenReady(function(){f.on("change",this._updateMapFeedbackLink,this)}),this.on("unload",function(){f.off("change",this._updateMapFeedbackLink,this)})},_setTileJSON:function(t){return this._tilejson=t,this._initialize(t),this},getTileJSON:function(){return this._tilejson},_initialize:function(t){if(this.tileLayer&&(this.tileLayer._setTileJSON(t),this._updateLayer(this.tileLayer)),this.featureLayer&&!this.featureLayer.getGeoJSON()&&t.data&&t.data[0]&&this.featureLayer.loadURL(t.data[0]),this.gridLayer&&(this.gridLayer._setTileJSON(t),this._updateLayer(this.gridLayer)),this.infoControl&&t.attribution&&(this.infoControl.addInfo(this.options.sanitizer(t.attribution)),this._updateMapFeedbackLink()),this.legendControl&&t.legend&&this.legendControl.addLegend(t.legend),this.shareControl&&this.shareControl._setTileJSON(t),this._mapboxLogoControl._setTileJSON(t),!this._loaded&&t.center){var e=void 0!==this.getZoom()?this.getZoom():t.center[2],n=L.latLng(t.center[1],t.center[0]);this.setView(n,e)}},_updateMapFeedbackLink:function(){if(this._controlContainer.getElementsByClassName){var t=this._controlContainer.getElementsByClassName("mapbox-improve-map");if(t.length&&this._loaded){var e=this.getCenter().wrap(),n=this._tilejson||{},i=n.id||"",r="#"+i+"/"+e.lng.toFixed(3)+"/"+e.lat.toFixed(3)+"/"+this.getZoom();for(var o in f.data)r+="/"+o+"="+f.data[o];for(var s=0;s<t.length;s++)t[s].hash=r}}},_onLayerAdd:function(t){"on"in t.layer&&t.layer.on("ready",this._onLayerReady,this),window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerRemove:function(t){"on"in t.layer&&t.layer.off("ready",this._onLayerReady,this),window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerReady:function(t){this._updateLayer(t.target)},_updateLayer:function(t){t.options&&(this.infoControl&&this._loaded&&this.infoControl.addInfo(t.options.infoControl),this.attributionControl&&this._loaded&&t.getAttribution&&this.attributionControl.addAttribution(t.getAttribution()),L.stamp(t)in this._zoomBoundLayers||!t.options.maxZoom&&!t.options.minZoom||(this._zoomBoundLayers[L.stamp(t)]=t),this._updateMapFeedbackLink(),this._updateZoomLevels())}});e.exports.Map=p,e.exports.map=function(t,e,n){return new p(t,e,n)}},{"./feature_layer":9,"./feedback":10,"./grid_control":15,"./grid_layer":16,"./info_control":18,"./legend_control":20,"./load_tilejson":21,"./mapbox_logo":24,"./share_control":27,"./tile_layer":30,"sanitize-caja":5}],23:[function(t,e,n){"use strict";var i=t("./geocoder_control"),r=t("./grid_control"),o=t("./feature_layer"),s=t("./legend_control"),a=t("./share_control"),u=t("./tile_layer"),l=t("./info_control"),h=t("./map"),c=t("./grid_layer"),f=t("./style_layer");L.mapbox=e.exports={VERSION:t("../package.json").version,geocoder:t("./geocoder"),marker:t("./marker"),simplestyle:t("./simplestyle"),tileLayer:u.tileLayer,TileLayer:u.TileLayer,styleLayer:f.styleLayer,StyleLayer:f.StyleLayer,infoControl:l.infoControl,InfoControl:l.InfoControl,shareControl:a.shareControl,ShareControl:a.ShareControl,legendControl:s.legendControl,LegendControl:s.LegendControl,geocoderControl:i.geocoderControl,GeocoderControl:i.GeocoderControl,gridControl:r.gridControl,GridControl:r.GridControl,gridLayer:c.gridLayer,GridLayer:c.GridLayer,featureLayer:o.featureLayer,FeatureLayer:o.FeatureLayer,map:h.map,Map:h.Map,config:t("./config"),sanitize:t("sanitize-caja"),template:t("mustache").to_html,feedback:t("./feedback")},window.L.Icon.Default.imagePath=("https:"===document.location.protocol||"http:"===document.location.protocol?"":"https:")+"//api.tiles.mapbox.com/mapbox.js/v"+t("../package.json").version+"/images"},{"../package.json":7,"./config":8,"./feature_layer":9,"./feedback":10,"./geocoder":12,"./geocoder_control":13,"./grid_control":15,"./grid_layer":16,"./info_control":18,"./legend_control":20,"./map":22,"./marker":25,"./share_control":27,"./simplestyle":28,"./style_layer":29,"./tile_layer":30,mustache:4,"sanitize-caja":5}],24:[function(t,e,n){"use strict";var i=L.Control.extend({options:{position:"bottomleft"},initialize:function(t){L.setOptions(this,t)},onAdd:function(){return this._container=L.DomUtil.create("div","mapbox-logo"),this._container},_setTileJSON:function(t){t.mapbox_logo&&L.DomUtil.addClass(this._container,"mapbox-logo-true")}});e.exports.MapboxLogoControl=i,e.exports.mapboxLogoControl=function(t){return new i(t)}},{}],25:[function(t,e,n){"use strict";function i(t,e){t=t||{};var n={small:[20,50],medium:[30,70],large:[35,90]},i=t["marker-size"]||"medium",r="marker-symbol"in t&&""!==t["marker-symbol"]?"-"+t["marker-symbol"]:"",o=(t["marker-color"]||"7e7e7e").replace("#","");return L.icon({iconUrl:s("/v4/marker/pin-"+i.charAt(0)+r+"+"+o+(L.Browser.retina?"@2x":"")+".png",e&&e.accessToken),iconSize:n[i],iconAnchor:[n[i][0]/2,n[i][1]/2],popupAnchor:[0,-n[i][1]/2]})}function r(t,e,n){return L.marker(e,{icon:i(t.properties,n),title:a.strip_tags(u(t.properties&&t.properties.title||""))})}function o(t,e){if(!t||!t.properties)return"";var n="";return t.properties.title&&(n+='<div class="marker-title">'+t.properties.title+"</div>"),t.properties.description&&(n+='<div class="marker-description">'+t.properties.description+"</div>"),(e||u)(n)}var s=t("./format_url"),a=t("./util"),u=t("sanitize-caja");
e.exports={icon:i,style:r,createPopup:o}},{"./format_url":11,"./util":31,"sanitize-caja":5}],26:[function(t,e,n){"use strict";var i=t("corslite"),r=t("./util").strict,o=t("./config"),s=/^(https?:)?(?=\/\/(.|api)\.tiles\.mapbox\.com\/)/;e.exports=function(t,e){function n(t,n){!t&&n&&(n=JSON.parse(n.responseText)),e(t,n)}return r(t,"string"),r(e,"function"),t=t.replace(s,function(t,e){return"withCredentials"in new window.XMLHttpRequest?"https:"===e||"https:"===document.location.protocol||o.FORCE_HTTPS?"https:":"http:":document.location.protocol}),i(t,n)}},{"./config":8,"./util":31,corslite:1}],27:[function(t,e,n){"use strict";var i=t("./format_url"),r=L.Control.extend({includes:[t("./load_tilejson")],options:{position:"topleft",url:""},initialize:function(t,e){L.setOptions(this,e),this._loadTileJSON(t)},_setTileJSON:function(t){this._tilejson=t},onAdd:function(t){this._map=t;var e=L.DomUtil.create("div","leaflet-control-mapbox-share leaflet-bar"),n=L.DomUtil.create("a","mapbox-share mapbox-icon mapbox-icon-share",e);return n.href="#",this._modal=L.DomUtil.create("div","mapbox-modal",this._map._container),this._mask=L.DomUtil.create("div","mapbox-modal-mask",this._modal),this._content=L.DomUtil.create("div","mapbox-modal-content",this._modal),L.DomEvent.addListener(n,"click",this._shareClick,this),L.DomEvent.disableClickPropagation(e),this._map.on("mousedown",this._clickOut,this),e},_clickOut:function(t){return this._sharing?(L.DomEvent.preventDefault(t),L.DomUtil.removeClass(this._modal,"active"),this._content.innerHTML="",void(this._sharing=null)):void 0},_shareClick:function(t){function e(t,e,n){var i=document.createElement("a");return i.setAttribute("class",t),i.setAttribute("href",e),i.setAttribute("target","_blank"),n=document.createTextNode(n),i.appendChild(n),i}if(L.DomEvent.stop(t),this._sharing)return this._clickOut(t);var n=this._tilejson||this._map._tilejson||{},r=encodeURIComponent(this.options.url||n.webpage||window.location),o=encodeURIComponent(n.name),s=i("/v4/"+n.id+"/"+this._map.getCenter().lng+","+this._map.getCenter().lat+","+this._map.getZoom()+"/600x600.png",this.options.accessToken),a=i("/v4/"+n.id+".html",this.options.accessToken),u="//twitter.com/intent/tweet?status="+o+" "+r,l="//www.facebook.com/sharer.php?u="+r+"&t="+o,h="//www.pinterest.com/pin/create/button/?url="+r+"&media="+s+"&description="+o,c='<iframe width="100%" height="500px" frameBorder="0" src="'+a+'"></iframe>',f="Copy and paste this <strong>HTML code</strong> into documents to embed this map on web pages.";L.DomUtil.addClass(this._modal,"active"),this._sharing=L.DomUtil.create("div","mapbox-modal-body",this._content);var p=e("mapbox-button mapbox-button-icon mapbox-icon-twitter",u,"Twitter"),d=e("mapbox-button mapbox-button-icon mapbox-icon-facebook",l,"Facebook"),m=e("mapbox-button mapbox-button-icon mapbox-icon-pinterest",h,"Pinterest"),g=document.createElement("h3"),v=document.createTextNode("Share this map");g.appendChild(v);var _=document.createElement("div");_.setAttribute("class","mapbox-share-buttons"),_.appendChild(d),_.appendChild(p),_.appendChild(m),this._sharing.appendChild(g),this._sharing.appendChild(_);var y=L.DomUtil.create("input","mapbox-embed",this._sharing);y.type="text",y.value=c;var b=L.DomUtil.create("label","mapbox-embed-description",this._sharing);b.innerHTML=f;var x=L.DomUtil.create("a","leaflet-popup-close-button",this._sharing);x.href="#",L.DomEvent.disableClickPropagation(this._sharing),L.DomEvent.addListener(x,"click",this._clickOut,this),L.DomEvent.addListener(y,"click",function(t){t.target.focus(),t.target.select()})}});e.exports.ShareControl=r,e.exports.shareControl=function(t,e){return new r(t,e)}},{"./format_url":11,"./load_tilejson":21}],28:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in e)void 0===t[i]?n[i]=e[i]:n[i]=t[i];return n}function r(t){for(var e={},n=0;n<a.length;n++)e[a[n][1]]=t[a[n][0]];return e}function o(t){return r(i(t.properties||{},s))}var s={stroke:"#555555","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":.5},a=[["stroke","color"],["stroke-width","weight"],["stroke-opacity","opacity"],["fill","fillColor"],["fill-opacity","fillOpacity"]];e.exports={style:o,defaults:s}},{}],29:[function(t,e,n){"use strict";var i=t("./util"),r=t("./format_url"),o=t("./request"),s=L.TileLayer.extend({options:{sanitizer:t("sanitize-caja")},initialize:function(t,e){L.TileLayer.prototype.initialize.call(this,void 0,e),this.options.tiles=this._formatTileURL(t),this.options.tileSize=512,this.options.zoomOffset=-1,this.options.tms=!1,this._getAttribution(t)},_getAttribution:function(t){var e=r.style(t,this.options&&this.options.accessToken);o(e,L.bind(function(n,s){n&&(i.log("could not load Mapbox style at "+e),this.fire("error",{error:n}));var a=[];for(var u in s.sources){var l=s.sources[u].url.split("mapbox://")[1];a.push(l)}o(r.tileJSON(a.join(),this.options.accessToken),L.bind(function(e,n){e?(i.log("could not load TileJSON at "+t),this.fire("error",{error:e})):n&&(i.strict(n,"object"),this.options.attribution=this.options.sanitizer(n.attribution),this._tilejson=n,this.fire("ready"))},this))},this))},setUrl:null,_formatTileURL:function(t){var e=L.Browser.retina?"@2x":"";if("string"==typeof t){-1===t.indexOf("mapbox://styles/")&&(i.log("Incorrectly formatted Mapbox style at "+t),this.fire("error"));var n=t.split("mapbox://styles/")[1];return r("/styles/v1/"+n+"/tiles/{z}/{x}/{y}"+e,this.options.accessToken)}return"object"==typeof t?r("/styles/v1/"+t.owner+"/"+t.id+"/tiles/{z}/{x}/{y}"+e,this.options.accessToken):void 0},getTileUrl:function(t){var e=L.Util.template(this.options.tiles,t);return e}});e.exports.StyleLayer=s,e.exports.styleLayer=function(t,e){return new s(t,e)}},{"./format_url":11,"./request":26,"./util":31,"sanitize-caja":5}],30:[function(t,e,n){"use strict";var i=t("./util"),r=/\.((?:png|jpg)\d*)(?=$|\?)/,o=L.TileLayer.extend({includes:[t("./load_tilejson")],options:{sanitizer:t("sanitize-caja")},formats:["png","jpg","png32","png64","png128","png256","jpg70","jpg80","jpg90"],scalePrefix:"@2x.",initialize:function(t,e){L.TileLayer.prototype.initialize.call(this,void 0,e),this._tilejson={},e&&e.format&&i.strict_oneof(e.format,this.formats),this._loadTileJSON(t)},setFormat:function(t){return i.strict(t,"string"),this.options.format=t,this.redraw(),this},setUrl:null,_setTileJSON:function(t){return i.strict(t,"object"),this.options.format=this.options.format||t.tiles[0].match(r)[1],L.extend(this.options,{tiles:t.tiles,attribution:this.options.sanitizer(t.attribution),minZoom:t.minzoom||0,maxZoom:t.maxzoom||18,tms:"tms"===t.scheme,bounds:t.bounds&&i.lbounds(t.bounds)}),this._tilejson=t,this.redraw(),this},getTileJSON:function(){return this._tilejson},getTileUrl:function(t){var e=this.options.tiles,n=Math.floor(Math.abs(t.x+t.y)%e.length),i=e[n],o=L.Util.template(i,t);return o?o.replace(r,(L.Browser.retina?this.scalePrefix:".")+this.options.format):o},_update:function(){this.options.tiles&&L.TileLayer.prototype._update.call(this)}});e.exports.TileLayer=o,e.exports.tileLayer=function(t,e){return new o(t,e)}},{"./load_tilejson":21,"./util":31,"sanitize-caja":5}],31:[function(t,e,n){"use strict";function i(t,e){if(!e||!e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}e.exports={idUrl:function(t,e){-1===t.indexOf("/")?e.loadID(t):e.loadURL(t)},log:function(t){"object"==typeof console&&"function"==typeof console.error&&console.error(t)},strict:function(t,e){if(typeof t!==e)throw new Error("Invalid argument: "+e+" expected")},strict_instance:function(t,e,n){if(!(t instanceof e))throw new Error("Invalid argument: "+n+" expected")},strict_oneof:function(t,e){if(!i(t,e))throw new Error("Invalid argument: "+t+" given, valid values are "+e.join(", "))},strip_tags:function(t){return t.replace(/<[^<]+>/g,"")},lbounds:function(t){return new L.LatLngBounds([[t[1],t[0]],[t[3],t[2]]])}}},{}]},{},[17]),$.fn.sidebar=function(){var t=this,e=t.children(".sidebar-tabs").first(),n=t.children(".sidebar-content").first();return t.find(".sidebar-tabs > li > a").on("click",function(){var e=$(this).closest("li");e.hasClass("active")?t.close():t.open(this.hash.slice(1),e)}),t.open=function(i,r){"undefined"==typeof r&&(r=e.find('li > a[href="#'+i+'"]').parent()),n.children(".sidebar-pane.active").removeClass("active"),n.children("#"+i).addClass("active"),e.children("li.active").removeClass("active"),r.addClass("active"),t.trigger("content",{id:i}),t.hasClass("collapsed")&&(t.trigger("opening"),t.removeClass("collapsed"))},t.close=function(){e.children("li.active").removeClass("active"),t.hasClass("collapsed")||(t.trigger("closing"),t.addClass("collapsed"))},t},L.Control.Sidebar=L.Control.extend({includes:L.Mixin.Events,initialize:function(t,e){var n,i;for(L.setOptions(this,e),this._sidebar=L.DomUtil.get(t),L.Browser.touch&&L.DomUtil.addClass(this._sidebar,"leaflet-touch"),n=this._sidebar.children.length-1;n>=0;n--)i=this._sidebar.children[n],"UL"==i.tagName&&L.DomUtil.hasClass(i,"sidebar-tabs")?this._tabs=i:"DIV"==i.tagName&&L.DomUtil.hasClass(i,"sidebar-content")&&(this._container=i);for(this._tabitems=[],n=this._tabs.children.length-1;n>=0;n--)i=this._tabs.children[n],"LI"==i.tagName&&(this._tabitems.push(i),i._sidebar=this);for(this._panes=[],n=this._container.children.length-1;n>=0;n--)i=this._container.children[n],"DIV"==i.tagName&&L.DomUtil.hasClass(i,"sidebar-pane")&&this._panes.push(i);this._hasTouchStart=L.Browser.touch&&"ontouchstart"in document.documentElement},addTo:function(t){this._map=t;for(var e=this._hasTouchStart?"touchstart":"click",n=this._tabitems.length-1;n>=0;n--){var i=this._tabitems[n];L.DomEvent.on(i.firstChild,e,this._onClick,i)}return this},removeFrom:function(t){this._map=null;for(var e=this._hasTouchStart?"touchstart":"click",n=this._tabitems.length-1;n>=0;n--){var i=this._tabitems[n];L.DomEvent.off(i.firstChild,e,this._onClick)}return this},open:function(t){var e,n;for(e=this._panes.length-1;e>=0;e--)n=this._panes[e],n.id==t?L.DomUtil.addClass(n,"active"):L.DomUtil.hasClass(n,"active")&&L.DomUtil.removeClass(n,"active");for(e=this._tabitems.length-1;e>=0;e--)n=this._tabitems[e],n.firstChild.hash=="#"+t?L.DomUtil.addClass(n,"active"):L.DomUtil.hasClass(n,"active")&&L.DomUtil.removeClass(n,"active");this.fire("content",{id:t}),L.DomUtil.hasClass(this._sidebar,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._sidebar,"collapsed"))},close:function(){for(var t=this._tabitems.length-1;t>=0;t--){var e=this._tabitems[t];L.DomUtil.hasClass(e,"active")&&L.DomUtil.removeClass(e,"active")}L.DomUtil.hasClass(this._sidebar,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._sidebar,"collapsed"))},_onClick:function(t){L.DomUtil.hasClass(this,"active")?this._sidebar.close():this._sidebar.open(this.firstChild.hash.slice(1))}}),L.control.sidebar=function(t,e){return new L.Control.Sidebar(t,e)},function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=v();return t.compile=function(e,n){return h.compile(e,n,t)},t.precompile=function(e,n){return h.precompile(e,n,t)},t.AST=u["default"],t.Compiler=h.Compiler,t.JavaScriptCompiler=f["default"],t.Parser=l.parser,t.parse=l.parse,t}var r=n(8)["default"];e.__esModule=!0;var o=n(1),s=r(o),a=n(2),u=r(a),l=n(3),h=n(4),c=n(5),f=r(c),p=n(6),d=r(p),m=n(7),g=r(m),v=s["default"].create,_=i();_.create=i,g["default"](_),_.Visitor=d["default"],_["default"]=_,e["default"]=_,t.exports=e["default"]},function(t,e,n){"use strict";function i(){var t=new s.HandlebarsEnvironment;return f.extend(t,s),t.SafeString=u["default"],t.Exception=h["default"],t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=d,t.template=function(e){return d.template(e,t)},t}var r=n(8)["default"];e.__esModule=!0;var o=n(9),s=r(o),a=n(10),u=r(a),l=n(11),h=r(l),c=n(12),f=r(c),p=n(13),d=r(p),m=n(7),g=r(m),v=i();v.create=i,g["default"](v),v["default"]=v,e["default"]=v,t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i={Program:function(t,e,n,i){this.loc=i,this.type="Program",this.body=t,this.blockParams=e,this.strip=n},MustacheStatement:function(t,e,n,i,r,o){this.loc=o,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=n,this.escaped=i,this.strip=r},BlockStatement:function(t,e,n,i,r,o,s,a,u){this.loc=u,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=n,this.program=i,this.inverse=r,this.openStrip=o,this.inverseStrip=s,this.closeStrip=a},PartialStatement:function(t,e,n,i,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=n,this.indent="",this.strip=i},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,n){this.loc=n,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,n,i){this.loc=i,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=n},PathExpression:function(t,e,n,i,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=i,this.parts=n,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},UndefinedLiteral:function(t){this.loc=t,this.type="UndefinedLiteral",this.original=this.value=void 0},NullLiteral:function(t){this.loc=t,this.type="NullLiteral",this.original=this.value=null},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,n){this.loc=n,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(t,e){if("Program"===t.type)return t;s["default"].yy=d,d.locInfo=function(t){return new d.SourceLocation(e&&e.srcName,t)};var n=new h["default"];return n.accept(s["default"].parse(t))}var r=n(8)["default"];e.__esModule=!0,e.parse=i;var o=n(14),s=r(o),a=n(2),u=r(a),l=n(15),h=r(l),c=n(16),f=r(c),p=n(12);e.parser=s["default"];var d={};p.extend(d,f,u["default"])},function(t,e,n){"use strict";function i(){}function r(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new h["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)}function o(t,e,n){function i(){var e=n.parse(t,o),i=(new n.Compiler).compile(e,o),r=(new n.JavaScriptCompiler).compile(i,o,void 0,!0);return n.template(r)}function r(t,e){return s||(s=i()),s.call(this,t,e)}var o=void 0===arguments[1]?{}:arguments[1];if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new h["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in o||(o.data=!0),o.compat&&(o.useDepths=!0);var s=void 0;return r._setup=function(t){return s||(s=i()),s._setup(t)},r._child=function(t,e,n,r){return s||(s=i()),s._child(t,e,n,r)},r}function s(t,e){if(t===e)return!0;if(c.isArray(t)&&c.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!s(t[n],e[n]))return!1;return!0}}function a(t){if(!t.path.parts){var e=t.path;t.path=new p["default"].PathExpression(!1,0,[e.original+""],e.original+"",e.loc)}}var u=n(8)["default"];e.__esModule=!0,e.Compiler=i,e.precompile=r,e.compile=o;var l=n(11),h=u(l),c=n(12),f=n(2),p=u(f),d=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;e>n;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||!s(i.args,r.args))return!1}e=this.children.length;for(var n=0;e>n;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(e.knownHelpers[i]=n[i]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,n=e.compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;n>i;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){a(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new h["default"]("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var n=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,n,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){a(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new h["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,p["default"].helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=p["default"].helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");i>n;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=p["default"].helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&p["default"].helpers.helperExpression(t),r=!n&&(i||e);if(r&&!i){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;n>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||p["default"].helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else e=t.original||e,e.replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;n>e;e++){var i=this.options.blockParams[e],r=i&&c.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,n){"use strict";function i(t){this.value=t}function r(){}function o(t,e,n,i){var r=e.popStack(),o=0,s=n.length;for(t&&s--;s>o;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}var s=n(8)["default"];e.__esModule=!0;var a=n(9),u=n(11),l=s(u),h=n(12),c=n(17),f=s(c);r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION,e=a.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,n){return h.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,o=void 0,s=void 0,a=void 0,u=void 0;for(a=0,u=r.length;u>a;a++)o=r[a],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l["default"]("Compile completed with content left on stack");var h=this.createFunctionContext(i);if(this.isChild)return h;var c={compiler:this.compilerInfo(),main:h},f=this.context.programs;for(a=0,u=f.length;u>a;a++)f[a]&&(c[a]=f[a]);return this.environment.usePartial&&(c.usePartial=!0),this.options.data&&(c.useData=!0),this.useDepths&&(c.useDepths=!0),this.useBlockParams&&(c.useBlockParams=!0),this.options.compat&&(c.compat=!0),i?c.compilerOptions=this.options:(c.compiler=JSON.stringify(c.compiler),this.source.currentLocation={start:{line:1,column:0}},c=this.objectLiteral(c),e.srcName?(c=c.toStringWithSourceMap({file:e.destName}),c.map=c.map&&c.map.toString()):c=c.toString()),c},preamble:function(){this.lastContext=0,this.source=new f["default"](this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,s=t):(o&&(r?o.prepend("buffer += "):i=!0,s.add(";"),o=s=void 0),r=!0,e||(n=!1))}),n?o?(o.prepend("return "),s.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){t?this.pushStackLiteral("this.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,n,i){var r=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict,this,e,t));for(var s=e.length;s>n;n++)this.replaceStack(function(o){var s=r.nameLookup(o,e[n],t);return i?[" && ",s]:[" != null ? ",s," : ",o]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i,!1);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[t]=n),i&&(o.types[t]=i),r&&(o.ids[t]=r),o.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var n=t.children,i=void 0,r=void 0,o=0,s=n.length;s>o;o++){i=n[o],r=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=r.compile(i,e,this.context,!this.precompile),this.context.environments[a]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(i.index=a,i.name="program"+a,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;n>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"this.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new l["default"]("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)n=[s.value],e=["(",n],o=!0;else{r=!0;var a=this.incrStack();e=["((",this.push(a)," = ",s,")"],n=this.topStack();
}var u=t.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(e.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;n>e;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[],r=this.setupHelperArgs(e,t,i,n),o=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:o,callParams:[this.contextName(0)].concat(i)}},setupParams:function(t,e,n){var i={},r=[],o=[],s=[],a=void 0;i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var u=this.popStack(),l=this.popStack();(l||u)&&(i.fn=l||"this.noop",i.inverse=u||"this.noop");for(var h=e;h--;)a=this.popStack(),n[h]=a,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),r[h]=this.popStack());return this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):(n.push(r),"")}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},n=0,i=t.length;i>n;n++)e[t[n]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function i(){this.parents=[]}var r=n(8)["default"];e.__esModule=!0;var o=n(11),s=r(o),a=n(2),u=r(a);i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&(!n.type||!u["default"][n.type]))throw new s["default"]('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new s["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;n>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=i,t.exports=e["default"]},function(t,e,n){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof n?n:window,i=e.Handlebars;t.noConflict=function(){e.Handlebars===t&&(e.Handlebars=i)}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new h["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(d(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var s=o(n.data);s.contextPath=u.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(e,n)}),t.registerHelper("each",function(t,e){function n(e,n,r){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!r,c&&(l.contextPath=c+e)),a+=i(t[e],{data:l,blockParams:u.blockParams([t[e],e],[c+e,null])})}if(!e)throw new h["default"]("Must pass iterator to #each");var i=e.fn,r=e.inverse,s=0,a="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=u.appendContextPath(e.data.contextPath,e.ids[0])+"."),m(t)&&(t=t.call(this)),e.data&&(l=o(e.data)),t&&"object"==typeof t)if(d(t))for(var f=t.length;f>s;s++)n(s,s,s===t.length-1);else{var p=void 0;for(var g in t)t.hasOwnProperty(g)&&(p&&n(p,s-1),p=g,s++);p&&n(p,s-1,!0)}return 0===s&&(a=r(this)),a}),t.registerHelper("if",function(t,e){return m(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||u.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){m(t)&&(t=t.call(this));var n=e.fn;if(u.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=o(e.data);i.contextPath=u.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}function o(t){var e=u.extend({},t);return e._parent=t,e}var s=n(8)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i,e.createFrame=o;var a=n(12),u=s(a),l=n(11),h=s(l),c="3.0.1";e.VERSION=c;var f=6;e.COMPILER_REVISION=f;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=p;var d=u.isArray,m=u.isFunction,g=u.toString,v="[object Object]";i.prototype={constructor:i,logger:_,log:y,registerHelper:function(t,e){if(g.call(t)===v){if(e)throw new h["default"]("Arg not supported with multiple helpers");u.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(g.call(t)===v)u.extend(this.partials,t);else{if("undefined"==typeof e)throw new h["default"]("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var _={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&_.level<=t){var n=_.methodMap[t];(console[n]||console.log).call(console,e)}}};e.logger=_;var y=_.log;e.log=y},function(t,e,n){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(t,e){var n=e&&e.loc,o=void 0,s=void 0;n&&(o=n.start.line,s=n.start.column,t+=" - "+o+":"+s);for(var a=Error.prototype.constructor.call(this,t),u=0;u<r.length;u++)this[r[u]]=a[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i),n&&(this.lineNumber=o,this.column=s)}e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return h[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function o(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function s(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(c,i):t}function a(t){return t||0===t?m(t)&&0===t.length?!0:!1:!0}function u(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=r,e.indexOf=o,e.escapeExpression=s,e.isEmpty=a,e.blockParams=u,e.appendContextPath=l;var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,f=/[&<>"'`]/,p=Object.prototype.toString;e.toString=p;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)});var d;e.isFunction=d;var m=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===p.call(t):!1};e.isArray=m},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=m.COMPILER_REVISION;if(e!==n){if(n>e){var i=m.REVISION_CHANGES[n],r=m.REVISION_CHANGES[e];throw new d["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new d["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function n(n,i,r){r.hash&&(i=f.extend({},i,r.hash)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,u=s.length;u>a&&(s[a]||a+1!==u);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new d["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(e){var n=void 0===arguments[1]?{}:arguments[1],o=n.data;i._setup(n),!n.partial&&t.useData&&(o=l(e,o));var s=void 0,a=t.useBlockParams?[]:void 0;return t.useDepths&&(s=n.depths?[e].concat(n.depths):[e]),t.main.call(r,e,r.helpers,r.partials,o,a,s)}if(!e)throw new d["default"]("No environment passed to template");if(!t||!t.main)throw new d["default"]("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new d["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n,i,r){var s=this.programs[t],a=this.fn(t);return e||r||i||n?s=o(this,t,a,e,n,i,r):s||(s=this.programs[t]=o(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=f.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)))},i._child=function(e,n,i,s){if(t.useBlockParams&&!i)throw new d["default"]("must pass block params");if(t.useDepths&&!s)throw new d["default"]("must pass parent depths");return o(r,e,t[e],n,0,i,s)},i}function o(t,e,n,i,r,o,s){function a(e){var r=void 0===arguments[1]?{}:arguments[1];return n.call(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s&&[e].concat(s))}return a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function a(t,e,n){if(n.partial=!0,void 0===t)throw new d["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function u(){return""}function l(t,e){return e&&"root"in e||(e=e?m.createFrame(e):{},e.root=t),e}var h=n(8)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=o,e.resolvePartial=s,e.invokePartial=a,e.noop=u;var c=n(12),f=h(c),p=n(11),d=h(p),m=n(9)},function(t,e,n){"use strict";e.__esModule=!0;var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=new i.Program(o[a],null,{},i.locInfo(this._$));break;case 3:this.$=o[a];break;case 4:this.$=o[a];break;case 5:this.$=o[a];break;case 6:this.$=o[a];break;case 7:this.$=o[a];break;case 8:this.$=new i.CommentStatement(i.stripComment(o[a]),i.stripFlags(o[a],o[a]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(o[a],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 11:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 12:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 14:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 15:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 17:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 18:var u=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),l=new i.Program([u],null,{},i.locInfo(this._$));l.chained=!0,this.$={strip:o[a-2].strip,program:l,chain:!0};break;case 19:this.$=o[a];break;case 20:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 21:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 22:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 23:this.$=new i.PartialStatement(o[a-3],o[a-2],o[a-1],i.stripFlags(o[a-4],o[a]),i.locInfo(this._$));break;case 24:this.$=o[a];break;case 25:this.$=o[a];break;case 26:this.$=new i.SubExpression(o[a-3],o[a-2],o[a-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(o[a],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(i.id(o[a-2]),o[a],i.locInfo(this._$));break;case 29:this.$=i.id(o[a-1]);break;case 30:this.$=o[a];break;case 31:this.$=o[a];break;case 32:this.$=new i.StringLiteral(o[a],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(o[a],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(o[a],i.locInfo(this._$));break;case 35:this.$=new i.UndefinedLiteral(i.locInfo(this._$));break;case 36:this.$=new i.NullLiteral(i.locInfo(this._$));break;case 37:this.$=o[a];break;case 38:this.$=o[a];break;case 39:this.$=i.preparePath(!0,o[a],this._$);break;case 40:this.$=i.preparePath(!1,o[a],this._$);break;case 41:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 42:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 45:this.$=[];break;case 46:o[a-1].push(o[a]);break;case 53:this.$=[];break;case 54:o[a-1].push(o[a]);break;case 59:this.$=[];break;case 60:o[a-1].push(o[a]);break;case 65:this.$=[];break;case 66:o[a-1].push(o[a]);break;case 73:this.$=[];break;case 74:o[a-1].push(o[a]);break;case 77:this.$=[];break;case 78:o[a-1].push(o[a]);break;case 81:this.$=[];break;case 82:o[a-1].push(o[a]);break;case 85:this.$=[];break;case 86:o[a-1].push(o[a]);break;case 89:this.$=[o[a]];break;case 90:o[a-1].push(o[a]);break;case 91:this.$=[o[a]];break;case 92:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],o=[],s=this.table,a="",u=0,l=0,h=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;o.push(c);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,m,g,v,_,y,b,x,w={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=e()),g=s[m]&&s[m][p]),"undefined"==typeof g||!g.length||!g[0]){var T="";if(!h){x=[];for(_ in s[m])this.terminals_[_]&&_>2&&x.push("'"+this.terminals_[_]+"'");T=this.lexer.showPosition?"Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:x})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:i.push(p),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(g[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,a=this.lexer.yytext,u=this.lexer.yylineno,c=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[g[1]][1],w.$=r[r.length-y],w._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},f&&(w._$.range=[o[o.length-(y||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(w,a,l,u,this.yy,g[1],r,o),"undefined"!=typeof v)return v;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),o=o.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(w.$),o.push(w._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,
this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(n=this._input.match(this.rules[o[s]]),!n||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(){}function r(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function a(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var u=n(8)["default"];e.__esModule=!0;var l=n(6),h=u(l);i.prototype=new h["default"],i.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,i=0,u=n.length;u>i;i++){var l=n[i],h=this.accept(l);if(h){var c=r(n,i,e),f=o(n,i,e),p=h.openStandalone&&c,d=h.closeStandalone&&f,m=h.inlineStandalone&&c&&f;h.close&&s(n,i,!0),h.open&&a(n,i,!0),m&&(s(n,i),a(n,i)&&"PartialStatement"===l.type&&(l.indent=/([ \t]+$)/.exec(n[i-1].original)[1])),p&&(s((l.program||l.inverse).body),a(n,i)),d&&(s(n,i),a((l.inverse||l.program).body))}}return t},i.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,u=n;if(n&&n.chained)for(i=n.body[0].program;u.chained;)u=u.body[u.body.length-1].program;var l={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:r((i||e).body)};if(t.openStrip.close&&s(e.body,null,!0),n){var h=t.inverseStrip;h.open&&a(e.body,null,!0),h.close&&s(i.body,null,!0),t.closeStrip.open&&a(u.body,null,!0),r(e.body)&&o(i.body)&&(a(e.body),s(i.body))}else t.closeStrip.open&&a(e.body,null,!0);return l},i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function o(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function s(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function a(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],o=0,s="",a=0,u=e.length;u>a;a++){var l=e[a].part,h=e[a].original!==l;if(i+=(e[a].separator||"")+l,h||".."!==l&&"."!==l&&"this"!==l)r.push(l);else{if(r.length>0)throw new p["default"]("Invalid path: "+i,{loc:n});".."===l&&(o++,s+="../")}}return new this.PathExpression(t,o,r,i,n)}function u(t,e,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return new this.MustacheStatement(t,e,n,a,r,this.locInfo(o))}function l(t,e,n,i){if(t.path.original!==n){var r={loc:t.path.loc};throw new p["default"](t.path.original+" doesn't match "+n,r)}i=this.locInfo(i);var o=new this.Program([e],null,{},i);return new this.BlockStatement(t.path,t.params,t.hash,o,void 0,{},{},{},i)}function h(t,e,n,i,r,o){if(i&&i.path&&t.path.original!==i.path.original){var s={loc:t.path.loc};throw new p["default"](t.path.original+" doesn't match "+i.path.original,s)}e.blockParams=t.blockParams;var a=void 0,u=void 0;return n&&(n.chain&&(n.program.body[0].closeStrip=i.strip),u=n.strip,a=n.program),r&&(r=a,a=e,e=r),new this.BlockStatement(t.path,t.params,t.hash,e,a,t.strip,u,i&&i.strip,this.locInfo(o))}var c=n(8)["default"];e.__esModule=!0,e.SourceLocation=i,e.id=r,e.stripFlags=o,e.stripComment=s,e.preparePath=a,e.prepareMustache=u,e.prepareRawBlock=l,e.prepareBlock=h;var f=n(11),p=c(f)},function(t,e,n){"use strict";function i(t,e,n){if(o.isArray(t)){for(var i=[],r=0,s=t.length;s>r;r++)i.push(e.wrap(t[r],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=n(12),s=void 0;try{}catch(a){}s||(s=function(t,e,n,i){this.src="",i&&this.add(i)},s.prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;n>e;e++)t(this.source[e])},empty:function(){var t=void 0===arguments[0]?this.currentLocation||{start:{}}:arguments[0];return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=i(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=i(t[n],this);"undefined"!==r&&e.push([this.quotedString(n),":",r])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t,e){for(var n=this.empty(e),r=0,o=t.length;o>r;r++)r&&n.add(","),n.add(i(t[r],this,e));return n},generateArray:function(t,e){var n=this.generateList(t,e);return n.prepend("["),n.add("]"),n}},e["default"]=r,t.exports=e["default"]}])}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",u=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],h=t.Event("slide.bs.carousel",{relatedTarget:l,direction:a});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(o)]);c&&c.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var u=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][u])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",u=r.find(".dropdown-menu"+a);if(u.length){var l=u.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<u.length-1&&l++,~l||(l=0),u.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),
this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",u="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,l=u.test(a);l&&(a=a.replace(u,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),c=o[0].offsetWidth,f=o[0].offsetHeight;if(l){var p=a,d=this.getPosition(this.$viewport);a="bottom"==a&&h.bottom+f>d.bottom?"top":"top"==a&&h.top-f<d.top?"bottom":"right"==a&&h.right+c>d.width?"left":"left"==a&&h.left-c<d.left?"right":a,o.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,h,c,f);this.applyPlacement(m,a);var g=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var u=i[0].offsetWidth,l=i[0].offsetHeight;"top"==n&&l!=o&&(e.top=e.top+o-l);var h=this.getViewportAdjustedDelta(n,e,u,l);h.left?e.left+=h.left:e.top+=h.top;var c=/top|bottom/.test(n),f=c?2*h.left-r+u:2*h.top-o+l,p=c?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][p],c)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:o?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},u=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,u,s)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,u=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:u>s.top+s.height&&(r.top=s.top+s.height-u)}else{var l=e.left-o,h=e.left+o+n;l<s.left?r.left=s.left-l:h>s.right&&(r.left=s.left+s.width-h)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":t-i>=r+s?!1:"bottom";var a=null==this.affixed,u=a?r:o.top,l=a?s:e;return null!=n&&n>=r?"top":null!=i&&u+l>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var u="affix"+(a?"-"+a:""),l=t.Event(u+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(u.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,o,a){function u(t,e,i){var r,o="$()."+n+'("'+e+'")';return t.each(function(t,u){var l=a.data(u,n);if(!l)return void s(n+" not initialized. Cannot call methods, i.e. "+o);var h=l[e];if(!h||"_"==e.charAt(0))return void s(o+" is not a valid method");var c=h.apply(l,i);r=void 0===r?c:r}),void 0!==r?r:t}function l(t,e){t.each(function(t,i){var r=a.data(i,n);r?(r.option(e),r._init()):(r=new o(i,e),a.data(i,n,r))})}a=a||e||t.jQuery,a&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){if("string"==typeof t){var e=r.call(arguments,1);return u(this,t,e)}return l(this,t),this},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var r=Array.prototype.slice,o=t.console,s="undefined"==typeof o?function(){}:function(t){o.error(t)};return i(e||t.jQuery),n}),function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports){var n;try{n=require("jquery")}catch(i){n=null}module.exports=e(n)}else t.Slider=e(t.jQuery)}(this,function(t){var e;return function(t){"use strict";function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,n){t.fn[e]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,u=this.length;u>a;a++){var l=this[a],h=t.data(l,e);if(h)if(t.isFunction(h[r])&&"_"!==r.charAt(0)){var c=h[r].apply(h,s);if(void 0!==c&&c!==h)return c}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}var f=this.map(function(){var i=t.data(this,e);return i?(i.option(r),i._init()):(i=new n(this,r),t.data(this,e,i)),t(this)});return!f||f.length>1?f:f[0]}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),r(t,e)},t.bridget}}var i=Array.prototype.slice;n(t)}(t),function(t){function n(e,n){function i(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(r){return i}}"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n?n:{};for(var o=Object.keys(this.defaultOptions),s=0;s<o.length;s++){var a=o[s],u=n[a];u="undefined"!=typeof u?u:i(this.element,a),u=null!==u?u:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=u}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var l,h,c,f,p,d=this.element.style.width,m=!1,g=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");if(v.className="slider-track",h=document.createElement("div"),h.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",c=document.createElement("div"),c.className="slider-track-high",f=document.createElement("div"),f.className="slider-handle min-slider-handle",p=document.createElement("div"),p.className="slider-handle max-slider-handle",v.appendChild(h),v.appendChild(l),v.appendChild(c),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(s=0;s<this.options.ticks.length;s++){var _=document.createElement("div");_.className="slider-tick",this.ticks.push(_),v.appendChild(_)}l.className+=" tick-slider-selection"}if(v.appendChild(f),v.appendChild(p),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",s=0;s<this.options.ticks_labels.length;s++){var y=document.createElement("div");y.className="slider-tick-label",y.innerHTML=this.options.ticks_labels[s],this.tickLabels.push(y),this.tickLabelContainer.appendChild(y)}var b=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},x=document.createElement("div");x.className="tooltip tooltip-main",b(x);var w=document.createElement("div");w.className="tooltip tooltip-min",b(w);var T=document.createElement("div");T.className="tooltip tooltip-max",b(T),this.sliderElem.appendChild(v),this.sliderElem.appendChild(x),this.sliderElem.appendChild(w),this.sliderElem.appendChild(T),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),r[this.options.scale]&&(this.options.scale=r[this.options.scale]),m===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=d,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=h||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=f||this.handle1,this.handle2=p||this.handle2,m===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),s=0;s<this.ticks.length;s++)this._removeClass(this.ticks[s],"round triangle hide");var E=["round","triangle","custom"],C=-1!==E.indexOf(this.options.handle);if(C)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),s=0;s<this.ticks.length;s++)this._addClass(this.ticks[s],this.options.handle);this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},r={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var n,i,r,o=0,s=0;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){n=s>0?this.options.ticks[s-1]:0,r=s>0?this.options.ticks_positions[s-1]:0,i=this.options.ticks[s],o=this.options.ticks_positions[s];break}if(s>0){var a=(t-r)/(o-r);e=n+a*(i-n)}}var u=this.options.min+Math.round(e/this.options.step)*this.options.step;return u<this.options.min?this.options.min:u>this.options.max?this.options.max:u},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=o>0?this.options.ticks[o-1]:0,i=o>0?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(o>0){var s=(t-e)/(n-e);return i+s*(r-i)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min),i=0===t?0:Math.log(t);return 100*(i-n)/(e-n)}}};if(e=function(t,e){return n.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null},over:!1,inDrag:!1,getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this.options.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=r(this.options.value[0]),this.options.value[1]=r(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=r(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this.options.value[1]=this.options.max:this.options.value[1]=this.options.min),this.options.max>this.options.min?this.percentage=[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this.percentage=[0,0,100],this._layout();var o=this.options.range?this.options.value:this.options.value[0];return e===!0&&this._trigger("slide",o),i!==o&&n===!0&&this._trigger("change",{oldValue:i,newValue:o}),this._setDataVal(o),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];this.eventToCallbackMap[n]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),
this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this.percentage[0],this.options.range?100-this.percentage[1]:this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle2.style[this.stylePos]=t[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var e=Math.max.apply(Math,this.options.ticks),n=Math.min.apply(Math,this.options.ticks),i="vertical"===this.options.orientation?"height":"width",r="vertical"===this.options.orientation?"marginTop":"marginLeft",o=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var s=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[r]=-o/2+"px",s=this.tickLabelContainer.offsetHeight;else for(a=0;a<this.tickLabelContainer.childNodes.length;a++)this.tickLabelContainer.childNodes[a].offsetHeight>s&&(s=this.tickLabelContainer.childNodes[a].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=s+"px")}for(var a=0;a<this.options.ticks.length;a++){var u=this.options.ticks_positions[a]||100*(this.options.ticks[a]-n)/(e-n);this.ticks[a].style[this.stylePos]=u+"%",this._removeClass(this.ticks[a],"in-selection"),this.options.range?u>=t[0]&&u<=t[1]&&this._addClass(this.ticks[a],"in-selection"):"after"===this.options.selection&&u>=t[0]?this._addClass(this.ticks[a],"in-selection"):"before"===this.options.selection&&u<=t[0]&&this._addClass(this.ticks[a],"in-selection"),this.tickLabels[a]&&(this.tickLabels[a].style[i]=o+"px",void 0!==this.options.ticks_positions[a]&&(this.tickLabels[a].style.position="absolute",this.tickLabels[a].style[this.stylePos]=this.options.ticks_positions[a]+"%",this.tickLabels[a].style[r]=-o/2+"px"))}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var l=this.tooltip_min.getBoundingClientRect(),h=this.tooltip_max.getBoundingClientRect();l.right>h.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}var c;if(this.options.range){c=this.options.formatter(this.options.value),this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var f=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,f);var p=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else c=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this.options.enabled)return!1;this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this.percentage[0]-e),i=Math.abs(this.percentage[1]-e);this.dragged=i>n?0:1}else this.dragged=0;this.percentage[this.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this.dragged),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this.options.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,r="horizontal"===this.options.orientation&&this.options.reversed;(i||r)&&(n=-n)}var o=this.options.value[t]+n*this.options.step;return this.options.range&&(o=[t?this.options.value[0]:o,t?o:this.options.value[1]]),this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this.options.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this.percentage[this.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this.dragged&&this._applyToFixedAndParseFloat(this.percentage[1],e)<n?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this._applyToFixedAndParseFloat(this.percentage[0],e)>n&&(this.percentage[1]=this.percentage[0],this.dragged=0)}},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this.percentage[0]&&(e[0]=this._toValue(this.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this.percentage[1]&&(e[1]=this._toValue(this.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,1/0],i=0;i<this.options.ticks.length;i++){var r=Math.abs(this.options.ticks[i]-e);r<=n[1]&&(n=[this.options.ticks[i],r])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],n=this.offset[this.stylePos],i=e-n,r=i/this.size*100;return r=Math.round(r/this.percentage[2])*this.percentage[2],this.options.reversed&&(r=100-r),Math.max(0,Math.min(100,r))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){var e="value: '"+t+"'";this.element.setAttribute("data",e),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var r=0;r<i.length;r++){var o=i[r];o(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.innerText?t.innerText=e:"undefined"!=typeof t.textContent&&(t.textContent=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r],s=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");i=i.replace(s," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r],s=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)"),a=s.test(i);a||(i+=" "+o)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop;return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var r=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[r]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){this.options.tooltip_position=this.options.tooltip_position||"right";var e="left"===this.options.tooltip_position?"right":"left";t.forEach(function(t){this._addClass(t,this.options.tooltip_position),t.style[e]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t){var o=t.fn.slider?"bootstrapSlider":"slider";t.bridget(o,e)}}(t),e}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n,i){(function(e,i){!function(){function r(){}function o(t){return t}function s(t){return!!t}function a(t){return!t}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function l(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function h(t){return j(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function c(t,e){for(var n=-1,i=t.length;++n<i;)e(t[n],n,t)}function f(t,e){for(var n=-1,i=t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function p(t){return f(Array(t),function(t,e){return e})}function d(t,e,n){return c(t,function(t,i,r){n=e(n,t,i,r)}),n}function m(t,e){c(H(t),function(n){e(t[n],n)})}function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function v(t){var e,n,i=-1;return h(t)?(e=t.length,function(){return i++,e>i?i:null}):(n=H(t),e=n.length,function(){return i++,e>i?n[i]:null})}function _(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;n>r;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i)}}}function y(t){return function(e,n,i){return t(e,i)}}function b(t){return function(e,n,i){i=l(i||r),e=e||[];var o=v(e);if(0>=t)return i(null);var s=!1,a=0,h=!1;!function c(){if(s&&0>=a)return i(null);for(;t>a&&!h;){var r=o();if(null===r)return s=!0,void(0>=a&&i(null));a+=1,n(e[r],r,u(function(t){a-=1,t?(i(t),h=!0):c()}))}}()}}function x(t){return function(e,n,i){return t(B.eachOf,e,n,i)}}function w(t){return function(e,n,i,r){return t(b(n),e,i,r)}}function T(t){return function(e,n,i){return t(B.eachOfSeries,e,n,i)}}function E(t,e,n,i){i=l(i||r),e=e||[];var o=h(e)?[]:{};t(e,function(t,e,i){n(t,function(t,n){o[e]=n,i(t)})},function(t){i(t,o)})}function C(t,e,n,i){var r=[];t(e,function(t,e,i){n(t,function(n){n&&r.push({index:e,value:t}),i()})},function(){i(f(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function S(t,e,n,i){C(t,e,function(t,e){n(t,function(t){e(!t)})},i)}function L(t,e,n){return function(i,r,o,s){function a(){s&&s(n(!1,void 0))}function u(t,i,r){return s?void o(t,function(i){s&&e(i)&&(s(n(!0,t)),s=o=!1),r()}):r()}arguments.length>3?t(i,r,u,a):(s=o,o=r,t(i,u,a))}}function P(t,e){return e}function M(t,e,n){n=n||r;var i=h(e)?[]:{};t(e,function(t,e,n){t(_(function(t,r){r.length<=1&&(r=r[0]),i[e]=r,n(t)}))},function(t){n(t,i)})}function A(t,e,n,i){var r=[];t(e,function(t,e,i){n(t,function(t,e){r=r.concat(e||[]),i(t)})},function(t){i(t,r)})}function k(t,e,n){function i(t,e,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length&&t.idle()?B.setImmediate(function(){t.drain()}):(c(e,function(e){var o={data:e,callback:i||r};n?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void B.setImmediate(t.process))}function o(t,e){return function(){s-=1;var n=!1,i=arguments;c(e,function(t){c(a,function(e,i){e!==t||n||(a.splice(i,1),n=!0)}),t.callback.apply(t,i)}),t.tasks.length+s===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a=[],l={tasks:[],concurrency:e,payload:n,saturated:r,empty:r,drain:r,started:!1,paused:!1,push:function(t,e){i(l,t,!1,e)},kill:function(){l.drain=r,l.tasks=[]},unshift:function(t,e){i(l,t,!0,e)},process:function(){for(;!l.paused&&s<l.concurrency&&l.tasks.length;){var e=l.payload?l.tasks.splice(0,l.payload):l.tasks.splice(0,l.tasks.length),n=f(e,function(t){return t.data});0===l.tasks.length&&l.empty(),s+=1,a.push(e[0]);var i=u(o(l,e));t(n,i)}},length:function(){return l.tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return l.tasks.length+s===0},pause:function(){l.paused=!0},resume:function(){if(l.paused!==!1){l.paused=!1;for(var t=Math.min(l.concurrency,l.tasks.length),e=1;t>=e;e++)B.setImmediate(l.process)}}};return l}function D(t){return _(function(e,n){e.apply(null,n.concat([_(function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&c(n,function(e){console[t](e)}))})]))})}function O(t){return function(e,n,i){t(p(e),n,i)}}function R(t){return _(function(e,n){var i=_(function(n){var i=this,r=n.pop();return t(e,function(t,e,r){t.apply(i,n.concat([r]))},r)});return n.length?i.apply(this,n):i})}function N(t){return _(function(e){var n=e.pop();e.push(function(){var t=arguments;i?B.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var i=!0;t.apply(this,e),i=!1})}var I,B={},F="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i||this;null!=F&&(I=F.async),B.noConflict=function(){return F.async=I,B};var U=Object.prototype.toString,j=Array.isArray||function(t){return"[object Array]"===U.call(t)},z=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},H=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},$="function"==typeof setImmediate&&setImmediate,W=$?function(t){$(t)}:function(t){setTimeout(t,0)};"object"==typeof e&&"function"==typeof e.nextTick?B.nextTick=e.nextTick:B.nextTick=W,B.setImmediate=$?W:B.nextTick,B.forEach=B.each=function(t,e,n){return B.eachOf(t,y(e),n)},B.forEachSeries=B.eachSeries=function(t,e,n){return B.eachOfSeries(t,y(e),n)},B.forEachLimit=B.eachLimit=function(t,e,n,i){return b(e)(t,y(n),i)},B.forEachOf=B.eachOf=function(t,e,n){function i(t){a--,t?n(t):null===o&&0>=a&&n(null)}n=l(n||r),t=t||[];for(var o,s=v(t),a=0;null!=(o=s());)a+=1,e(t[o],o,u(i));0===a&&n(null)},B.forEachOfSeries=B.eachOfSeries=function(t,e,n){function i(){var r=!0;return null===s?n(null):(e(t[s],s,u(function(t){if(t)n(t);else{if(s=o(),null===s)return n(null);r?B.setImmediate(i):i()}})),void(r=!1))}n=l(n||r),t=t||[];var o=v(t),s=o();i()},B.forEachOfLimit=B.eachOfLimit=function(t,e,n,i){b(e)(t,n,i)},B.map=x(E),B.mapSeries=T(E),B.mapLimit=w(E),B.inject=B.foldl=B.reduce=function(t,e,n,i){B.eachOfSeries(t,function(t,i,r){n(e,t,function(t,n){e=n,r(t)})},function(t){i(t,e)})},B.foldr=B.reduceRight=function(t,e,n,i){var r=f(t,o).reverse();B.reduce(r,e,n,i)},B.transform=function(t,e,n,i){3===arguments.length&&(i=n,n=e,e=j(t)?[]:{}),B.eachOf(t,function(t,i,r){n(e,t,i,r)},function(t){i(t,e)})},B.select=B.filter=x(C),B.selectLimit=B.filterLimit=w(C),B.selectSeries=B.filterSeries=T(C),B.reject=x(S),B.rejectLimit=w(S),B.rejectSeries=T(S),B.any=B.some=L(B.eachOf,s,o),B.someLimit=L(B.eachOfLimit,s,o),B.all=B.every=L(B.eachOf,a,a),B.everyLimit=L(B.eachOfLimit,a,a),B.detect=L(B.eachOf,o,P),B.detectSeries=L(B.eachOfSeries,o,P),B.detectLimit=L(B.eachOfLimit,o,P),B.sortBy=function(t,e,n){function i(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0}B.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){return t?n(t):void n(null,f(e.sort(i),function(t){return t.value}))})},B.auto=function(t,e,n){function i(t){v.unshift(t)}function o(t){var e=g(v,t);e>=0&&v.splice(e,1)}function s(){u--,c(v.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(n=e,e=null),n=l(n||r);var a=H(t),u=a.length;if(!u)return n(null);e||(e=u);var h={},f=0,p=!1,v=[];i(function(){u||n(null,h)}),c(a,function(r){function a(){return e>f&&d(y,function(t,e){return t&&h.hasOwnProperty(e)},!0)&&!h.hasOwnProperty(r)}function u(){a()&&(f++,o(u),c[c.length-1](v,h))}if(!p){for(var l,c=j(t[r])?t[r]:[t[r]],v=_(function(t,e){if(f--,e.length<=1&&(e=e[0]),t){var i={};m(h,function(t,e){i[e]=t}),i[r]=e,p=!0,n(t,i)}else h[r]=e,B.setImmediate(s)}),y=c.slice(0,c.length-1),b=y.length;b--;){if(!(l=t[y[b]]))throw new Error("Has nonexistent dependency in "+y.join(", "));if(j(l)&&g(l,r)>=0)throw new Error("Has cyclic dependencies")}a()?(f++,c[c.length-1](v,h)):i(u)}})},B.retry=function(t,e,n){function i(t,e){if("number"==typeof e)t.times=parseInt(e,10)||o;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||o,t.interval=parseInt(e.interval,10)||s}}function r(t,e){function n(t,n){return function(i){t(function(t,e){i(!t||n,{err:t,result:e})},e)}}function i(t){return function(e){setTimeout(function(){e(null)},t)}}for(;u.times;){var r=!(u.times-=1);a.push(n(u.task,r)),!r&&u.interval>0&&a.push(i(u.interval))}B.series(a,function(e,n){n=n[n.length-1],(t||u.callback)(n.err,n.result)})}var o=5,s=0,a=[],u={times:o,interval:s},l=arguments.length;if(1>l||l>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=l&&"function"==typeof t&&(n=e,e=t),"function"!=typeof t&&i(u,t),u.callback=n,u.task=e,u.callback?r():r},B.waterfall=function(t,e){function n(t){return _(function(i,r){if(i)e.apply(null,[i].concat(r));else{var o=t.next();o?r.push(n(o)):r.push(e),N(t).apply(null,r)}})}if(e=l(e||r),!j(t)){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}return t.length?void n(B.iterator(t))():e()},B.parallel=function(t,e){M(B.eachOf,t,e)},B.parallelLimit=function(t,e,n){M(b(e),t,n)},B.series=function(t,e){M(B.eachOfSeries,t,e)},B.iterator=function(t){function e(n){function i(){return t.length&&t[n].apply(null,arguments),i.next()}return i.next=function(){return n<t.length-1?e(n+1):null},i}return e(0)},B.apply=_(function(t,e){return _(function(n){return t.apply(null,e.concat(n))})}),B.concat=x(A),B.concatSeries=T(A),B.whilst=function(t,e,n){if(n=n||r,t()){var i=_(function(r,o){r?n(r):t.apply(this,o)?e(i):n.apply(null,[null].concat(o))});e(i)}else n(null)},B.doWhilst=function(t,e,n){var i=0;return B.whilst(function(){return++i<=1||e.apply(this,arguments)},t,n)},B.until=function(t,e,n){return B.whilst(function(){return!t.apply(this,arguments)},e,n)},B.doUntil=function(t,e,n){return B.doWhilst(t,function(){return!e.apply(this,arguments)},n)},B.during=function(t,e,n){n=n||r;var i=_(function(e,i){e?n(e):(i.push(o),t.apply(this,i))}),o=function(t,r){t?n(t):r?e(i):n(null)};t(o)},B.doDuring=function(t,e,n){var i=0;B.during(function(t){i++<1?t(null,!0):e.apply(this,arguments)},t,n)},B.queue=function(t,e){var n=k(function(e,n){t(e[0],n)},e,1);return n},B.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function i(t,e,n){for(var i=-1,r=t.length-1;r>i;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}function o(t,e,o,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length?B.setImmediate(function(){t.drain()}):void c(e,function(e){var a={data:e,priority:o,callback:"function"==typeof s?s:r};t.tasks.splice(i(t.tasks,a,n)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),B.setImmediate(t.process)})}var s=B.queue(t,e);return s.push=function(t,e,n){o(s,t,e,n)},delete s.unshift,s},B.cargo=function(t,e){return k(t,1,e)},B.log=D("log"),B.dir=D("dir"),B.memoize=function(t,e){var n={},i={},r=Object.prototype.hasOwnProperty;e=e||o;var s=_(function(o){var s=o.pop(),a=e.apply(null,o);r.call(n,a)?B.setImmediate(function(){s.apply(null,n[a])}):r.call(i,a)?i[a].push(s):(i[a]=[s],t.apply(null,o.concat([_(function(t){n[a]=t;var e=i[a];delete i[a];for(var r=0,o=e.length;o>r;r++)e[r].apply(null,t)})])))});return s.memo=n,s.unmemoized=t,s},B.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},B.times=O(B.map),B.timesSeries=O(B.mapSeries),B.timesLimit=function(t,e,n,i){return B.mapLimit(p(t),e,n,i)},B.seq=function(){var t=arguments;return _(function(e){var n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=r,B.reduce(t,e,function(t,e,i){e.apply(n,t.concat([_(function(t,e){i(t,e)})]))},function(t,e){i.apply(n,[t].concat(e))})})},B.compose=function(){return B.seq.apply(null,Array.prototype.reverse.call(arguments))},B.applyEach=R(B.eachOf),B.applyEachSeries=R(B.eachOfSeries),B.forever=function(t,e){function n(t){return t?i(t):void o(n)}var i=u(e||r),o=N(t);n()},B.ensureAsync=N,B.constant=_(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),B.wrapSync=B.asyncify=function(t){return _(function(e){var n,i=e.pop();try{n=t.apply(this,e)}catch(r){return i(r)}z(n)&&"function"==typeof n.then?n.then(function(t){i(null,t)})["catch"](function(t){i(t.message?t:new Error(t))}):i(null,n)})},"object"==typeof n&&n.exports?n.exports=B:"function"==typeof t&&t.amd?t([],function(){return B}):F.async=B}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(t,e,n){(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return n=e(i(n.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(t){var r=n.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split("/")),o=i(e.split("/")),s=Math.min(r.length,o.length),a=s,u=0;s>u;u++)if(r[u]!==o[u]){a=u;break}for(var l=[],u=a;u<r.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:3}],3:[function(t,e,n){function i(){h=!1,a.length?l=a.concat(l):c=-1,l.length&&r()}function r(){if(!h){var t=setTimeout(i);h=!0;for(var e=l.length;e;){for(a=l,l=[];++c<e;)a&&a[c].run();c=-1,e=l.length}a=null,h=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},l=[],h=!1,c=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||h||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],4:[function(e,n,i){(function(e){!function(r){function o(t){throw new RangeError(R[t])}function s(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function a(t,e){var n=t.split("@"),i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(O,".");var r=t.split("."),o=s(r,e).join(".");return i+o}function u(t){for(var e,n,i=[],r=0,o=t.length;o>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&o>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=B(t>>>10&1023|55296),t=56320|1023&t),e+=B(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:T}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function f(t,e,n){var i=0;for(t=n?I(t/L):t>>1,t+=I(t/e);t>N*C>>1;i+=T)t=I(t/N);return I(i+(N+1)*t/(t+S))}function p(t){var e,n,i,r,s,a,u,c,p,d,m=[],g=t.length,v=0,_=M,y=P;for(n=t.lastIndexOf(A),0>n&&(n=0),i=0;n>i;++i)t.charCodeAt(i)>=128&&o("not-basic"),m.push(t.charCodeAt(i));for(r=n>0?n+1:0;g>r;){for(s=v,a=1,u=T;r>=g&&o("invalid-input"),c=h(t.charCodeAt(r++)),(c>=T||c>I((w-v)/a))&&o("overflow"),v+=c*a,p=y>=u?E:u>=y+C?C:u-y,!(p>c);u+=T)d=T-p,a>I(w/d)&&o("overflow"),a*=d;e=m.length+1,y=f(v-s,e,0==s),I(v/e)>w-_&&o("overflow"),_+=I(v/e),v%=e,m.splice(v++,0,_)}return l(m)}function d(t){var e,n,i,r,s,a,l,h,p,d,m,g,v,_,y,b=[];for(t=u(t),g=t.length,e=M,n=0,s=P,a=0;g>a;++a)m=t[a],128>m&&b.push(B(m));for(i=r=b.length,r&&b.push(A);g>i;){for(l=w,a=0;g>a;++a)m=t[a],m>=e&&l>m&&(l=m);for(v=i+1,l-e>I((w-n)/v)&&o("overflow"),n+=(l-e)*v,e=l,a=0;g>a;++a)if(m=t[a],e>m&&++n>w&&o("overflow"),m==e){for(h=n,p=T;d=s>=p?E:p>=s+C?C:p-s,!(d>h);p+=T)y=h-d,_=T-d,b.push(B(c(d+y%_,0))),h=I(y/_);b.push(B(c(h,0))),s=f(n,v,i==r),n=0,++i}++n,++e}return b.join("")}function m(t){return a(t,function(t){return k.test(t)?p(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return D.test(t)?"xn--"+d(t):t})}var v="object"==typeof i&&i&&!i.nodeType&&i,_="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof e&&e;(y.global===y||y.window===y||y.self===y)&&(r=y);var b,x,w=2147483647,T=36,E=1,C=26,S=38,L=700,P=72,M=128,A="-",k=/^xn--/,D=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=T-E,I=Math.floor,B=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:u,encode:l},decode:p,encode:d,toASCII:g,toUnicode:m},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(v&&_)if(n.exports==v)_.exports=b;else for(x in b)b.hasOwnProperty(x)&&(v[x]=b[x]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;l>h;++h){var c,f,p,d,m=t[h].replace(a,"%20"),g=m.indexOf(n);g>=0?(c=m.substr(0,g),f=m.substr(g+1)):(c=m,f=""),p=decodeURIComponent(c),d=decodeURIComponent(f),i(s,p)?r(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,n){"use strict";function i(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(r(s))+n;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],7:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":5,"./encode":6
}],8:[function(t,e,n){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,n){if(t&&l(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}function o(t){return u(t)&&(t=r(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return r(t,!1,!0).resolve(e)}function a(t,e){return t?r(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function h(t){return null===t}function c(t){return null==t}var f=t("punycode");n.parse=r,n.resolve=s,n.resolveObject=a,n.format=o,n.Url=i;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(m),v=["'"].concat(g),_=["%","/","?",";","#"].concat(v),y=["/","?","#"],b=255,x=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=t("querystring");i.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var r=p.exec(i);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||r&&E[r]||(i=i.substr(2),this.slashes=!0)}if(!E[r]&&(s||r&&!C[r])){for(var a=-1,l=0;l<y.length;l++){var h=i.indexOf(y[l]);-1!==h&&(-1===a||a>h)&&(a=h)}var c,d;d=-1===a?i.lastIndexOf("@"):i.lastIndexOf("@",a),-1!==d&&(c=i.slice(0,d),i=i.slice(d+1),this.auth=decodeURIComponent(c)),a=-1;for(var l=0;l<_.length;l++){var h=i.indexOf(_[l]);-1!==h&&(-1===a||a>h)&&(a=h)}-1===a&&(a=i.length),this.host=i.slice(0,a),i=i.slice(a),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),l=0,L=g.length;L>l;l++){var P=g[l];if(P&&!P.match(x)){for(var M="",A=0,k=P.length;k>A;A++)M+=P.charCodeAt(A)>127?"x":P[A];if(!M.match(x)){var D=g.slice(0,l),O=g.slice(l+1),R=P.match(w);R&&(D.push(R[1]),O.unshift(R[2])),O.length&&(i="/"+O.join(".")+i),this.hostname=D.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var N=this.hostname.split("."),I=[],l=0;l<N.length;++l){var B=N[l];I.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(B):B)}this.hostname=I.join(".")}var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!T[o])for(var l=0,L=v.length;L>l;l++){var j=v[l],z=encodeURIComponent(j);z===j&&(z=escape(j)),i=i.split(j).join(z)}var H=i.indexOf("#");-1!==H&&(this.hash=i.substr(H),i=i.slice(0,H));var $=i.indexOf("?");if(-1!==$?(this.search=i.substr($),this.query=i.substr($+1),e&&(this.query=S.parse(this.query)),i=i.slice(0,$)):e&&(this.search="",this.query={}),i&&(this.pathname=i),C[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",B=this.search||"";this.path=F+B}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=S.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||C[e])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+r+n+s+i},i.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(u(t)){var e=new i;e.parse(t,!1,!0),t=e}var n=new i;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!C[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||E[t.protocol])n.pathname=t.pathname;else{for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=l||a||n.host&&t.pathname,p=f,d=n.pathname&&n.pathname.split("/")||[],r=t.pathname&&t.pathname.split("/")||[],m=n.protocol&&!C[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),f=f&&(""===r[0]||""===d[0])),l)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=r;else if(r.length)d||(d=[]),d.pop(),d=d.concat(r),n.search=t.search,n.query=t.query;else if(!c(t.search)){if(m){n.hostname=n.host=d.shift();var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=t.search,n.query=t.query,h(n.pathname)&&h(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=d.slice(-1)[0],_=(n.host||t.host)&&("."===v||".."===v)||""===v,y=0,b=d.length;b>=0;b--)v=d[b],"."==v?d.splice(b,1):".."===v?(d.splice(b,1),y++):y&&(d.splice(b,1),y--);if(!f&&!p)for(;y--;y)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),_&&"/"!==d.join("/").substr(-1)&&d.push("");var x=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(m){n.hostname=n.host=x?"":d.length?d.shift():"";var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return f=f||n.host&&d.length,f&&!x&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),h(n.pathname)&&h(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:4,querystring:7}],9:[function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i=e&&e.length,o=i?e[0]*n:t.length,a=r(t,0,o,n,!0),u=[];if(!a)return u;var l,h,f,p,d,m,g;if(i&&(a=c(t,e,a,n)),t.length>80*n){l=f=t[0],h=p=t[1];for(var v=n;o>v;v+=n)d=t[v],m=t[v+1],l>d&&(l=d),h>m&&(h=m),d>f&&(f=d),m>p&&(p=m);g=Math.max(f-l,p-h)}return s(a,u,n,l,h,g),u}function r(t,e,n,i,r){var o,s,a,u=0;for(o=e,s=n-i;n>o;o+=i)u+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(r===u>0)for(o=e;n>o;o+=i)a=P(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=P(o,t[o],t[o+1],a);return a}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do if(n=!1,i.steiner||!w(i,i.next)&&0!==x(i.prev,i,i.next))i=i.next;else{if(M(i),i=e=i.prev,i===i.next)return null;n=!0}while(n||i!==e);return e}function s(t,e,n,i,r,c,f){if(t){!f&&c&&m(t,i,r,c);for(var p,d,g=t;t.prev!==t.next;)if(p=t.prev,d=t.next,c?u(t,i,r,c):a(t))e.push(p.i/n),e.push(t.i/n),e.push(d.i/n),M(t),t=d.next,g=d.next;else if(t=d,t===g){f?1===f?(t=l(t,e,n),s(t,e,n,i,r,c,2)):2===f&&h(t,e,n,i,r,c):s(o(t),e,n,i,r,c,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(x(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(x(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,h=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=v(a,u,e,n,i),f=v(l,h,e,n,i),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;T(r,i,i.next,o)&&C(r,o)&&C(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),M(i),M(i.next),i=t=o),i=i.next}while(i!==t);return i}function h(t,e,n,i,r,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var h=L(u,l);return u=o(u,u.next),h=o(h,h.next),s(u,e,n,i,r,a),void s(h,e,n,i,r,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,n,i){var s,a,u,l,h,c=[];for(s=0,a=e.length;a>s;s++)u=e[s]*i,l=a-1>s?e[s+1]*i:t.length,h=r(t,u,l,i,!1),h===h.next&&(h.steiner=!0),c.push(_(h));for(c.sort(f),s=0;s<c.length;s++)p(c[s],n),n=o(n,n.next);return n}function f(t,e){return t.x-e.x}function p(t,e){if(e=d(t,e)){var n=L(e,t);o(n,n.next)}}function d(t,e){var n,i=e,r=t.x,o=t.y,s=-(1/0);do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);r>=a&&a>s&&(s=a,n=i.x<i.next.x?i:i.next)}i=i.next}while(i!==e);if(!n)return null;if(t.x===n.x)return n.prev;var u,l=n,h=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=n.x&&y(o<n.y?r:s,o,n.x,n.y,o<n.y?s:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),(h>u||u===h&&i.x>n.x)&&C(i,t)&&(n=i,h=u)),i=i.next;return n}function m(t,e,n,i){var r=t;do null===r.z&&(r.z=v(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,g(r)}function g(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;l>e&&(a++,i=i.nextZ,i);e++);for(u=l;a>0||u>0&&i;)0===a?(r=i,i=i.nextZ,u--):0!==u&&i?n.z<=i.z?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--):(r=n,n=n.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1);return t}function v(t,e,n,i,r){return t=32767*(t-n)/r,e=32767*(e-i)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function _(t){var e=t,n=t;do e.x<n.x&&(n=e),e=e.next;while(e!==t);return n}function y(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function b(t,e){return w(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&C(t,e)&&C(e,t)&&S(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,n,i){return x(t,e,n)>0!=x(t,e,i)>0&&x(n,i,t)>0!=x(n,i,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function C(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function S(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function L(t,e){var n=new A(t.i,t.x,t.y),i=new A(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function P(t,e,n,i){var r=new A(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=i},{}],10:[function(t,e,n){"use strict";function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}var o="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.listeners=function(t,e){var n=o?o+t:t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,a=new Array(s);s>r;r++)a[r]=i[r].fn;return a},r.prototype.emit=function(t,e,n,i,r,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var u,l,h=this._events[a],c=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,r),!0;case 6:return h.fn.call(h.context,e,n,i,r,s),!0}for(l=1,u=new Array(c-1);c>l;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,p=h.length;for(l=0;p>l;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,n);break;default:if(!u)for(f=1,u=new Array(c-1);c>f;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},r.prototype.on=function(t,e,n){var r=new i(e,n||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):this._events[s]=r,this},r.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):this._events[s]=r,this},r.prototype.removeListener=function(t,e,n,i){var r=o?o+t:t;if(!this._events||!this._events[r])return this;var s=this._events[r],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||n&&s.context!==n)&&a.push(s);else for(var u=0,l=s.length;l>u;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&a.push(s[u]);return a.length?this._events[r]=1===a.length?a[0]:a:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,"undefined"!=typeof e&&(e.exports=r)},{}],11:[function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var n,s,a=i(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)r.call(n,l)&&(a[l]=n[l]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(a[s[h]]=n[s[h]])}}return a}},{}],12:[function(e,n,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(r,arguments)}}var r,o,s={};r=this,null!=r&&(o=r.async),s.noConflict=function(){return r.async=o,s};var a=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},h=function(t,e){if(t.map)return t.map(e);var n=[];return l(t,function(t,i,r){n.push(e(t,i,r))}),n},c=function(t,e,n){return t.reduce?t.reduce(e,n):(l(t,function(t,i,r){n=e(n,t,i,r)}),n)},f=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,"undefined"!=typeof setImmediate?s.setImmediate=function(t){setImmediate(t)}:s.setImmediate=s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,n){function r(e){e?(n(e),n=function(){}):(o+=1,o>=t.length&&n())}if(n=n||function(){},!t.length)return n();var o=0;l(t,function(t){e(t,i(r))})},s.forEach=s.each,s.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var i=0,r=function(){e(t[i],function(e){e?(n(e),n=function(){}):(i+=1,i>=t.length?n():r())})};r()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,n,i){var r=p(e);r.apply(null,[t,n,i])},s.forEachLimit=s.eachLimit;var p=function(t){return function(e,n,i){if(i=i||function(){},!e.length||0>=t)return i();var r=0,o=0,s=0;!function a(){if(r>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(i(t),i=function(){}):(r+=1,s-=1,r>=e.length?i():a())})}()}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},m=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[p(t)].concat(n))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},v=function(t,e,n,i){if(e=h(e,function(t,e){return{index:e,value:t}}),i){var r=[];t(e,function(t,e){n(t.value,function(n,i){r[t.index]=i,e(n)})},function(t){i(t,r)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};s.map=d(v),s.mapSeries=g(v),s.mapLimit=function(t,e,n,i){return _(e)(t,n,i)};var _=function(t){return m(t,v)};s.reduce=function(t,e,n,i){s.eachSeries(t,function(t,i){n(e,t,function(t,n){e=n,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,n,i){var r=h(t,function(t){return t}).reverse();s.reduce(r,e,n,i)},s.foldr=s.reduceRight;var y=function(t,e,n,i){var r=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&r.push(t),e()})},function(t){i(h(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=d(y),s.filterSeries=g(y),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,n,i){var r=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||r.push(t),e()})},function(t){i(h(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=d(b),s.rejectSeries=g(b);var x=function(t,e,n,i){t(e,function(t,e){n(t,function(n){n?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=d(x),s.detectSeries=g(x),s.some=function(t,e,n){s.each(t,function(t,i){e(t,function(t){t&&(n(!0),n=function(){}),i()})},function(t){n(!1)})},s.any=s.some,s.every=function(t,e,n){s.each(t,function(t,i){e(t,function(t){t||(n(!1),n=function(){}),i()})},function(t){n(!0)})},s.all=s.every,s.sortBy=function(t,e,n){s.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){if(t)return n(t);var i=function(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0};n(null,h(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var n=f(t),i=n.length;if(!i)return e();var r={},o=[],a=function(t){o.unshift(t)},h=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},p=function(){i--,l(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,r)}}),l(n,function(n){var i=u(t[n])?t[n]:[t[n]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};l(f(r),function(t){o[t]=r[t]}),o[n]=i,e(t,o),e=function(){}}else r[n]=i,s.setImmediate(p)},d=i.slice(0,Math.abs(i.length-1))||[],m=function(){return c(d,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(m())i[i.length-1](o,r);else{var g=function(){m()&&(h(g),i[i.length-1](o,r))};a(g)}})},s.retry=function(t,e,n){var i=5,r=[];"function"==typeof t&&(n=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(n){t(function(t,i){n(!t||e,{err:t,result:i})},o)}};t;)r.push(a(e,!(t-=1)));s.series(r,function(t,e){e=e[e.length-1],(i||n)(e.err,e.result)})};return n?o():o},s.waterfall=function(t,e){if(e=e||function(){},!u(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var i=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=t.next();o?r.push(i(o)):r.push(e),s.setImmediate(function(){t.apply(null,r)})}}};i(s.iterator(t))()};var w=function(t,e,n){if(n=n||function(){},u(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.each(f(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}};s.parallel=function(t,e){w({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,n){w({map:_(e),each:p(e)},t,n)},s.series=function(t,e){if(e=e||function(){},u(t))s.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};s.eachSeries(f(t),function(e,i){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[e]=r,i(t)})},function(t){e(t,n)})}},s.iterator=function(t){var e=function(n){var i=function(){return t.length&&t[n].apply(null,arguments),i.next()};return i.next=function(){return n<t.length-1?e(n+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var T=function(t,e,n,i){var r=[];t(e,function(t,e){n(t,function(t,n){r=r.concat(n||[]),e(t)})},function(t){i(t,r)})};s.concat=d(T),s.concatSeries=g(T),s.whilst=function(t,e,n){t()?e(function(i){return i?n(i):void s.whilst(t,e,n)}):n()},s.doWhilst=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?s.doWhilst(t,e,n):n()})},s.until=function(t,e,n){t()?n():e(function(i){return i?n(i):void s.until(t,e,n)})},s.doUntil=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?n():s.doUntil(t,e,n)})},s.queue=function(t,e){function n(t,e,n,i){return t.started||(t.started=!0),u(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var r={data:e,callback:"function"==typeof i?i:null};n?t.tasks.unshift(r):t.tasks.push(r),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){n(o,t,!0,e)},process:function(){if(!o.paused&&r<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),r+=1;var n=function(){r-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+r===0&&o.drain(),o.process()},s=i(n);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return r},idle:function(){return o.tasks.length+r===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var t=1;t<=o.concurrency;t++)s.setImmediate(o.process)}}};return o},s.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function i(t,e,n){for(var i=-1,r=t.length-1;r>i;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}function r(t,e,r,o){return t.started||(t.started=!0),u(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var a={data:e,priority:r,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,n)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,n){r(o,t,e,n)},delete o.unshift,o},s.cargo=function(t,e){var n=!1,i=[],r={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){u(t)||(t=[t]),l(t,function(t){i.push({data:t,callback:"function"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===e&&r.saturated()}),s.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=h(s,function(t){return t.data});r.empty&&r.empty(),n=!0,t(a,function(){n=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return n}};return r};var E=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(n,function(e){console[t](e)}))}]))}};s.log=E("log"),s.dir=E("dir"),s.memoize=function(t,e){var n={},i={};e=e||function(t){return t};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),a=e.apply(null,r);a in n?s.nextTick(function(){o.apply(null,n[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,r.concat([function(){n[a]=arguments;var t=i[a];delete i[a];for(var e=0,r=t.length;r>e;e++)t[e].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=t,r},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,n){for(var i=[],r=0;t>r;r++)i.push(r);return s.map(i,e,n)},s.timesSeries=function(t,e,n){for(var i=[],r=0;t>r;r++)i.push(r);return s.mapSeries(i,e,n)},s.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),i=n.pop();s.reduce(t,n,function(t,n,i){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,n){i.apply(e,[t].concat(n))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(t,e){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return t(e,function(t,e){t.apply(n,i.concat([e]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};s.applyEach=d(C),s.applyEachSeries=g(C),s.forever=function(t,e){function n(i){if(i){if(e)return e(i);throw i}t(n)}n()},"undefined"!=typeof n&&n.exports?n.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):r.async=s}()}).call(this,e("_process"))},{_process:3}],13:[function(t,e,n){function i(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=r.queue(this._boundLoadResource,e),this.resources={}}var r=t("async"),o=t("url"),s=t("./Resource"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,n),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},i.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(n._boundOnLoad)})},i.prototype._onComplete=function(){this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t)}),t._dequeue()},i.prototype._runMiddleware=function(t,e,n){var i=this;r.eachSeries(e,function(e,n){e.call(i,t,n)},n.bind(this,t))},i.LOAD_TYPE=s.LOAD_TYPE,i.XHR_READY_STATE=s.XHR_READY_STATE,i.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":14,async:12,eventemitter3:10,url:8}],14:[function(t,e,n){function i(t,e,n){if(s.call(this),n=n||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function r(t){return t.toString().replace("object ","")}function o(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}var s=t("eventemitter3"),a=t("url"),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},i.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),(this.crossOrigin===!1||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadImage();break;case i.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case i.LOAD_TYPE.VIDEO:
this._loadElement("video");break;case i.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=i.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,n){n||(n=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=n,i},i.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},i.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){this.error=new Error(r(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},i.prototype._xhrOnAbort=function(){this.error=new Error(r(this.xhr)+" Request was aborted by the user."),this.complete()},i.prototype._xdrOnTimeout=function(){this.error=new Error(r(this.xhr)+" Request timed out."),this.complete()},i.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(n){this.error=new Error("Error trying to parse loaded json:",n)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(n){this.error=new Error("Error trying to parse loaded xml:",n)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},i.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,l||(l=document.createElement("a")),l.href=t,t=a.parse(l.href);var n=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?");-1!==i&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(t,e){o(i._loadTypeMap,t,e)},i.setExtensionXhrType=function(t,e){o(i._xhrTypeMap,t,e)}},{eventemitter3:10,url:8}],15:[function(t,e,n){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,n="",i=new Array(4),r=0,o=0,s=0;r<t.length;){for(e=new Array(3),o=0;o<e.length;o++)r<t.length?e[o]=255&t.charCodeAt(r++):e[o]=0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],s=r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)n+=this._keyStr.charAt(i[o])}return n}}},{}],16:[function(t,e,n){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":13,"./Resource":14,"./middlewares/caching/memory":17,"./middlewares/parsing/blob":18}],17:[function(t,e,n){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):t.once("complete",function(){i[this.url]=this.data}),e()}}},{}],18:[function(t,e,n){var i=t("../../Resource"),r=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(n),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+r.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":14,"../../b64":15}],19:[function(t,e,n){function i(t){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var r=t("../core");Object.assign(r.DisplayObject.prototype,t("./accessibleTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(t){if(t.visible&&(t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId),t.interactiveChildren))for(var e=t.children,n=e.length-1;n>=0;n--)this.updateAccessibleObjects(e[n])},i.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*n+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*n+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*n+"px",i.style.width=a.width*e+"px",i.style.height=a.height*n+"px")}}this.renderId++},i.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},i.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.title=t.accessibleTitle||"displayObject "+this.tabIndex,t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},i.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},i.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},i.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},i.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},i.prototype._onMouseMove=function(){this.deactivate()},i.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},r.WebGLRenderer.registerPlugin("accessibility",i),r.CanvasRenderer.registerPlugin("accessibility",i)},{"../core":29,"./accessibleTarget":20}],20:[function(t,e,n){var i={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};e.exports=i},{}],21:[function(t,e,n){e.exports={accessibleTarget:t("./accessibleTarget"),AccessibilityManager:t("./AccessibilityManager")}},{"./AccessibilityManager":19,"./accessibleTarget":20}],22:[function(t,e,n){var i={VERSION:"3.0.10",PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=i},{}],23:[function(t,e,n){function i(){s.call(this),this.children=[]}var r=t("../math"),o=t("../utils"),s=t("./DisplayObject"),a=t("../textures/RenderTexture"),u=new r.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),i.prototype.onChildrenChange=function(){},i.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;e>n;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},i.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),i=this.getChildIndex(e);if(0>n||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[n]=e,this.children[i]=t,this.onChildrenChange(i>n?n:i)}},i.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(t);o.removeItems(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},i.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},i.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;e>n;n++)this.removeChild(arguments[n]);else{var i=this.children.indexOf(t);if(-1===i)return;t.parent=null,o.removeItems(this.children,i,1),this.onChildrenChange(i),t.emit("removed",this)}return t},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,o.removeItems(this.children,t,1),this.onChildrenChange(t),e.emit("removed",this),e},i.prototype.removeChildren=function(t,e){var n,i,r=t||0,o="number"==typeof e?e:this.children.length,s=o-r;if(s>0&&o>=s){for(n=this.children.splice(r,s),i=0;i<n.length;++i)n[i].parent=null;for(this.onChildrenChange(t),i=0;i<n.length;++i)n[i].emit("removed",this);return n}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.generateTexture=function(t,e,n){var i=this.getLocalBounds(),r=new a(t,0|i.width,0|i.height,n,e);return u.tx=-i.x,u.ty=-i.y,r.render(this,u),r},i.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},i.prototype.containerUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return r.Rectangle.EMPTY;for(var t,e,n,i=1/0,o=1/0,s=-(1/0),a=-(1/0),u=!1,l=0,h=this.children.length;h>l;++l){var c=this.children[l];c.visible&&(u=!0,t=this.children[l].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,n=t.height+t.y,s=s>e?s:e,a=a>n?a:n)}if(!u)return r.Rectangle.EMPTY;var f=this._bounds;f.x=i,f.y=o,f.width=s-i,f.height=a-o,this._currentBounds=f}return this._currentBounds},i.prototype.containerGetBounds=i.prototype.getBounds,i.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=r.Matrix.IDENTITY;for(var e=0,n=this.children.length;n>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(r.Matrix.IDENTITY)},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,n;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,n=this.children.length;n>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,n=this.children.length;n>e;++e)this.children[e].renderWebGL(t)}},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,n=this.children.length;n>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,n=this.children.length;n>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":33,"../textures/RenderTexture":71,"../utils":77,"./DisplayObject":24}],24:[function(t,e,n){function i(){s.call(this),this.position=new r.Point,this.scale=new r.Point(1,1),this.pivot=new r.Point(0,0),this.skew=new r.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new r.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new r.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var r=t("../math"),o=t("../textures/RenderTexture"),s=t("eventemitter3"),a=t("../const"),u=new r.Matrix,l={worldTransform:new r.Matrix,worldAlpha:1,children:[]};i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),i.prototype.updateTransform=function(){var t,e,n,i,r,o,s=this.parent.worldTransform,l=this.worldTransform;this.skew.x||this.skew.y?(u.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),l.a=u.a*s.a+u.b*s.c,l.b=u.a*s.b+u.b*s.d,l.c=u.c*s.a+u.d*s.c,l.d=u.c*s.b+u.d*s.d,l.tx=u.tx*s.a+u.ty*s.c+s.tx,l.ty=u.tx*s.b+u.ty*s.d+s.ty):this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,n=-this._sr*this.scale.y,i=this._cr*this.scale.y,r=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(r-=this.pivot.x*t+this.pivot.y*n,o-=this.pivot.x*e+this.pivot.y*i),l.a=t*s.a+e*s.c,l.b=t*s.b+e*s.d,l.c=n*s.a+i*s.c,l.d=n*s.b+i*s.d,l.tx=r*s.a+o*s.c+s.tx,l.ty=r*s.b+o*s.d+s.ty):(t=this.scale.x,i=this.scale.y,r=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*i,l.a=t*s.a,l.b=t*s.b,l.c=i*s.c,l.d=i*s.d,l.tx=r*s.a+o*s.c+s.tx,l.ty=r*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(t){return r.Rectangle.EMPTY},i.prototype.getLocalBounds=function(){return this.getBounds(r.Matrix.IDENTITY)},i.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},i.prototype.toLocal=function(t,e,n){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t,n)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.generateTexture=function(t,e,n){var i=this.getLocalBounds(),r=new o(t,0|i.width,0|i.height,e,n);return u.tx=-i.x,u.ty=-i.y,r.render(this,u),r},i.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},i.prototype.setTransform=function(t,e,n,i,r,o,s,a,u){return this.position.x=t||0,this.position.y=e||0,this.scale.x=n?n:1,this.scale.y=i?i:1,this.rotation=r||0,this.skew.x=o||0,this.skew.y=s||0,this.pivot.x=a||0,this.pivot.y=u||0,this},i.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":33,"../textures/RenderTexture":71,eventemitter3:10}],25:[function(t,e,n){function i(){r.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=h.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var r=t("../display/Container"),o=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),u=t("./GraphicsData"),l=t("../math"),h=t("../const"),c=new l.Point;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(t,e,n){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===n?1:n,this.currentPath)if(this.currentPath.shape.points.length){var i=new l.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},i.prototype.moveTo=function(t,e){var n=new l.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.prototype.quadraticCurveTo=function(t,e,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var u=a[a.length-2],l=a[a.length-1],h=0,c=1;s>=c;++c)h=c/s,r=u+(t-u)*h,o=l+(e-l)*h,a.push(r+(t+(n-t)*h-r)*h,o+(e+(i-e)*h-o)*h);return this.dirty=this.boundsDirty=!0,this},i.prototype.bezierCurveTo=function(t,e,n,i,r,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,u,l,h,c=20,f=this.currentPath.shape.points,p=f[f.length-2],d=f[f.length-1],m=0,g=1;c>=g;++g)m=g/c,s=1-m,a=s*s,u=a*s,l=m*m,h=l*m,f.push(u*p+3*a*m*t+3*s*l*n+h*r,u*d+3*a*m*e+3*s*l*i+h*o);return this.dirty=this.boundsDirty=!0,this},i.prototype.arcTo=function(t,e,n,i,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,h=i-e,c=n-t,f=Math.abs(u*c-l*h);if(1e-8>f||0===r)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var p=u*u+l*l,d=h*h+c*c,m=u*h+l*c,g=r*Math.sqrt(p)/f,v=r*Math.sqrt(d)/f,_=g*m/p,y=v*m/d,b=g*c+v*l,x=g*h+v*u,w=l*(v+_),T=u*(v+_),E=c*(g+y),C=h*(g+y),S=Math.atan2(T-x,w-b),L=Math.atan2(C-x,E-b);this.arc(b+t,x+e,r,S,L,l*h>c*u)}return this.dirty=this.boundsDirty=!0,this},i.prototype.arc=function(t,e,n,i,r,o){if(o=o||!1,i===r)return this;!o&&i>=r?r+=2*Math.PI:o&&r>=i&&(i+=2*Math.PI);var s=o?-1*(i-r):r-i,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(i)*n,l=e+Math.sin(i)*n;this.currentPath?this.currentPath.shape.points.push(u,l):this.moveTo(u,l);for(var h=this.currentPath.shape.points,c=s/(2*a),f=2*c,p=Math.cos(c),d=Math.sin(c),m=a-1,g=m%1/m,v=0;m>=v;v++){var _=v+g*v,y=c+i+f*_,b=Math.cos(y),x=-Math.sin(y);h.push((p*b+d*x)*n+t,(p*-x+d*b)*n+e)}return this.dirty=this.boundsDirty=!0,this},i.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,n,i){return this.drawShape(new l.Rectangle(t,e,n,i)),this},i.prototype.drawRoundedRect=function(t,e,n,i,r){return this.drawShape(new l.RoundedRectangle(t,e,n,i,r)),this},i.prototype.drawCircle=function(t,e,n){return this.drawShape(new l.Circle(t,e,n)),this},i.prototype.drawEllipse=function(t,e,n,i){return this.drawShape(new l.Ellipse(t,e,n,i)),this},i.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof l.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var r=new l.Polygon(e);return r.closed=n,this.drawShape(r),this},i.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.prototype.generateTexture=function(t,e,n){e=e||1;var i=this.getLocalBounds(),r=new s(i.width*e,i.height*e),u=o.fromCanvas(r.canvas,n);return u.baseTexture.resolution=e,r.context.scale(e,e),r.context.translate(-i.x,-i.y),a.renderGraphics(this,r.context),u},i.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},i.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,n=this.worldTransform,i=t.blendModes[this.blendMode];i!==e.globalCompositeOperation&&(e.globalCompositeOperation=i);var r=t.resolution;e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),a.renderGraphics(this,e)}},i.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,n=e.x,i=e.width+e.x,r=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,u=s.b,h=s.c,c=s.d,f=s.tx,p=s.ty,d=a*i+h*o+f,m=c*o+u*i+p,g=a*n+h*o+f,v=c*o+u*n+p,_=a*n+h*r+f,y=c*r+u*n+p,b=a*i+h*r+f,x=c*r+u*i+p,w=d,T=m,E=d,C=m;E=E>g?g:E,E=E>_?_:E,E=E>b?b:E,C=C>v?v:C,C=C>y?y:C,C=C>x?x:C,w=g>w?g:w,w=_>w?_:w,w=b>w?b:w,T=v>T?v:T,T=y>T?y:T,T=x>T?x:T,this._bounds.x=E,this._bounds.width=w-E,this._bounds.y=C,this._bounds.height=T-C,this._currentBounds=this._bounds}return this._currentBounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,n=0;n<e.length;n++){var i=e[n];if(i.fill&&i.shape&&i.shape.contains(c.x,c.y))return!0}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),n=1/0,i=-(1/0);if(this.graphicsData.length)for(var r,o,s,a,u,l,c=0;c<this.graphicsData.length;c++){var f=this.graphicsData[c],p=f.type,d=f.lineWidth;if(r=f.shape,p===h.SHAPES.RECT||p===h.SHAPES.RREC)s=r.x-d/2,a=r.y-d/2,u=r.width+d,l=r.height+d,t=t>s?s:t,e=s+u>e?s+u:e,n=n>a?a:n,i=a+l>i?a+l:i;else if(p===h.SHAPES.CIRC)s=r.x,a=r.y,u=r.radius+d/2,l=r.radius+d/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,n=n>a-l?a-l:n,i=a+l>i?a+l:i;else if(p===h.SHAPES.ELIP)s=r.x,a=r.y,u=r.width+d/2,l=r.height+d/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,n=n>a-l?a-l:n,i=a+l>i?a+l:i;else{o=r.points;for(var m=0;m<o.length;m+=2)s=o[m],a=o[m+1],t=t>s-d?s-d:t,e=s+d>e?s+d:e,n=n>a-d?a-d:n,i=a+d>i?a+d:i}}else t=0,e=0,n=0,i=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=n-g,this._localBounds.height=i-n+2*g},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},i.prototype.destroy=function(){r.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var n=0;n<this._webgl[e].data.length;++n)this._webgl[e].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/canvas/utils/CanvasGraphics":46,"../textures/Texture":72,"./GraphicsData":26}],26:[function(t,e,n){function i(t,e,n,i,r,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this._lineTint=e,this.fillColor=i,this.fillAlpha=r,this._fillTint=i,this.fill=o,this.shape=s,this.type=s.type}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.prototype.destroy=function(){this.shape=null}},{}],27:[function(t,e,n){function i(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var r=t("../../utils"),o=t("../../math"),s=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),u=t("../../renderers/webgl/WebGLRenderer"),l=t("./WebGLGraphicsData"),h=t("earcut");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,u.registerPlugin("graphics",i),i.prototype.onContextChange=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null;
},i.prototype.render=function(t){var e,n=this.renderer,i=n.gl,o=n.shaderManager.plugins.primitiveShader;(t.dirty||!t._webGL[i.id])&&this.updateGraphics(t);var s=t._webGL[i.id];n.blendModeManager.setBlendMode(t.blendMode);for(var a=0,u=s.data.length;u>a;a++)e=s.data[a],1===s.data[a].mode?(n.stencilManager.pushStencil(t,e),i.uniform1f(n.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilManager.popStencil(t,e)):(o=n.shaderManager.primitiveShader,n.shaderManager.setShader(o),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,n.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(o.uniforms.tint._location,r.hex2rgb(t.tint)),i.uniform1f(o.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(o.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0)),n.drawCount++},i.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[e.id];n||(n=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<n.data.length;i++){var r=n.data[i];r.reset(),this.graphicsDataPool.push(r)}n.data=[],n.lastIndex=0}var o;for(i=n.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(n,0);var u=this.buildPoly(a,o);u||(o=this.switchMode(n,1),this.buildComplexPoly(a,o))}else o=this.switchMode(n,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(n,0),this.buildLine(a,o))}else o=this.switchMode(n,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);n.lastIndex++}for(i=0;i<n.data.length;i++)o=n.data[i],o.dirty&&o.upload()},i.prototype.switchMode=function(t,e){var n;return t.data.length?(n=t.data[t.data.length-1],(n.points.length>32e4||n.mode!==e||1===e)&&(n=this.graphicsDataPool.pop()||new l(t.gl),n.mode=e,t.data.push(n))):(n=this.graphicsDataPool.pop()||new l(t.gl),n.mode=e,t.data.push(n)),n.dirty=!0,n},i.prototype.buildRectangle=function(t,e){var n=t.shape,i=n.x,o=n.y,s=n.width,a=n.height;if(t.fill){var u=r.hex2rgb(t.fillColor),l=t.fillAlpha,h=u[0]*l,c=u[1]*l,f=u[2]*l,p=e.points,d=e.indices,m=p.length/6;p.push(i,o),p.push(h,c,f,l),p.push(i+s,o),p.push(h,c,f,l),p.push(i,o+a),p.push(h,c,f,l),p.push(i+s,o+a),p.push(h,c,f,l),d.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],this.buildLine(t,e),t.points=g}},i.prototype.buildRoundedRectangle=function(t,e){var n=t.shape,i=n.x,o=n.y,s=n.width,a=n.height,u=n.radius,l=[];if(l.push(i,o+u),this.quadraticBezierCurve(i,o+a-u,i,o+a,i+u,o+a,l),this.quadraticBezierCurve(i+s-u,o+a,i+s,o+a,i+s,o+a-u,l),this.quadraticBezierCurve(i+s,o+u,i+s,o,i+s-u,o,l),this.quadraticBezierCurve(i+u,o,i,o,i,o+u+1e-10,l),t.fill){var c=r.hex2rgb(t.fillColor),f=t.fillAlpha,p=c[0]*f,d=c[1]*f,m=c[2]*f,g=e.points,v=e.indices,_=g.length/6,y=h(l,null,2),b=0;for(b=0;b<y.length;b+=3)v.push(y[b]+_),v.push(y[b]+_),v.push(y[b+1]+_),v.push(y[b+2]+_),v.push(y[b+2]+_);for(b=0;b<l.length;b++)g.push(l[b],l[++b],p,d,m,f)}if(t.lineWidth){var x=t.points;t.points=l,this.buildLine(t,e),t.points=x}},i.prototype.quadraticBezierCurve=function(t,e,n,i,r,o,s){function a(t,e,n){var i=e-t;return t+i*n}for(var u,l,h,c,f,p,d=20,m=s||[],g=0,v=0;d>=v;v++)g=v/d,u=a(t,n,g),l=a(e,i,g),h=a(n,r,g),c=a(i,o,g),f=a(u,h,g),p=a(l,c,g),m.push(f,p);return m},i.prototype.buildCircle=function(t,e){var n,i,o=t.shape,a=o.x,u=o.y;t.type===s.SHAPES.CIRC?(n=o.radius,i=o.radius):(n=o.width,i=o.height);var l=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),h=2*Math.PI/l,c=0;if(t.fill){var f=r.hex2rgb(t.fillColor),p=t.fillAlpha,d=f[0]*p,m=f[1]*p,g=f[2]*p,v=e.points,_=e.indices,y=v.length/6;for(_.push(y),c=0;l+1>c;c++)v.push(a,u,d,m,g,p),v.push(a+Math.sin(h*c)*n,u+Math.cos(h*c)*i,d,m,g,p),_.push(y++,y++);_.push(y-1)}if(t.lineWidth){var b=t.points;for(t.points=[],c=0;l+1>c;c++)t.points.push(a+Math.sin(h*c)*n,u+Math.cos(h*c)*i);this.buildLine(t,e),t.points=b}},i.prototype.buildLine=function(t,e){var n=0,i=t.points;if(0!==i.length){var s=new o.Point(i[0],i[1]),a=new o.Point(i[i.length-2],i[i.length-1]);if(s.x===a.x&&s.y===a.y){i=i.slice(),i.pop(),i.pop(),a=new o.Point(i[i.length-2],i[i.length-1]);var u=a.x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);i.unshift(u,l),i.push(u,l)}var h,c,f,p,d,m,g,v,_,y,b,x,w,T,E,C,S,L,P,M,A,k,D,O=e.points,R=e.indices,N=i.length/2,I=i.length,B=O.length/6,F=t.lineWidth/2,U=r.hex2rgb(t.lineColor),j=t.lineAlpha,z=U[0]*j,H=U[1]*j,$=U[2]*j;for(f=i[0],p=i[1],d=i[2],m=i[3],_=-(p-m),y=f-d,D=Math.sqrt(_*_+y*y),_/=D,y/=D,_*=F,y*=F,O.push(f-_,p-y,z,H,$,j),O.push(f+_,p+y,z,H,$,j),n=1;N-1>n;n++)f=i[2*(n-1)],p=i[2*(n-1)+1],d=i[2*n],m=i[2*n+1],g=i[2*(n+1)],v=i[2*(n+1)+1],_=-(p-m),y=f-d,D=Math.sqrt(_*_+y*y),_/=D,y/=D,_*=F,y*=F,b=-(m-v),x=d-g,D=Math.sqrt(b*b+x*x),b/=D,x/=D,b*=F,x*=F,E=-y+p-(-y+m),C=-_+d-(-_+f),S=(-_+f)*(-y+m)-(-_+d)*(-y+p),L=-x+v-(-x+m),P=-b+d-(-b+g),M=(-b+g)*(-x+m)-(-b+d)*(-x+v),A=E*P-L*C,Math.abs(A)<.1?(A+=10.1,O.push(d-_,m-y,z,H,$,j),O.push(d+_,m+y,z,H,$,j)):(h=(C*M-P*S)/A,c=(L*S-E*M)/A,k=(h-d)*(h-d)+(c-m)*(c-m),k>19600?(w=_-b,T=y-x,D=Math.sqrt(w*w+T*T),w/=D,T/=D,w*=F,T*=F,O.push(d-w,m-T),O.push(z,H,$,j),O.push(d+w,m+T),O.push(z,H,$,j),O.push(d-w,m-T),O.push(z,H,$,j),I++):(O.push(h,c),O.push(z,H,$,j),O.push(d-(h-d),m-(c-m)),O.push(z,H,$,j)));for(f=i[2*(N-2)],p=i[2*(N-2)+1],d=i[2*(N-1)],m=i[2*(N-1)+1],_=-(p-m),y=f-d,D=Math.sqrt(_*_+y*y),_/=D,y/=D,_*=F,y*=F,O.push(d-_,m-y),O.push(z,H,$,j),O.push(d+_,m+y),O.push(z,H,$,j),R.push(B),n=0;I>n;n++)R.push(B++);R.push(B-1)}},i.prototype.buildComplexPoly=function(t,e){var n=t.points.slice();if(!(n.length<6)){var i=e.indices;e.points=n,e.alpha=t.fillAlpha,e.color=r.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-(1/0),l=1/0,h=-(1/0),c=0;c<n.length;c+=2)o=n[c],s=n[c+1],a=a>o?o:a,u=o>u?o:u,l=l>s?s:l,h=s>h?s:h;n.push(a,l,u,l,u,h,a,h);var f=n.length/2;for(c=0;f>c;c++)i.push(c)}},i.prototype.buildPoly=function(t,e){var n=t.points;if(!(n.length<6)){var i=e.points,o=e.indices,s=n.length/2,a=r.hex2rgb(t.fillColor),u=t.fillAlpha,l=a[0]*u,c=a[1]*u,f=a[2]*u,p=h(n,null,2);if(!p)return!1;var d=i.length/6,m=0;for(m=0;m<p.length;m+=3)o.push(p[m]+d),o.push(p[m]+d),o.push(p[m+1]+d),o.push(p[m+2]+d),o.push(p[m+2]+d);for(m=0;s>m;m++)i.push(n[2*m],n[2*m+1],l,c,f,u);return!0}}},{"../../const":22,"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"../../utils":77,"./WebGLGraphicsData":28,earcut:9}],28:[function(t,e,n){function i(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}i.prototype.constructor=i,e.exports=i,i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(t,e,n){var i=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),WebGLManager:t("./renderers/webgl/managers/WebGLManager"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),TextureShader:t("./renderers/webgl/shaders/TextureShader"),PrimitiveShader:t("./renderers/webgl/shaders/PrimitiveShader"),ComplexPrimitiveShader:t("./renderers/webgl/shaders/ComplexPrimitiveShader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,n,r){return t=t||800,e=e||600,!r&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,n):new i.CanvasRenderer(t,e,n)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":33,"./particles/ParticleContainer":39,"./particles/webgl/ParticleRenderer":41,"./renderers/canvas/CanvasRenderer":44,"./renderers/canvas/utils/CanvasBuffer":45,"./renderers/canvas/utils/CanvasGraphics":46,"./renderers/webgl/WebGLRenderer":49,"./renderers/webgl/filters/AbstractFilter":50,"./renderers/webgl/filters/FXAAFilter":51,"./renderers/webgl/filters/SpriteMaskFilter":52,"./renderers/webgl/managers/ShaderManager":56,"./renderers/webgl/managers/WebGLManager":58,"./renderers/webgl/shaders/ComplexPrimitiveShader":59,"./renderers/webgl/shaders/PrimitiveShader":60,"./renderers/webgl/shaders/Shader":61,"./renderers/webgl/shaders/TextureShader":62,"./renderers/webgl/utils/ObjectRenderer":63,"./renderers/webgl/utils/RenderTarget":65,"./sprites/Sprite":67,"./sprites/webgl/SpriteRenderer":68,"./text/Text":69,"./textures/BaseTexture":70,"./textures/RenderTexture":71,"./textures/Texture":72,"./textures/TextureUvs":73,"./textures/VideoBaseTexture":74,"./ticker":76,"./utils":77}],30:[function(t,e,n){function i(t){return 0>t?-1:t>0?1:0}function r(){for(var t=0;16>t;t++){var e=[];c.push(e);for(var n=0;16>n;n++)for(var r=i(o[t]*o[n]+a[t]*s[n]),f=i(s[t]*o[n]+u[t]*s[n]),p=i(o[t]*a[n]+a[t]*u[n]),d=i(s[t]*a[n]+u[t]*u[n]),m=0;16>m;m++)if(o[m]===r&&s[m]===f&&a[m]===p&&u[m]===d){e.push(m);break}}for(t=0;16>t;t++){var g=new h;g.set(o[t],s[t],a[t],u[t],0,0),l.push(g)}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],h=t("./Matrix"),c=[];r();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return s[t]},vX:function(t){return a[t]},vY:function(t){return u[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][f.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e,n,i){var r=l[f.inv(e)];n=n||0,i=i||0,r.tx=n,r.ty=i,t.append(r)}};e.exports=f},{"./Matrix":31}],31:[function(t,e,n){function i(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var r=t("./Point");i.prototype.constructor=i,e.exports=i,i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.set=function(t,e,n,i,r,o){return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=o,this},i.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},i.prototype.apply=function(t,e){e=e||new r;var n=t.x,i=t.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},i.prototype.applyInverse=function(t,e){e=e||new r;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},i.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a,r=this.c,o=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=r*e-this.d*n,this.d=r*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},i.prototype.append=function(t){var e=this.a,n=this.b,i=this.c,r=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*r,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*r,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*r+this.ty,this},i.prototype.setTransform=function(t,e,n,i,r,o,s,a,u){var l,h,c,f,p,d,m,g,v,_;return p=Math.sin(s),d=Math.cos(s),m=Math.cos(u),g=Math.sin(u),v=-Math.sin(a),_=Math.cos(a),l=d*r,h=p*r,c=-p*o,f=d*o,this.a=m*l+g*c,this.b=m*h+g*f,this.c=v*l+_*c,this.d=v*h+_*f,this.tx=t+(n*l+i*c),this.ty=e+(n*h+i*f),this},i.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},i.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*r)/o,this.ty=-(t*this.ty-e*r)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.IDENTITY=new i,i.TEMP_MATRIX=new i},{"./Point":32}],32:[function(t,e,n){function i(t,e){this.x=t||0,this.y=e||0}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],33:[function(t,e,n){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),GroupD8:t("./GroupD8"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./GroupD8":30,"./Matrix":31,"./Point":32,"./shapes/Circle":34,"./shapes/Ellipse":35,"./shapes/Polygon":36,"./shapes/Rectangle":37,"./shapes/RoundedRectangle":38}],34:[function(t,e,n){function i(t,e,n){this.x=t||0,this.y=e||0,this.radius=n||0,this.type=o.SHAPES.CIRC}var r=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.x-t,i=this.y-e,r=this.radius*this.radius;return n*=n,i*=i,r>=n+i},i.prototype.getBounds=function(){return new r(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":37}],35:[function(t,e,n){function i(t,e,n,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.type=o.SHAPES.ELIP}var r=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,1>=n+i},i.prototype.getBounds=function(){return new r(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":37}],36:[function(t,e,n){function i(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}if(e[0]instanceof r){for(var i=[],s=0,a=e.length;a>s;s++)i.push(e[s].x,e[s].y);e=i}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var r=t("../Point"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.points.slice())},i.prototype.contains=function(t,e){for(var n=!1,i=this.points.length/2,r=0,o=i-1;i>r;o=r++){var s=this.points[2*r],a=this.points[2*r+1],u=this.points[2*o],l=this.points[2*o+1],h=a>e!=l>e&&(u-s)*(e-a)/(l-a)+s>t;h&&(n=!n)}return n}},{"../../const":22,"../Point":32}],37:[function(t,e,n){function i(t,e,n,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.type=r.SHAPES.RECT}var r=t("../../const");i.prototype.constructor=i,e.exports=i,i.EMPTY=new i(0,0,0,0),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},{"../../const":22}],38:[function(t,e,n){function i(t,e,n,i,o){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.radius=o||20,this.type=r.SHAPES.RREC}var r=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},{"../../const":22}],39:[function(t,e,n){function i(t,e,n){r.call(this),n=n||15e3,t=t||15e3;var i=16384;n>i&&(n=i),n>t&&(n=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=n,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var r=t("../display/Container"),o=t("../const");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,i=!0,r=0,o=0,s=0,a=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h.texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)===0)i&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),i=!1),r=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,s=c.width*h.scale.x,a=c.height*h.scale.y;else{i||(i=!0),h.displayObjectUpdateTransform();var f=h.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,0|f.tx,0|f.ty):e.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty),r=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,s=c.width,a=c.height}e.drawImage(h.texture.baseTexture.source,c.x,c.y,c.width,c.height,r,o,s,a)}}}},i.prototype.destroy=function(){if(r.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],40:[function(t,e,n){function i(t,e,n,i){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;r++){var o=e[r];n[r]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}i.prototype.constructor=i,e.exports=i,i.prototype.initBuffers=function(){var t,e,n=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferData(n.ARRAY_BUFFER,this.dynamicData,n.DYNAMIC_DRAW);var r=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=r,r+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferData(n.ARRAY_BUFFER,this.staticData,n.DYNAMIC_DRAW)},i.prototype.uploadDynamic=function(t,e,n){for(var i=this.gl,r=0;r<this.dynamicProperties.length;r++){var o=this.dynamicProperties[r];o.uploadFunction(t,e,n,this.dynamicData,this.dynamicStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},i.prototype.uploadStatic=function(t,e,n){for(var i=this.gl,r=0;r<this.staticProperties.length;r++){var o=this.staticProperties[r];o.uploadFunction(t,e,n,this.staticData,this.staticStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},i.prototype.bind=function(){var t,e,n=this.gl;for(n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.staticStride,4*e.offset)},i.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],41:[function(t,e,n){function i(t){r.call(this,t);var e=98304;this.indices=new Uint16Array(e);for(var n=0,i=0;e>n;n+=6,i+=4)this.indices[n+0]=i+0,this.indices[n+1]=i+1,this.indices[n+2]=i+2,this.indices[n+3]=i+0,this.indices[n+4]=i+2,this.indices[n+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new u.Matrix}var r=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),a=t("./ParticleBuffer"),u=t("../../math");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("particle",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},i.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},i.prototype.render=function(t){var e=t.children,n=e.length,i=t._maxSize,r=t._batchSize;if(0!==n){n>i&&(n=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var o=this.renderer.gl,s=t.worldTransform.copy(this.tempMatrix);s.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,s.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,a._glTextures[o.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var u=0,l=0;n>u;u+=r,l+=1){var h=n-u;h>r&&(h=r);var c=t._buffers[l];c.uploadDynamic(e,u,h),t._bufferToUpdate===l&&(c.uploadStatic(e,u,h),t._bufferToUpdate=l+1),c.bind(this.shader),o.drawElements(o.TRIANGLES,6*h,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},i.prototype.generateBuffers=function(t){var e,n=this.renderer.gl,i=[],r=t._maxSize,o=t._batchSize,s=t._properties;for(e=0;r>e;e+=o)i.push(new a(n,this.properties,s,o));return i},i.prototype.uploadVertices=function(t,e,n,i,r,o){for(var s,a,u,l,h,c,f,p,d,m=0;n>m;m++)s=t[e+m],a=s._texture,l=s.scale.x,h=s.scale.y,a.trim?(u=a.trim,f=u.x-s.anchor.x*u.width,c=f+a.crop.width,d=u.y-s.anchor.y*u.height,p=d+a.crop.height):(c=a._frame.width*(1-s.anchor.x),f=a._frame.width*-s.anchor.x,p=a._frame.height*(1-s.anchor.y),d=a._frame.height*-s.anchor.y),i[o]=f*l,i[o+1]=d*h,i[o+r]=c*l,i[o+r+1]=d*h,i[o+2*r]=c*l,i[o+2*r+1]=p*h,i[o+3*r]=f*l,i[o+3*r+1]=p*h,o+=4*r},i.prototype.uploadPosition=function(t,e,n,i,r,o){for(var s=0;n>s;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+r]=a.x,i[o+r+1]=a.y,i[o+2*r]=a.x,i[o+2*r+1]=a.y,i[o+3*r]=a.x,i[o+3*r+1]=a.y,o+=4*r}},i.prototype.uploadRotation=function(t,e,n,i,r,o){for(var s=0;n>s;s++){var a=t[e+s].rotation;i[o]=a,i[o+r]=a,i[o+2*r]=a,i[o+3*r]=a,o+=4*r}},i.prototype.uploadUvs=function(t,e,n,i,r,o){for(var s=0;n>s;s++){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+r]=a.x1,i[o+r+1]=a.y1,i[o+2*r]=a.x2,i[o+2*r+1]=a.y2,i[o+3*r]=a.x3,i[o+3*r+1]=a.y3,o+=4*r):(i[o]=0,i[o+1]=0,i[o+r]=0,i[o+r+1]=0,i[o+2*r]=0,i[o+2*r+1]=0,i[o+3*r]=0,i[o+3*r+1]=0,o+=4*r)}},i.prototype.uploadAlpha=function(t,e,n,i,r,o){for(var s=0;n>s;s++){var a=t[e+s].alpha;i[o]=a,i[o+r]=a,i[o+2*r]=a,i[o+3*r]=a,o+=4*r}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),r.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"./ParticleBuffer":40,"./ParticleShader":42}],42:[function(t,e,n){function i(t){r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var r=t("../../renderers/webgl/shaders/TextureShader");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i},{"../../renderers/webgl/shaders/TextureShader":62}],43:[function(t,e,n){function i(t,e,n,i){if(a.call(this),r.sayHello(t),i)for(var u in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof i[u]&&(i[u]=s.DEFAULT_RENDER_OPTIONS[u]);else i=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=n||600,this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution,this.transparent=i.transparent,this.autoResize=i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this.roundPixels=i.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var r=t("../utils"),o=t("../math"),s=t("../const"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=r.hex2string(t),r.hex2rgb(t,this._backgroundColorRgb)}}}),i.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":33,"../utils":77,eventemitter3:10}],44:[function(t,e,n){function i(t,e,n){n=n||{},r.call(this,"Canvas",t,e,n),this.type=u.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var r=t("../SystemRenderer"),o=t("./utils/CanvasMaskManager"),s=t("../../utils"),a=t("../../math"),u=t("../../const");i.prototype=Object.create(r.prototype),
i.prototype.constructor=i,e.exports=i,s.pluginTarget.mixin(i),i.prototype.render=function(t){this.emit("prerender");var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context),this.emit("postrender")},i.prototype.destroy=function(t){this.destroyPlugins(),r.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},i.prototype.renderDisplayObject=function(t,e){var n=this.context;this.context=e,t.renderCanvas(this),this.context=n},i.prototype.resize=function(t,e){r.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=u.SCALE_MODES.DEFAULT===u.SCALE_MODES.LINEAR)},i.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[u.BLEND_MODES.SCREEN]="screen",this.blendModes[u.BLEND_MODES.OVERLAY]="overlay",this.blendModes[u.BLEND_MODES.DARKEN]="darken",this.blendModes[u.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[u.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[u.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[u.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[u.BLEND_MODES.HUE]="hue",this.blendModes[u.BLEND_MODES.SATURATION]="saturate",this.blendModes[u.BLEND_MODES.COLOR]="color",this.blendModes[u.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[u.BLEND_MODES.SCREEN]="source-over",this.blendModes[u.BLEND_MODES.OVERLAY]="source-over",this.blendModes[u.BLEND_MODES.DARKEN]="source-over",this.blendModes[u.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[u.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[u.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[u.BLEND_MODES.HUE]="source-over",this.blendModes[u.BLEND_MODES.SATURATION]="source-over",this.blendModes[u.BLEND_MODES.COLOR]="source-over",this.blendModes[u.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":33,"../../utils":77,"../SystemRenderer":43,"./utils/CanvasMaskManager":47}],45:[function(t,e,n){function i(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},i.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],46:[function(t,e,n){var i=t("../../../const"),r={};e.exports=r,r.renderGraphics=function(t,e){var n=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var r=0;r<t.graphicsData.length;r++){var o=t.graphicsData[r],s=o.shape,a=o._fillTint,u=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.SHAPES.POLY){e.beginPath();var l=s.points;e.moveTo(l[0],l[1]);for(var h=1;h<l.length/2;h++)e.lineTo(l[2*h],l[2*h+1]);s.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke());else if(o.type===i.SHAPES.ELIP){var c=2*s.width,f=2*s.height,p=s.x-c/2,d=s.y-f/2;e.beginPath();var m=.5522848,g=c/2*m,v=f/2*m,_=p+c,y=d+f,b=p+c/2,x=d+f/2;e.moveTo(p,x),e.bezierCurveTo(p,x-v,b-g,d,b,d),e.bezierCurveTo(b+g,d,_,x-v,_,x),e.bezierCurveTo(_,x+v,b+g,y,b,y),e.bezierCurveTo(b-g,y,p,x+v,p,x),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RREC){var w=s.x,T=s.y,E=s.width,C=s.height,S=s.radius,L=Math.min(E,C)/2|0;S=S>L?L:S,e.beginPath(),e.moveTo(w,T+S),e.lineTo(w,T+C-S),e.quadraticCurveTo(w,T+C,w+S,T+C),e.lineTo(w+E-S,T+C),e.quadraticCurveTo(w+E,T+C,w+E,T+C-S),e.lineTo(w+E,T+S),e.quadraticCurveTo(w+E,T,w+E-S,T),e.lineTo(w+S,T),e.quadraticCurveTo(w,T,w,T+S),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}}},r.renderGraphicsMask=function(t,e){var n=t.graphicsData.length;if(0!==n){e.beginPath();for(var r=0;n>r;r++){var o=t.graphicsData[r],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*s.width,h=2*s.height,c=s.x-l/2,f=s.y-h/2,p=.5522848,d=l/2*p,m=h/2*p,g=c+l,v=f+h,_=c+l/2,y=f+h/2;e.moveTo(c,y),e.bezierCurveTo(c,y-m,_-d,f,_,f),e.bezierCurveTo(_+d,f,g,y-m,g,y),e.bezierCurveTo(g,y+m,_+d,v,_,v),e.bezierCurveTo(_-d,v,c,y+m,c,y),e.closePath()}else if(o.type===i.SHAPES.RREC){var b=s.x,x=s.y,w=s.width,T=s.height,E=s.radius,C=Math.min(w,T)/2|0;E=E>C?C:E,e.moveTo(b,x+E),e.lineTo(b,x+T-E),e.quadraticCurveTo(b,x+T,b+E,x+T),e.lineTo(b+w-E,x+T),e.quadraticCurveTo(b+w,x+T,b+w,x+T-E),e.lineTo(b+w,x+E),e.quadraticCurveTo(b+w,x,b+w-E,x),e.lineTo(b+E,x),e.quadraticCurveTo(b,x,b,x+E),e.closePath()}}}},r.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,i=(255&t.tint)/255,r=0;r<t.graphicsData.length;r++){var o=t.graphicsData[r],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*i*255}}}},{"../../../const":22}],47:[function(t,e,n){function i(){}var r=t("./CanvasGraphics");i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.context.save();var n=t.alpha,i=t.worldTransform,o=e.resolution;e.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.texture||(r.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=n},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){}},{"./CanvasGraphics":46}],48:[function(t,e,n){var i=t("../../../utils"),r={};e.exports=r,r.getTintedTexture=function(t,e){var n=t.texture;e=r.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[i])return n.tintCache[i];var o=r.canvas||document.createElement("canvas");if(r.tintMethod(n,e,o),r.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[i]=s}else n.tintCache[i]=o,r.canvas=null;return o},r.tintWithMultiply=function(t,e,n){var i=n.getContext("2d"),r=t.baseTexture.resolution,o=t.crop.clone();o.x*=r,o.y*=r,o.width*=r,o.height*=r,n.width=o.width,n.height=o.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},r.tintWithOverlay=function(t,e,n){var i=n.getContext("2d"),r=t.baseTexture.resolution,o=t.crop.clone();o.x*=r,o.y*=r,o.width*=r,o.height*=r,n.width=o.width,n.height=o.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},r.tintWithPerPixel=function(t,e,n){var r=n.getContext("2d"),o=t.baseTexture.resolution,s=t.crop.clone();s.x*=o,s.y*=o,s.width*=o,s.height*=o,n.width=s.width,n.height=s.height,r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var a=i.hex2rgb(e),u=a[0],l=a[1],h=a[2],c=r.getImageData(0,0,s.width,s.height),f=c.data,p=0;p<f.length;p+=4)f[p+0]*=u,f[p+1]*=l,f[p+2]*=h;r.putImageData(c,0,0)},r.roundColor=function(t){var e=r.cacheStepsPerColorChannel,n=i.hex2rgb(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),i.rgb2hex(n)},r.cacheStepsPerColorChannel=8,r.convertTintToImage=!1,r.canUseMultiply=i.canUseNewCanvasBlendModes(),r.tintMethod=r.canUseMultiply?r.tintWithMultiply:r.tintWithPerPixel},{"../../../utils":77}],49:[function(t,e,n){function i(t,e,n){n=n||{},r.call(this,"WebGL",t,e,n),this.type=d.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!n.forceFXAA&&n.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new u(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var r=t("../SystemRenderer"),o=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),a=t("./managers/StencilManager"),u=t("./managers/FilterManager"),l=t("./managers/BlendModeManager"),h=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),f=t("./filters/FXAAFilter"),p=t("../../utils"),d=t("../../const");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,p.pluginTarget.mixin(i),i.glContextId=0,i.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=i.glContextId++,t.id=this.glContextId,t.renderer=this},i.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new h(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new f])},i.prototype.render=function(t){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var n=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?n.clearColor(0,0,0,0):n.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),n.clear(n.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget),this.emit("postrender")}},i.prototype.renderDisplayObject=function(t,e,n){this.setRenderTarget(e),n&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},i.prototype.resize=function(t,e){r.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},i.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},i.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&(this.gl.deleteTexture(t._glTextures[this.gl.id]),delete t._glTextures[this.gl.id],!e)){var n=this._managedTextures.indexOf(t);-1!==n&&p.removeItems(this._managedTextures,n,1)}},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this._initContext();for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.gl.id]&&delete e._glTextures[this.gl.id]}},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e=0;e<this._managedTextures.length;++e){var n=this._managedTextures[e];this.destroyTexture(n,!0),n.off("update",this.updateTexture,this),n.off("dispose",this.destroyTexture,this)}r.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl.flush(),this.gl=null},i.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[d.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],this.blendModes[d.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[d.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[d.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[d.DRAW_MODES.LINES]=t.LINES,this.drawModes[d.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[d.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[d.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":22,"../../utils":77,"../SystemRenderer":43,"./filters/FXAAFilter":51,"./managers/BlendModeManager":53,"./managers/FilterManager":54,"./managers/MaskManager":55,"./managers/ShaderManager":56,"./managers/StencilManager":57,"./utils/ObjectRenderer":63,"./utils/RenderTarget":65}],50:[function(t,e,n){function i(t,e,n){this.shaders=[],this.padding=0,this.uniforms=n||{},this.vertexSrc=t||r.defaultVertexSrc,this.fragmentSrc=e||r.defaultFragmentSrc}var r=t("../shaders/TextureShader");i.prototype.constructor=i,e.exports=i,i.prototype.getShader=function(t){var e=t.gl,n=this.shaders[e.id];return n||(n=new r(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=n),n},i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);t.filterManager.applyFilter(r,e,n,i)},i.prototype.syncUniform=function(t){for(var e=0,n=this.shaders.length;n>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":62}],51:[function(t,e,n){function i(){r.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var r=t("./AbstractFilter");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager,r=this.getShader(t);i.applyFilter(r,e,n)}},{"./AbstractFilter":50}],52:[function(t,e,n){function i(t){var e=new o.Matrix;r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var r=t("./AbstractFilter"),o=t("../../../math");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var r=this.getShader(t);i.applyFilter(r,e,n)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":33,"./AbstractFilter":50}],53:[function(t,e,n){function i(t){r.call(this,t),this.currentBlendMode=99999}var r=t("./WebGLManager");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":58}],54:[function(t,e,n){function i(t){r.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new u.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var r=t("./WebGLManager"),o=t("../utils/RenderTarget"),s=t("../../../const"),a=t("../utils/Quad"),u=t("../../../math");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},i.prototype.setFilterStack=function(t){this.filterStack=t},i.prototype.pushFilter=function(t,e){var n=t.filterArea?t.filterArea.clone():t.getBounds();n.x=0|n.x,n.y=0|n.y,n.width=0|n.width,n.height=0|n.height;var i=0|e[0].padding;if(n.x-=i,n.y-=i,n.width+=2*i,n.height+=2*i,this.renderer.currentRenderTarget.transform){var r=this.renderer.currentRenderTarget.transform;n.x+=r.tx,n.y+=r.ty,this.capFilterArea(n),n.x-=r.tx,n.y-=r.ty}else this.capFilterArea(n);if(n.width>0&&n.height>0){this.currentFrame=n;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},i.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],n=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,r=this.renderer.gl;this.currentFrame=n.frame,this.quad.map(this.textureSize,n.frame),r.bindBuffer(r.ARRAY_BUFFER,this.quad.vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,r.FLOAT,!1,0,32),r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,r.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,n,i),this.returnRenderTarget(n);else{for(var a=n,u=this.getRenderTarget(!0),l=0;l<o.length-1;l++){var h=o[l];h.uniforms.dimensions&&(h.uniforms.dimensions.value[0]=this.renderer.width,h.uniforms.dimensions.value[1]=this.renderer.height,h.uniforms.dimensions.value[2]=this.quad.vertices[0],h.uniforms.dimensions.value[3]=this.quad.vertices[5]),h.applyFilter(this.renderer,a,u);var c=a;a=u,u=c}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(u)}return t.filter}},i.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},i.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},i.prototype.applyFilter=function(t,e,n,i){var r=this.renderer.gl;this.renderer.setRenderTarget(n),i&&n.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e.texture),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),this.renderer.drawCount++},i.prototype.calculateMappedMatrix=function(t,e,n){var i=e.worldTransform.copy(u.Matrix.TEMP_MATRIX),r=e._texture.baseTexture,o=n.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),
o.scale(1,s);var a=this.textureSize.width/r.width,l=this.textureSize.height/r.height;return i.tx/=r.width*a,i.ty/=r.width*a,i.invert(),o.prepend(i),o.scale(1,1/s),o.scale(a,l),o.translate(e.anchor.x,e.anchor.y),o},i.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},i.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var n=0;n<this.texturePool.length;n++)this.texturePool[n].resize(t,e)},i.prototype.destroy=function(){this.quad.destroy(),r.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":33,"../utils/Quad":64,"../utils/RenderTarget":65,"./WebGLManager":58}],55:[function(t,e,n){function i(t){r.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var r=t("./WebGLManager"),o=t("../filters/SpriteMaskFilter");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},i.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},i.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool.pop();n||(n=[new o(e)]),n[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,n)},i.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},i.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},i.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":52,"./WebGLManager":58}],56:[function(t,e,n){function i(t){r.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var r=t("./WebGLManager"),o=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),u=t("../../../utils");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,u.pluginTarget.mixin(i),e.exports=i,i.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},i.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var n in t)this.tempAttribState[t[n]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},i.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),r.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":77,"../shaders/ComplexPrimitiveShader":59,"../shaders/PrimitiveShader":60,"../shaders/TextureShader":62,"./WebGLManager":58}],57:[function(t,e,n){function i(t){r.call(this,t),this.stencilMaskStack=null}var r=t("./WebGLManager"),o=t("../../../utils");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},i.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var n=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e),0===i.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var r=i.count;n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===e.mode?(n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),i.reverse?(n.stencilFunc(n.EQUAL,255-r,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,r,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?n.stencilFunc(n.EQUAL,255-(r+1),255):n.stencilFunc(n.EQUAL,r+1,255),i.reverse=!i.reverse):(i.reverse?(n.stencilFunc(n.EQUAL,r,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-r,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),i.reverse?n.stencilFunc(n.EQUAL,r+1,255):n.stencilFunc(n.EQUAL,255-(r+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),i.count++},i.prototype.bindGraphics=function(t,e){var n,i=this.renderer.gl;1===e.mode?(n=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(n),i.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform3fv(n.uniforms.color._location,e.color),i.uniform1f(n.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(n=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(n),i.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform1f(n.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(n.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.prototype.popStencil=function(t,e){var n=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)n.disable(n.STENCIL_TEST);else{var r=i.count;this.bindGraphics(t,e),n.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(n.stencilFunc(n.EQUAL,255-(r+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,r+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,i.reverse?n.stencilFunc(n.EQUAL,r,255):n.stencilFunc(n.EQUAL,255-r,255)):(i.reverse?(n.stencilFunc(n.EQUAL,r+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(r+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),this.renderer.drawCount++,i.reverse?n.stencilFunc(n.EQUAL,r,255):n.stencilFunc(n.EQUAL,255-r,255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},i.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":77,"./WebGLManager":58}],58:[function(t,e,n){function i(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],59:[function(t,e,n){function i(t){r.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var r=t("./Shader");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":61}],60:[function(t,e,n){function i(t){r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var r=t("./Shader");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":61}],61:[function(t,e,n){function i(t,e,n,i,o){if(!e||!n)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=r.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=i||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=n,this.init()}var r=t("../../../utils");i.prototype.constructor=i,e.exports=i,i.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},i.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},i.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},i.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),n=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(n),this.program=i},i.prototype.syncUniform=function(t){var e,n,i=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(i,o?1:0);break;case"i":case"1i":s.uniform1i(i,o);break;case"f":case"1f":s.uniform1f(i,o);break;case"2f":s.uniform2f(i,o[0],o[1]);break;case"3f":s.uniform3f(i,o[0],o[1],o[2]);break;case"4f":s.uniform4f(i,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(i,o.x,o.y);break;case"v3":s.uniform3f(i,o.x,o.y,o.z);break;case"v4":s.uniform4f(i,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(i,o);break;case"2iv":s.uniform2iv(i,o);break;case"3iv":s.uniform3iv(i,o);break;case"4iv":s.uniform4iv(i,o);break;case"1fv":s.uniform1fv(i,o);break;case"2fv":s.uniform2fv(i,o);break;case"3fv":s.uniform3fv(i,o);break;case"4fv":s.uniform4fv(i,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(i,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(i,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(i,t.transpose,o);break;case"c":"number"==typeof o&&(o=r.hex2rgb(o)),s.uniform3f(i,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(i,o);break;case"iv":s.uniform3iv(i,o);break;case"fv1":s.uniform1fv(i,o);break;case"fv":s.uniform3fv(i,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,n=o.length;n>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(i,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,n=o.length;n>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(i,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,n=o.length;n>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(i,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},i.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},i.prototype.initSampler2D=function(t){var e=this.gl,n=t.value.baseTexture;if(n.hasLoaded)if(t.textureData){var i=t.textureData;n._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,n._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(n)},i.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},i.prototype._glCompile=function(t,e){var n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(console.log(this.gl.getShaderInfoLog(n)),null)}},{"../../../utils":77}],62:[function(t,e,n){function i(t,e,n,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var u in o)a[u]=o[u];var l={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var h in s)l[h]=s[h];e=e||i.defaultVertexSrc,n=n||i.defaultFragmentSrc,r.call(this,t,e,n,a,l)}var r=t("./Shader");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),i.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":61}],63:[function(t,e,n){function i(t){r.call(this,t)}var r=t("../managers/WebGLManager");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){}},{"../managers/WebGLManager":58}],64:[function(t,e,n){function i(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}i.prototype.constructor=i,i.prototype.map=function(t,e){var n=0,i=0;this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+e.width/t.width,this.uvs[3]=i,this.uvs[4]=n+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=n,this.uvs[7]=i+e.height/t.height,n=e.x,i=e.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+e.width,this.vertices[3]=i,this.vertices[4]=n+e.width,this.vertices[5]=i+e.height,this.vertices[6]=n,this.vertices[7]=i+e.height,this.upload()},i.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},i.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.exports=i},{}],65:[function(t,e,n){var i=t("../../../math"),r=t("../../../utils"),o=t("../../../const"),s=t("./StencilMaskStack"),a=function(t,e,n,a,u,l){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=u||o.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=l,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var h=r.isPowerOfTwo(e,n);h?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,n)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t*this.resolution,e*this.resolution,0,n.RGBA,n.UNSIGNED_BYTE,null),this.stencilBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencilBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":33,"../../../utils":77,"./StencilMaskStack":66}],66:[function(t,e,n){function i(){this.stencilStack=[],this.reverse=!0,this.count=0}i.prototype.constructor=i,e.exports=i},{}],67:[function(t,e,n){function i(t){s.call(this),this.anchor=new r.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var r=t("../math"),o=t("../textures/Texture"),s=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),u=t("../utils"),l=t("../const"),h=new r.Point,c=r.GroupD8,f=new r.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){var e=u.sign(this.scale.x)||1;this.scale.x=e*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){var e=u.sign(this.scale.y)||1;this.scale.y=e*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=u.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=u.sign(this.scale.y)*this._height/this.texture.frame.height)},i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},i.prototype.getBounds=function(t){if(!this._currentBounds){var e,n,i,r,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),u=o*-this.anchor.x,l=s*(1-this.anchor.y),h=s*-this.anchor.y,c=t||this.worldTransform,f=c.a,p=c.b,d=c.c,m=c.d,g=c.tx,v=c.ty,_=f*u+d*h+g,y=m*h+p*u+v,b=f*a+d*h+g,x=m*h+p*a+v,w=f*a+d*l+g,T=m*l+p*a+v,E=f*u+d*l+g,C=m*l+p*u+v;if(e=_,e=e>b?b:e,e=e>w?w:e,e=e>E?E:e,i=y,i=i>x?x:i,i=i>T?T:i,i=i>C?C:i,n=_,n=b>n?b:n,n=w>n?w:n,n=E>n?E:n,r=y,r=x>r?x:r,r=T>r?T:r,r=C>r?C:r,this.children.length){var S=this.containerGetBounds();a=S.x,u=S.x+S.width,l=S.y,h=S.y+S.height,e=a>e?e:a,i=l>i?i:l,n=n>u?n:u,r=r>h?r:h}var L=this._bounds;L.x=e,L.width=n-e,L.y=i,L.height=r-i,this._currentBounds=L}return this._currentBounds},i.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e,n=this._texture._frame.width,i=this._texture._frame.height,r=-n*this.anchor.x;return h.x>r&&h.x<r+n&&(e=-i*this.anchor.y,h.y>e&&h.y<e+i)?!0:!1},i.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var n,i,r=this._texture,o=this.worldTransform,s=r.crop.width,u=r.crop.height;t.context.globalAlpha=this.worldAlpha;var h=r.baseTexture.scaleMode===l.SCALE_MODES.LINEAR;t.smoothProperty&&t.context[t.smoothProperty]!==h&&(t.context[t.smoothProperty]=h),2===(3&r.rotate)&&(s=r.crop.height,u=r.crop.width),r.trim?(n=r.crop.width/2+r.trim.x-this.anchor.x*r.trim.width,i=r.crop.height/2+r.trim.y-this.anchor.y*r.trim.height):(n=(.5-this.anchor.x)*r._frame.width,i=(.5-this.anchor.y)*r._frame.height),r.rotate&&(o.copy(f),o=f,c.matrixAppendRotationInv(o,r.rotate,n,i),n=0,i=0),n-=s/2,i-=u/2,t.roundPixels?(t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution|0,o.ty*t.resolution|0),n=0|n,i=0|i):t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution,o.ty*t.resolution);var p=r.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,s*p,u*p,n*t.resolution,i*t.resolution,s*t.resolution,u*t.resolution)):t.context.drawImage(r.baseTexture.source,r.crop.x*p,r.crop.y*p,s*p,u*p,n*t.resolution,i*t.resolution,s*t.resolution,u*t.resolution)}}},i.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},i.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new i(e)},i.fromImage=function(t,e,n){return new i(o.fromImage(t,e,n))}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasTinter":48,"../textures/Texture":72,"../utils":77}],68:[function(t,e,n){function i(t){r.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,n=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(n);for(var i=0,o=0;n>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var r=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("sprite",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},i.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var n=e._uvs;if(n){var i,r,o,s,a=t.anchor.x,u=t.anchor.y;if(e.trim&&void 0===t.tileScale){var l=e.trim;r=l.x-a*l.width,i=r+e.crop.width,s=l.y-u*l.height,o=s+e.crop.height}else i=e._frame.width*(1-a),r=e._frame.width*-a,o=e._frame.height*(1-u),s=e._frame.height*-u;var h=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,f=c.a,p=c.b,d=c.c,m=c.d,g=c.tx,v=c.ty,_=this.colors,y=this.positions;if(this.renderer.roundPixels){var b=this.renderer.resolution;y[h]=((f*r+d*s+g)*b|0)/b,y[h+1]=((m*s+p*r+v)*b|0)/b,y[h+5]=((f*i+d*s+g)*b|0)/b,y[h+6]=((m*s+p*i+v)*b|0)/b,y[h+10]=((f*i+d*o+g)*b|0)/b,y[h+11]=((m*o+p*i+v)*b|0)/b,y[h+15]=((f*r+d*o+g)*b|0)/b,y[h+16]=((m*o+p*r+v)*b|0)/b}else y[h]=f*r+d*s+g,y[h+1]=m*s+p*r+v,y[h+5]=f*i+d*s+g,y[h+6]=m*s+p*i+v,y[h+10]=f*i+d*o+g,y[h+11]=m*o+p*i+v,y[h+15]=f*r+d*o+g,y[h+16]=m*o+p*r+v;y[h+2]=n.x0,y[h+3]=n.y0,y[h+7]=n.x1,y[h+8]=n.y1,y[h+12]=n.x2,y[h+13]=n.y2,y[h+17]=n.x3,y[h+18]=n.y3;var x=t.tint;_[h+4]=_[h+9]=_[h+14]=_[h+19]=(x>>16)+(65280&x)+((255&x)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var n=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,n)}for(var i,r,o,s,a=0,u=0,l=null,h=this.renderer.blendModeManager.currentBlendMode,c=null,f=!1,p=!1,d=0,m=this.currentBatchSize;m>d;d++)s=this.sprites[d],i=s._texture.baseTexture,r=s.blendMode,o=s.shader||this.shader,f=h!==r,p=c!==o,(l!==i||f||p)&&(this.renderBatch(l,a,u),u=d,a=0,l=i,f&&(h=r,this.renderer.blendModeManager.setBlendMode(h)),p&&(c=o,t=c.shaders?c.shaders[e.id]:c,t||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(l,a,u),this.currentBatchSize=0}},i.prototype.renderBatch=function(t,e,n){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*n*2),this.renderer.drawCount++}},i.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},i.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),r.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63}],69:[function(t,e,n){function i(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||u.RESOLUTION,this._text=null,this._style=null;var i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,r.call(this,i),this.text=t,this.style=e}var r=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),a=t("../utils"),u=t("../const");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.fontPropertiesCache={},i.fontPropertiesCanvas=document.createElement("canvas"),i.fontPropertiesContext=i.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(i.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.breakWords=t.breakWords||!1,t.letterSpacing=t.letterSpacing||0,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=void 0!==t.dropShadowAngle?t.dropShadowAngle:Math.PI/6,
t.dropShadowDistance=void 0!==t.dropShadowDistance?t.dropShadowDistance:5,t.dropShadowBlur=void 0!==t.dropShadowBlur?t.dropShadowBlur:0,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,n=e.split(/(?:\r\n|\r|\n)/),i=new Array(n.length),r=0,o=this.determineFontProperties(t.font),s=0;s<n.length;s++){var a=this.context.measureText(n[s]).width+(n[s].length-1)*t.letterSpacing;i[s]=a,r=Math.max(r,a)}var u=r+t.strokeThickness;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.width=Math.ceil((u+this.context.lineWidth)*this.resolution);var l=this.style.lineHeight||o.fontSize+t.strokeThickness,h=l*n.length;t.dropShadow&&(h+=t.dropShadowDistance),this.canvas.height=Math.ceil((h+2*this._style.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var c,f;if(t.dropShadow){t.dropShadowBlur>0?(this.context.shadowColor=t.dropShadowColor,this.context.shadowBlur=t.dropShadowBlur):this.context.fillStyle=t.dropShadowColor;var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<n.length;s++)c=t.strokeThickness/2,f=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?c+=r-i[s]:"center"===t.align&&(c+=(r-i[s])/2),t.fill&&this.drawLetterSpacing(n[s],c+p,f+d+t.padding)}for(this.context.fillStyle=t.fill,s=0;s<n.length;s++)c=t.strokeThickness/2,f=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?c+=r-i[s]:"center"===t.align&&(c+=(r-i[s])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(n[s],c,f+t.padding,!0),t.fill&&this.drawLetterSpacing(n[s],c,f+t.padding);this.updateTexture()},i.prototype.drawLetterSpacing=function(t,e,n,i){var r=this._style,o=r.letterSpacing;if(0===o)return void(i?this.context.strokeText(t,e,n):this.context.fillText(t,e,n));for(var s,a=String.prototype.split.call(t,""),u=0,l=e;u<t.length;)s=a[u++],i?this.context.strokeText(s,l,n):this.context.fillText(s,l,n),l+=this.context.measureText(s).width+o},i.prototype.updateTexture=function(){var t=this._texture,e=this._style;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-e.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*e.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},i.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),r.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),r.prototype._renderCanvas.call(this,t)},i.prototype.determineFontProperties=function(t){var e=i.fontPropertiesCache[t];if(!e){e={};var n=i.fontPropertiesCanvas,r=i.fontPropertiesContext;r.font=t;var o=Math.ceil(r.measureText("|MÃq").width),s=Math.ceil(r.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÃq",0,s);var u,l,h=r.getImageData(0,0,o,a).data,c=h.length,f=4*o,p=0,d=!1;for(u=0;s>u;u++){for(l=0;f>l;l+=4)if(255!==h[p+l]){d=!0;break}if(d)break;p+=f}for(e.ascent=s-u,p=c-f,d=!1,u=a;u>s;u--){for(l=0;f>l;l+=4)if(255!==h[p+l]){d=!0;break}if(d)break;p-=f}e.descent=u-s,e.fontSize=e.ascent+e.descent,i.fontPropertiesCache[t]=e}return e},i.prototype.wordWrap=function(t){for(var e="",n=t.split("\n"),i=this._style.wordWrapWidth,r=0;r<n.length;r++){for(var o=i,s=n[r].split(" "),a=0;a<s.length;a++){var u=this.context.measureText(s[a]).width;if(this._style.breakWords&&u>i)for(var l=s[a].split(""),h=0;h<l.length;h++){var c=this.context.measureText(l[h]).width;c>o?(e+="\n"+l[h],o=i-c):(0===h&&(e+=" "),e+=l[h],o-=c)}else{var f=u+this.context.measureText(" ").width;0===a||f>o?(a>0&&(e+="\n"),e+=s[a],o=i-u):(o-=f,e+=" "+s[a])}}r<n.length-1&&(e+="\n")}return e},i.prototype.getBounds=function(t){return this.dirty&&this.updateText(),r.prototype.getBounds.call(this,t)},i.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},{"../const":22,"../math":33,"../sprites/Sprite":67,"../textures/Texture":72,"../utils":77}],70:[function(t,e,n){function i(t,e,n){s.call(this),this.uid=r.uid(),this.resolution=n||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},t&&this.loadSource(t)}var r=t("../utils"),o=t("../const"),s=t("eventemitter3");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=r.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},i.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var n=this;t.onload=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),n.emit("loaded",n))},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl?(delete r.BaseTextureCache[this.imageUrl],delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete r.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,e,n){var o=r.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new i(s,n),o.imageUrl=t,s.src=t,r.BaseTextureCache[t]=o,o.resolution=r.getResolutionOfUrl(t)}return o},i.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+r.uid());var n=r.BaseTextureCache[t._pixiId];return n||(n=new i(t,e),r.BaseTextureCache[t._pixiId]=n),n}},{"../const":22,"../utils":77,eventemitter3:10}],71:[function(t,e,n){function i(t,e,n,i,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,n=n||100,c=c||h.RESOLUTION;var f=new r;if(f.width=e,f.height=n,f.resolution=c,f.scaleMode=i||h.SCALE_MODES.DEFAULT,f.hasLoaded=!0,o.call(this,f,new l.Rectangle(0,0,e,n)),this.width=e,this.height=n,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===h.RENDERER_TYPE.WEBGL){var p=this.renderer.gl;this.textureBuffer=new s(p,this.width,this.height,f.scaleMode,this.resolution),this.baseTexture._glTextures[p.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,n),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new u(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var r=t("./BaseTexture"),o=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),u=t("../renderers/canvas/utils/CanvasBuffer"),l=t("../math"),h=t("../const"),c=new l.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.resize=function(t,e,n){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,n&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},i.prototype.clear=function(){this.valid&&(this.renderer.type===h.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.prototype.renderWebGL=function(t,e,n,i){if(this.valid){if(i=void 0!==i?i:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var r,o,s=t.children;for(r=0,o=s.length;o>r;++r)s[r].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,n),this.renderer.filterManager=a}},i.prototype.renderCanvas=function(t,e,n,i){if(this.valid){i=!!i;var r=c;r.identity(),e&&r.append(e);var o=t.worldTransform;t.worldTransform=r,t.worldAlpha=1;var s,a,u=t.children;for(s=0,a=u.length;a>s;++s)u[s].updateTransform();n&&this.textureBuffer.clear();var l=this.textureBuffer.context,h=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,l),this.renderer.resolution=h,t.worldTransform===r&&(t.worldTransform=o)}},i.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},i.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.prototype.getCanvas=function(){if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,n=this.textureBuffer.size.height,i=new Uint8Array(4*e*n);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,n,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var r=new u(e,n),o=r.context.getImageData(0,0,e,n);return o.data.set(i),r.context.putImageData(o,0,0),r.canvas}return this.textureBuffer.canvas},i.prototype.getPixels=function(){var t,e;if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},i.prototype.getPixel=function(t,e){if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var n=this.renderer.gl,i=new Uint8Array(4);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(t,e,1,1,n.RGBA,n.UNSIGNED_BYTE,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":22,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/webgl/managers/FilterManager":54,"../renderers/webgl/utils/RenderTarget":65,"./BaseTexture":70,"./Texture":72}],72:[function(t,e,n){function i(t,e,n,r,o){if(a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new u.Rectangle(0,0,1,1)),t instanceof i&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=r,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=n||e,this._rotate=+(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";t.hasLoaded?(this.noFrame&&(e=new u.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var r=t("./BaseTexture"),o=t("./VideoBaseTexture"),s=t("./TextureUvs"),a=t("eventemitter3"),u=t("../math"),l=t("../utils");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}}}),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},i.fromImage=function(t,e,n){var o=l.TextureCache[t];return o||(o=new i(r.fromImage(t,e,n)),l.TextureCache[t]=o),o},i.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},i.fromCanvas=function(t,e){return new i(r.fromCanvas(t,e))},i.fromVideo=function(t,e){return"string"==typeof t?i.fromVideoUrl(t,e):new i(o.fromVideo(t,e))},i.fromVideoUrl=function(t,e){return new i(o.fromUrl(t,e))},i.addTextureToCache=function(t,e){l.TextureCache[e]=t},i.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},i.EMPTY=new i(new r)},{"../math":33,"../utils":77,"./BaseTexture":70,"./TextureUvs":73,"./VideoBaseTexture":74,eventemitter3:10}],73:[function(t,e,n){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=i;var r=t("../math/GroupD8");i.prototype.set=function(t,e,n){var i=e.width,o=e.height;if(n){var s=r.isSwapWidthHeight(n),a=(s?t.height:t.width)/2/i,u=(s?t.width:t.height)/2/o,l=t.x/i+a,h=t.y/o+u;n=r.add(n,r.NW),this.x0=l+a*r.uX(n),this.y0=h+u*r.uY(n),n=r.add(n,2),this.x1=l+a*r.uX(n),this.y1=h+u*r.uY(n),n=r.add(n,2),this.x2=l+a*r.uX(n),this.y2=h+u*r.uY(n),n=r.add(n,2),this.x3=l+a*r.uX(n),this.y3=h+u*r.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o}},{"../math/GroupD8":30}],74:[function(t,e,n){function i(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function r(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}var o=t("./BaseTexture"),s=t("../utils");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},i.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},i.prototype._onPlayStop=function(){this.autoUpdate=!1},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},i.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},i.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var n=s.BaseTextureCache[t._pixiId];return n||(n=new i(t,e),s.BaseTextureCache[t._pixiId]=n),n},i.fromUrl=function(t,e){var n=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)n.appendChild(r(t[o].src||t[o],t[o].mime));else n.appendChild(r(t.src||t,t.mime));return n.load(),n.play(),i.fromVideo(n,e)},i.fromUrls=i.fromUrl},{"../utils":77,"./BaseTexture":70}],75:[function(t,e,n){function i(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/r.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var r=t("../const"),o=t("eventemitter3"),s="tick";Object.defineProperties(i.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,r.TARGET_FPMS);this._maxElapsedMS=1/e}}}),i.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},i.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},i.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*r.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=i},{"../const":22,eventemitter3:10}],76:[function(t,e,n){var i=t("./Ticker"),r=new i;r.autoStart=!0,e.exports={shared:r,Ticker:i}},{"./Ticker":75}],77:[function(t,e,n){var i=t("../const"),r=e.exports={_uid:0,_saidHello:!1,EventEmitter:t("eventemitter3"),pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++r._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;n.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var r=document.createElement("canvas");r.width=6,r.height=1;var o=r.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(n,0,0),o.drawImage(i,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!r._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+i.VERSION+" - â° "+t+" â°  %c  %c  http://www.pixijs.com/  %c %c â¥%câ¥%câ¥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+i.VERSION+" - "+t+" - http://www.pixijs.com/");r._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!n||!n.getContextAttributes().stencil)}catch(i){return!1}},sign:function(t){return t?0>t?-1:1:0},removeItems:function(t,e,n){var i=t.length;if(!(e>=i||0===n)){n=e+n>i?i-e:n;for(var r=e,o=i-n;o>r;++r)t[r]=t[r+n];t.length=o}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":78,async:1,eventemitter3:10}],78:[function(t,e,n){function i(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.exports={mixin:function(t){i(t)}}},{}],79:[function(t,e,n){var i=t("./core"),r=t("./mesh"),o=t("./extras"),s=t("./filters");i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),r.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),r.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},{"./core":29,"./extras":86,"./filters":103,"./mesh":128}],80:[function(t,e,n){function i(t,e){r.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var r=t("../core");i.prototype=Object.create(r.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=new r.Point,n=null,o=[],s=0,a=0,u=[],l=0,h=this._font.size/t.size,c=-1,f=0,p=0;p<this.text.length;p++){var d=this.text.charCodeAt(p);if(c=/(\s)/.test(this.text.charAt(p))?p:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,n=null;else if(-1!==c&&this.maxWidth>0&&e.x*h>this.maxWidth)r.utils.removeItems(o,c,p-c),p=c,c=-1,u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,n=null;else{var m=t.chars[d];m&&(n&&m.kerning[n]&&(e.x+=m.kerning[n]),o.push({texture:m.texture,line:l,charCode:d,position:new r.Point(e.x+m.xOffset,e.y+m.yOffset)}),s=e.x+(m.texture.width+m.xOffset),e.x+=m.xAdvance,f=Math.max(f,m.yOffset+m.texture.height),n=d)}}u.push(s),a=Math.max(a,s);var g=[];for(p=0;l>=p;p++){var v=0;"right"===this._font.align?v=a-u[p]:"center"===this._font.align&&(v=(a-u[p])/2),g.push(v)}var _=o.length,y=this.tint;for(p=0;_>p;p++){var b=this._glyphs[p];b?b.texture=o[p].texture:(b=new r.Sprite(o[p].texture),this._glyphs.push(b)),b.position.x=(o[p].position.x+g[o[p].line])*h,b.position.y=o[p].position.y*h,b.scale.x=b.scale.y=h,b.tint=y,b.parent||this.addChild(b)}for(p=_;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=a*h,this.textHeight=(e.y+t.lineHeight)*h,this.maxLineHeight=f*h},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),r.Container.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.fonts={}},{"../core":29}],81:[function(t,e,n){function i(t){r.Sprite.call(this,t[0]instanceof r.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var r=t("../core");i.prototype=Object.create(r.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof r.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return 0>t&&(t+=this._textures.length),t}}}),i.prototype.stop=function(){this.playing&&(this.playing=!1,r.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,r.ticker.shared.add(this.update,this))},i.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},i.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},i.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;0>n;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},i.prototype.destroy=function(){this.stop(),r.Sprite.prototype.destroy.call(this)},i.fromFrames=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new r.Texture.fromFrame(t[n]));return new i(e)},i.fromImages=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new r.Texture.fromImage(t[n]));
return new i(e)}},{"../core":29}],82:[function(t,e,n){function i(t,e,n){r.Sprite.call(this,t),this.tileScale=new r.Point(1,1),this.tilePosition=new r.Point(0,0),this._width=e||100,this._height=n||100,this._uvs=new r.TextureUvs,this._canvasPattern=null,this.shader=new r.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var r=t("../core"),o=new r.Point,s=t("../core/renderers/canvas/utils/CanvasTinter");i.prototype=Object.create(r.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),i.prototype._onTextureUpdate=function(){},i.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var n=e._uvs,i=e._frame.width,r=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=n.x0,this.shader.uniforms.uFrame.value[1]=n.y0,this.shader.uniforms.uFrame.value[2]=n.x1-n.x0,this.shader.uniforms.uFrame.value[3]=n.y2-n.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(r*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=n,e._frame.width=i,e._frame.height=r}},i.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,i=this.worldTransform,o=t.resolution,a=e.baseTexture,u=this.tilePosition.x/this.tileScale.x%e._frame.width,l=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var h=new r.CanvasBuffer(e._frame.width*o,e._frame.height*o);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),h.context.drawImage(this.tintedTexture,0,0)):h.context.drawImage(a.source,-e._frame.x*o,-e._frame.y*o),this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),n.scale(this.tileScale.x/o,this.tileScale.y/o),n.translate(u+this.anchor.x*-this._width,l+this.anchor.y*-this._height);var c=t.blendModes[this.blendMode];c!==t.context.globalCompositeOperation&&(n.globalCompositeOperation=c),n.fillStyle=this._canvasPattern,n.fillRect(-u,-l,this._width*o/this.tileScale.x,this._height*o/this.tileScale.y)}},i.prototype.getBounds=function(){var t,e,n,i,r=this._width,o=this._height,s=r*(1-this.anchor.x),a=r*-this.anchor.x,u=o*(1-this.anchor.y),l=o*-this.anchor.y,h=this.worldTransform,c=h.a,f=h.b,p=h.c,d=h.d,m=h.tx,g=h.ty,v=c*a+p*l+m,_=d*l+f*a+g,y=c*s+p*l+m,b=d*l+f*s+g,x=c*s+p*u+m,w=d*u+f*s+g,T=c*a+p*u+m,E=d*u+f*a+g;t=v,t=t>y?y:t,t=t>x?x:t,t=t>T?T:t,n=_,n=n>b?b:n,n=n>w?w:n,n=n>E?E:n,e=v,e=y>e?y:e,e=x>e?x:e,e=T>e?T:e,i=_,i=b>i?b:i,i=w>i?w:i,i=E>i?E:i;var C=this._bounds;return C.x=t,C.width=e-t,C.y=n,C.height=i-n,this._currentBounds=C,C},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,n=this._width,i=this._height,r=-n*this.anchor.x;return o.x>r&&o.x<r+n&&(e=-i*this.anchor.y,o.y>e&&o.y<e+i)?!0:!1},i.prototype.destroy=function(){r.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},i.fromFrame=function(t,e,n){var o=r.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(o,e,n)},i.fromImage=function(t,e,n,o,s){return new i(r.Texture.fromImage(t,o,s),e,n)}},{"../core":29,"../core/renderers/canvas/utils/CanvasTinter":48}],83:[function(t,e,n){var i=t("../core"),r=i.DisplayObject,o=new i.Matrix;r.prototype._cacheAsBitmap=!1,r.prototype._originalRenderWebGL=null,r.prototype._originalRenderCanvas=null,r.prototype._originalUpdateTransform=null,r.prototype._originalHitTest=null,r.prototype._originalDestroy=null,r.prototype._cachedSprite=null,Object.defineProperties(r.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),r.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},r.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n}var r=t.currentRenderTarget,s=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),u=o;u.tx=-e.x,u.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,u,!0,!0),t.setRenderTarget(r),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},r.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},r.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),n=t.context,r=new i.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,r.render(this,s,!0),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(r),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},r.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},r.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},r.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],84:[function(t,e,n){var i=t("../core");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":29}],85:[function(t,e,n){var i=t("../core");i.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":29}],86:[function(t,e,n){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":80,"./MovieClip":81,"./TilingSprite":82,"./cacheAsBitmap":83,"./getChildByName":84,"./getGlobalPosition":85}],87:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],88:[function(t,e,n){function i(){r.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new r.AbstractFilter}var r=t("../../core"),o=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,n),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(r.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,i,n),t.blendModeManager.setBlendMode(r.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"../blur/BlurXFilter":91,"../blur/BlurYFilter":92}],89:[function(t,e,n){function i(t,e){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new r.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(r,e,o,i);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(r,o,o,i);t.filterManager.applyFilter(r,o,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":29}],90:[function(t,e,n){function i(){r.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var r=t("../../core"),o=t("./BlurXFilter"),s=t("./BlurYFilter");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,n),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"./BlurXFilter":91,"./BlurYFilter":92}],91:[function(t,e,n){function i(){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(r,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(r,s,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],92:[function(t,e,n){function i(){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(r,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(r,s,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],93:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],94:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._loadMatrix=function(t,e){e=!!e;var n=t;e&&(this._multiply(n,this.uniforms.m.value,t),n=this._colorMatrix(n)),this.uniforms.m.value=n},i.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.grayscale=i.prototype.greyscale,i.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),i=Math.sin(t),r=.213,o=.715,s=.072,a=[r+n*(1-r)+i*-r,o+n*-o+i*-o,s+n*-s+i*(1-s),0,0,r+n*-r+.143*i,o+n*(1-o)+.14*i,s+n*-s+i*-.283,0,0,r+n*-r+i*-(1-r),o+n*-o+i*o,s+n*(1-s)+i*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},i.prototype.contrast=function(t,e){var n=(t||0)+1,i=-128*(n-1),r=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.saturate=function(t,e){var n=2*(t||0)/3+1,i=(n-1)*-.5,r=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.desaturate=function(t){this.saturate(-1)},i.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.colorTone=function(t,e,n,i,r){t=t||.2,e=e||.15,n=n||16770432,i=i||3375104;var o=(n>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=(i>>16&255)/255,l=(i>>8&255)/255,h=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,l,h,e,0,o-u,s-l,a-h,0,0];this._loadMatrix(c,r)},i.prototype.night=function(t,e){t=t||.1;var n=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":29}],95:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},{"../../core":29}],96:[function(t,e,n){function i(t,e,n){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/n}}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":29}],97:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],98:[function(t,e,n){function i(t,e){var n=new r.Matrix;t.renderable=!1,r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{
mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:n.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=n,(null===e||void 0===e)&&(e=20),this.scale=new r.Point(e,e)}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var r=this.getShader(t);i.applyFilter(r,e,n)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":29}],99:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],100:[function(t,e,n){function i(){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(r,s,a,i);var l=a;a=s,s=l}t.filterManager.applyFilter(r,s,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":29}],101:[function(t,e,n){function i(){r.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new r.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=r.BLEND_MODES.MULTIPLY}var r=t("../../core"),o=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,i,n),t.blendModeManager.setBlendMode(r.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,n),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return r.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=r.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":29,"../blur/BlurXFilter":91,"./BlurYTintFilter":100}],102:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":29}],103:[function(t,e,n){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":87,"./bloom/BloomFilter":88,"./blur/BlurDirFilter":89,"./blur/BlurFilter":90,"./blur/BlurXFilter":91,"./blur/BlurYFilter":92,"./blur/SmartBlurFilter":93,"./color/ColorMatrixFilter":94,"./color/ColorStepFilter":95,"./convolution/ConvolutionFilter":96,"./crosshatch/CrossHatchFilter":97,"./displacement/DisplacementFilter":98,"./dot/DotScreenFilter":99,"./dropshadow/DropShadowFilter":101,"./gray/GrayFilter":102,"./invert/InvertFilter":104,"./noise/NoiseFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],104:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":29}],105:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":29}],106:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],107:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":29}],108:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":29}],109:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":29}],110:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(i.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":29}],111:[function(t,e,n){function i(){r.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var r=t("../../core"),o=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,n),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(t,e,n){function i(){r.call(this)}var r=t("./TiltShiftAxisFilter");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/n,this.uniforms.delta.value.y=e/n}},{"./TiltShiftAxisFilter":110}],113:[function(t,e,n){function i(){r.call(this)}var r=t("./TiltShiftAxisFilter");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/n,this.uniforms.delta.value.y=t/n}},{"./TiltShiftAxisFilter":110}],114:[function(t,e,n){function i(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var r=t("../../core");i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],115:[function(t,e,n){(function(n){t("./polyfill");var i=e.exports=t("./core");i.extras=t("./extras"),i.filters=t("./filters"),i.interaction=t("./interaction"),i.loaders=t("./loaders"),i.mesh=t("./mesh"),i.accessibility=t("./accessibility"),i.loader=new i.loaders.Loader,Object.assign(i,t("./deprecation")),n.PIXI=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":21,"./core":29,"./deprecation":79,"./extras":86,"./filters":103,"./interaction":118,"./loaders":121,"./mesh":128,"./polyfill":133}],116:[function(t,e,n){function i(){this.global=new r.Point,this.target=null,this.originalEvent=null}var r=t("../core");i.prototype.constructor=i,e.exports=i,i.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)}},{"../core":29}],117:[function(t,e,n){function i(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new r.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var r=t("../core"),o=t("./InteractionData");Object.assign(r.DisplayObject.prototype,t("./interactiveTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(r.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(r.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},i.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.target=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},i.prototype.mapPositionToPoint=function(t,e,n){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},i.prototype.processInteractive=function(t,e,n,i,r){if(!e||!e.visible)return!1;var o=!1,s=r=e.interactive||r;if(e.hitArea&&(s=!1),e.interactiveChildren)for(var a=e.children,u=a.length-1;u>=0;u--){var l=a[u];if(this.processInteractive(t,l,n,i,s)){if(!l.parent)continue;o=!0,s=!1,i=!1}}return r&&(i&&!o&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),o=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(o=e.containsPoint(t))),e.interactive&&n(e,o)),o},i.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},i.prototype.processMouseDown=function(t,e){var n=this.mouse.originalEvent,i=2===n.button||3===n.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},i.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},i.prototype.processMouseUp=function(t,e){var n=this.mouse.originalEvent,i=2===n.button||3===n.which,r=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[r]&&(t[r]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[r]&&(t[r]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},i.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},i.prototype.processMouseMove=function(t,e){this.processMouseOverOut(t,e),(!this.moveWhenInside||e)&&this.dispatchEvent(t,"mousemove",this.eventData)},i.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},i.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},i.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,i=0;n>i;i++){var r=e[i],o=this.getTouchData(r);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},i.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},i.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,i=0;n>i;i++){var r=e[i],o=this.getTouchData(r);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},i.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},i.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,i=0;n>i;i++){var r=e[i],o=this.getTouchData(r);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.returnTouchData(o)}},i.prototype.processTouchMove=function(t,e){(!this.moveWhenInside||e)&&this.dispatchEvent(t,"touchmove",this.eventData)},i.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},i.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},i.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},r.WebGLRenderer.registerPlugin("interaction",i),r.CanvasRenderer.registerPlugin("interaction",i)},{"../core":29,"./InteractionData":116,"./interactiveTarget":119}],118:[function(t,e,n){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":116,"./InteractionManager":117,"./interactiveTarget":119}],119:[function(t,e,n){var i={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=i},{}],120:[function(t,e,n){function i(t,e){var n={},i=t.data.getElementsByTagName("info")[0],r=t.data.getElementsByTagName("common")[0];n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(r.getAttribute("lineHeight"),10),n.chars={};for(var a=t.data.getElementsByTagName("char"),u=0;u<a.length;u++){var l=parseInt(a[u].getAttribute("id"),10),h=new o.Rectangle(parseInt(a[u].getAttribute("x"),10)+e.frame.x,parseInt(a[u].getAttribute("y"),10)+e.frame.y,parseInt(a[u].getAttribute("width"),10),parseInt(a[u].getAttribute("height"),10));n.chars[l]={xOffset:parseInt(a[u].getAttribute("xoffset"),10),yOffset:parseInt(a[u].getAttribute("yoffset"),10),xAdvance:parseInt(a[u].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,h)}}var c=t.data.getElementsByTagName("kerning");for(u=0;u<c.length;u++){var f=parseInt(c[u].getAttribute("first"),10),p=parseInt(c[u].getAttribute("second"),10),d=parseInt(c[u].getAttribute("amount"),10);
n.chars[p]&&(n.chars[p].kerning[f]=d)}t.bitmapFont=n,s.BitmapText.fonts[n.font]=n}var r=t("resource-loader").Resource,o=t("../core"),s=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var n=a.dirname(t.url);"."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,"")),n&&"/"!==n.charAt(n.length-1)&&(n+="/");var s=n+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])i(t,o.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:r.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata};this.add(t.name+"_image",s,u,function(n){i(t,n.texture),e()})}}}},{"../core":29,"../extras":86,path:2,"resource-loader":16}],121:[function(t,e,n){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":120,"./loader":122,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],122:[function(t,e,n){function i(t,e){r.call(this,t,e);for(var n=0;n<i._pixiMiddleware.length;++n)this.use(i._pixiMiddleware[n]())}var r=t("resource-loader"),o=t("./textureParser"),s=t("./spritesheetParser"),a=t("./bitmapFontParser");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i._pixiMiddleware=[r.middleware.parsing.blob,o,s,a],i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)};var u=r.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":120,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],123:[function(t,e,n){var i=t("resource-loader").Resource,r=t("path"),o=t("../core"),s=t("async"),a=1e3;e.exports=function(){return function(t,e){var n=t.name+"_image";if(!t.data||!t.isJson||!t.data.frames||this.resources[n])return e();var u={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata},l=r.dirname(t.url.replace(this.baseUrl,""));this.add(n,l+"/"+t.data.meta.image,u,function(n){function i(e,i){for(var r=e;i>r-e&&r<h.length;){var s=l[h[r]],a=s.frame;if(a){var u=null,f=null;if(u=s.rotated?new o.Rectangle(a.x,a.y,a.h,a.w):new o.Rectangle(a.x,a.y,a.w,a.h),s.trimmed&&(f=new o.Rectangle(s.spriteSourceSize.x/c,s.spriteSourceSize.y/c,s.sourceSize.w/c,s.sourceSize.h/c)),s.rotated){var p=u.width;u.width=u.height,u.height=p}u.x/=c,u.y/=c,u.width/=c,u.height/=c,t.textures[h[r]]=new o.Texture(n.texture.baseTexture,u,u.clone(),f,s.rotated),o.utils.TextureCache[h[r]]=t.textures[h[r]]}r++}}function r(){return f*a<h.length}function u(t){i(f*a,a),f++,setTimeout(t,0)}t.textures={};var l=t.data.frames,h=Object.keys(l),c=o.utils.getResolutionOfUrl(t.url),f=0;h.length<=a?(i(0,a),e()):s.whilst(r,u,e)})}}},{"../core":29,async:1,path:2,"resource-loader":16}],124:[function(t,e,n){var i=t("../core");e.exports=function(){return function(t,e){if(t.data&&t.isImage){var n=new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url));n.imageUrl=t.url,t.texture=new i.Texture(n),i.utils.BaseTextureCache[t.url]=n,i.utils.TextureCache[t.url]=t.texture}e()}}},{"../core":29}],125:[function(t,e,n){function i(t,e,n,o,s){r.Container.call(this),this._texture=null,this.uvs=n||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=r.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||i.DRAW_MODES.TRIANGLE_MESH,this.texture=t,this.shader=null}var r=t("../core"),o=new r.Point,s=new r.Polygon;i.prototype=Object.create(r.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},i.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform,r=t.resolution;t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),this.drawMode===i.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},i.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,n=this.uvs,i=e.length/2,r=0;i-2>r;r++){var o=2*r;this._renderCanvasDrawTriangle(t,e,n,o,o+2,o+4)}},i.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,n=this.uvs,i=this.indices,r=i.length,o=0;r>o;o+=3){var s=2*i[o],a=2*i[o+1],u=2*i[o+2];this._renderCanvasDrawTriangle(t,e,n,s,a,u)}},i.prototype._renderCanvasDrawTriangle=function(t,e,n,i,r,o){var s=this._texture.baseTexture,a=s.source,u=s.width,l=s.height,h=e[i],c=e[r],f=e[o],p=e[i+1],d=e[r+1],m=e[o+1],g=n[i]*s.width,v=n[r]*s.width,_=n[o]*s.width,y=n[i+1]*s.height,b=n[r+1]*s.height,x=n[o+1]*s.height;if(this.canvasPadding>0){var w=this.canvasPadding/this.worldTransform.a,T=this.canvasPadding/this.worldTransform.d,E=(h+c+f)/3,C=(p+d+m)/3,S=h-E,L=p-C,P=Math.sqrt(S*S+L*L);h=E+S/P*(P+w),p=C+L/P*(P+T),S=c-E,L=d-C,P=Math.sqrt(S*S+L*L),c=E+S/P*(P+w),d=C+L/P*(P+T),S=f-E,L=m-C,P=Math.sqrt(S*S+L*L),f=E+S/P*(P+w),m=C+L/P*(P+T)}t.save(),t.beginPath(),t.moveTo(h,p),t.lineTo(c,d),t.lineTo(f,m),t.closePath(),t.clip();var M=g*b+y*_+v*x-b*_-y*v-g*x,A=h*b+y*f+c*x-b*f-y*c-h*x,k=g*c+h*_+v*f-c*_-h*v-g*f,D=g*b*f+y*c*_+h*v*x-h*b*_-y*v*f-g*c*x,O=p*b+y*m+d*x-b*m-y*d-p*x,R=g*d+p*_+v*m-d*_-p*v-g*m,N=g*b*m+y*d*_+p*v*x-p*b*_-y*v*m-g*d*x;t.transform(A/M,O/M,k/M,R/M,D/M,N/M),t.drawImage(a,0,0,u*s.resolution,l*s.resolution,0,0,u,l),t.restore()},i.prototype.renderMeshFlat=function(t){var e=this.context,n=t.vertices,i=n.length/2;e.beginPath();for(var r=1;i-2>r;r++){var o=2*r,s=n[o],a=n[o+2],u=n[o+4],l=n[o+1],h=n[o+3],c=n[o+5];e.moveTo(s,l),e.lineTo(a,h),e.lineTo(u,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype._onTextureUpdate=function(){this.updateFrame=!0},i.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,n=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,u=e.ty,l=-(1/0),h=-(1/0),c=1/0,f=1/0,p=this.vertices,d=0,m=p.length;m>d;d+=2){var g=p[d],v=p[d+1],_=n*g+o*v+a,y=s*v+i*g+u;c=c>_?_:c,f=f>y?y:f,l=_>l?_:l,h=y>h?y:h}if(c===-(1/0)||h===1/0)return r.Rectangle.EMPTY;var b=this._bounds;b.x=c,b.width=l-c,b.y=f,b.height=h-f,this._currentBounds=b}return this._currentBounds},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,n,r=this.vertices,a=s.points;if(this.drawMode===i.DRAW_MODES.TRIANGLES){var u=this.indices;for(n=this.indices.length,e=0;n>e;e+=3){var l=2*u[e],h=2*u[e+1],c=2*u[e+2];if(a[0]=r[l],a[1]=r[l+1],a[2]=r[h],a[3]=r[h+1],a[4]=r[c],a[5]=r[c+1],s.contains(o.x,o.y))return!0}}else for(n=r.length,e=0;n>e;e+=6)if(a[0]=r[e],a[1]=r[e+1],a[2]=r[e+2],a[3]=r[e+3],a[4]=r[e+4],a[5]=r[e+5],s.contains(o.x,o.y))return!0;return!1},i.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],126:[function(t,e,n){function i(t,e,n){r.call(this,t),this._ready=!0,this.segmentsX=e||10,this.segmentsY=n||10,this.drawMode=r.DRAW_MODES.TRIANGLES,this.refresh()}var r=t("./Mesh");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.segmentsX*this.segmentsY,e=[],n=[],i=[],r=[],o=this.texture,s=this.segmentsX-1,a=this.segmentsY-1,u=0,l=o.width/s,h=o.height/a;for(u=0;t>u;u++){var c=u%this.segmentsX,f=u/this.segmentsX|0;e.push(c*l,f*h),i.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(c/(this.segmentsX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(f/(this.segmentsY-1)))}var p=s*a;for(u=0;p>u;u++){var d=u%s,m=u/s|0,g=m*this.segmentsX+d,v=m*this.segmentsX+d+1,_=(m+1)*this.segmentsX+d,y=(m+1)*this.segmentsX+d+1;r.push(g,v,_),r.push(v,y,_)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(i),this.colors=new Float32Array(n),this.indices=new Uint16Array(r)},i.prototype._onTextureUpdate=function(){r.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":125}],127:[function(t,e,n){function i(t,e){r.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var r=t("./Mesh"),o=t("../core");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,n=this.indices,i=this.colors,r=this._texture._uvs,s=new o.Point(r.x0,r.y0),a=new o.Point(r.x2-r.x0,r.y2-r.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,i[0]=1,i[1]=1,n[0]=0,n[1]=1;for(var u,l,h,c=t.length,f=1;c>f;f++)u=t[f],l=4*f,h=f/(c-1),e[l]=h*a.x+s.x,e[l+1]=0+s.y,e[l+2]=h*a.x+s.x,e[l+3]=1*a.y+s.y,l=2*f,i[l]=1,i[l+1]=1,l=2*f,n[l]=l,n[l+1]=l+1;this.dirty=!0}},i.prototype._onTextureUpdate=function(){r.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,n,i,r,o,s,a=t[0],u=0,l=0,h=this.vertices,c=t.length,f=0;c>f;f++)n=t[f],i=4*f,e=f<t.length-1?t[f+1]:n,l=-(e.x-a.x),u=e.y-a.y,r=10*(1-f/(c-1)),r>1&&(r=1),o=Math.sqrt(u*u+l*l),s=this._texture.height/2,u/=o,l/=o,u*=s,l*=s,h[i]=n.x+u,h[i+1]=n.y+l,h[i+2]=n.x-u,h[i+3]=n.y-l,a=n;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":125}],128:[function(t,e,n){e.exports={Mesh:t("./Mesh"),Plane:t("./Plane"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":125,"./Plane":126,"./Rope":127,"./webgl/MeshRenderer":129,"./webgl/MeshShader":130}],129:[function(t,e,n){function i(t){r.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,n=0;15e3>e;e+=6,n+=4)this.indices[e+0]=n+0,this.indices[e+1]=n+1,this.indices[e+2]=n+2,this.indices[e+3]=n+0,this.indices[e+4]=n+2,this.indices[e+5]=n+3;this.currentShader=null}var r=t("../../core"),o=t("../Mesh");i.prototype=Object.create(r.ObjectRenderer.prototype),i.prototype.constructor=i,e.exports=i,r.WebGLRenderer.registerPlugin("mesh",i),i.prototype.onContextChange=function(){},i.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,n=e.gl,i=t._texture.baseTexture,r=t.shader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),r=r?r.shaders[n.id]||r.getShader(e):e.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(r),r.uniforms.translationMatrix.value=t.worldTransform.toArray(!0),r.uniforms.projectionMatrix.value=e.currentRenderTarget.projectionMatrix.toArray(!0),r.uniforms.alpha.value=t.worldAlpha,r.syncUniforms(),t.dirty?(t.dirty=!1,n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferData(n.ARRAY_BUFFER,t.vertices,n.STATIC_DRAW),n.vertexAttribPointer(r.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.bufferData(n.ARRAY_BUFFER,t.uvs,n.STATIC_DRAW),n.vertexAttribPointer(r.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),i._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,i._glTextures[n.id]):this.renderer.updateTexture(i),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.indices,n.STATIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,t.vertices),n.vertexAttribPointer(r.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.vertexAttribPointer(r.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),i._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,i._glTextures[n.id]):this.renderer.updateTexture(i),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,t.indices)),n.drawElements(s,t.indices.length,n.UNSIGNED_SHORT,0)},i.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},i.prototype.flush=function(){},i.prototype.start=function(){this.currentShader=null},i.prototype.destroy=function(){r.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":29,"../Mesh":125}],130:[function(t,e,n){function i(t){r.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var r=t("../../core");i.prototype=Object.create(r.Shader.prototype),i.prototype.constructor=i,e.exports=i,r.ShaderManager.registerPlugin("meshShader",i)},{"../../core":29}],131:[function(t,e,n){Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1})},{}],132:[function(t,e,n){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":11}],133:[function(t,e,n){t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign")},{"./Math.sign":131,"./Object.assign":132,"./requestAnimationFrame":134}],134:[function(t,e,n){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+n-e;return 0>i&&(i=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[115])(115)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=i(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function i(t){return function(n,i){return e(t(n),i)}}function r(t,e){return t>e?-1:e>t?1:e>=t?0:NaN}function o(t){return null===t?NaN:+t}function s(t,e){var n,i,r=t.length,s=0,a=0,u=-1,l=0;if(null==e)for(;++u<r;)isNaN(n=o(t[u]))||(i=n-s,s+=i/++l,a+=i*(n-s));else for(;++u<r;)isNaN(n=o(e(t[u],u,t)))||(i=n-s,s+=i/++l,a+=i*(n-s));return l>1?a/(l-1):void 0}function a(t,e){var n=s(t,e);return n?Math.sqrt(n):n}function u(t,e){var n,i,r,o=-1,s=t.length;if(null==e){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s;)if(null!=(i=e(t[o],o,t))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e(t[o],o,t))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]}function l(t){return function(){return t}}function h(t){return t}function c(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):3>r?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}function f(t,e,n){var i=p(t,e,n);return c(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)}function p(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Nd?r*=10:o>=Id?r*=5:o>=Bd&&(r*=2),t>e?-r:r}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function m(){function t(t){var r,o,s=t.length,a=new Array(s);for(r=0;s>r;++r)a[r]=e(t[r],r,t);var u=n(a),l=u[0],h=u[1],c=i(a,l,h);Array.isArray(c)||(c=f(l,h,c));for(var p=c.length;c[0]<=l;)c.shift(),--p;for(;c[p-1]>=h;)c.pop(),--p;var d,m=new Array(p+1);for(r=0;p>=r;++r)d=m[r]=[],d.x0=r>0?c[r-1]:l,d.x1=p>r?c[r]:h;for(r=0;s>r;++r)o=a[r],o>=l&&h>=o&&m[Ad(c,o,0,p)].push(t[r]);return m}var e=h,n=u,i=d;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:l(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:l([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:l(Array.isArray(e)?Od.call(e):e),t):i},t}function g(t,e,n){if(null==n&&(n=o),i=t.length){if((e=+e)<=0||2>i)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,s=Math.floor(r),a=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return a+(u-a)*(r-s)}}function v(t,n,i){return t=Rd.call(t,o).sort(e),Math.ceil((i-n)/(2*(g(t,.75)-g(t,.25))*Math.pow(t.length,-1/3)))}function _(t,e,n){return Math.ceil((n-e)/(3.5*a(t)*Math.pow(t.length,-1/3)))}function y(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&i>n&&(n=i)}return n}function b(t,e){var n,i=0,r=t.length,s=-1,a=r;if(null==e)for(;++s<r;)isNaN(n=o(t[s]))?--a:i+=n;else for(;++s<r;)isNaN(n=o(e(t[s],s,t)))?--a:i+=n;return a?i/a:void 0}function x(t,n){var i,r=[],s=t.length,a=-1;if(null==n)for(;++a<s;)isNaN(i=o(t[a]))||r.push(i);else for(;++a<s;)isNaN(i=o(n(t[a],a,t)))||r.push(i);return g(r.sort(e),.5)}function w(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n}function T(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&n>i&&(n=i)}return n}function E(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(0>n?0:n);n>e;)r[e]=[i,i=t[++e]];return r}function C(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i}function S(t,n){if(i=t.length){var i,r,o=0,s=0,a=t[s];for(n||(n=e);++o<i;)(n(r=t[o],a)<0||0!==n(a,a))&&(a=r,s=o);return 0===n(a,a)?s:void 0}}function L(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t}function P(t,e){var n,i=0,r=t.length,o=-1;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i}function M(t){if(!(r=t.length))return[];for(var e=-1,n=T(t,A),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i}function A(t){return t.length}function k(){return M(arguments)}function D(){}function O(t,e){var n=new D;if(t instanceof D)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function R(){function t(e,r,s,a){if(r>=o.length)return null!=i?i(e):null!=n?e.sort(n):e;for(var u,l,h,c=-1,f=e.length,p=o[r++],d=O(),m=s();++c<f;)(h=d.get(u=p(l=e[c])+""))?h.push(l):d.set(u,[l]);return d.each(function(e,n){a(m,n,t(e,r,s,a))}),m}function e(t,n){if(++n>o.length)return t;var r,a=s[n-1];return null!=i&&n>=o.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=a?r.sort(function(t,e){return a(t.key,e.key)}):r}var n,i,r,o=[],s=[];return r={object:function(e){return t(e,0,N,I)},map:function(e){return t(e,0,B,F)},entries:function(n){return e(t(n,0,B,F),0)},key:function(t){return o.push(t),r},sortKeys:function(t){return s[o.length-1]=t,r},sortValues:function(t){return n=t,r},rollup:function(t){return i=t,r}}}function N(){return{}}function I(t,e,n){t[e]=n}function B(){return O()}function F(t,e,n){t.set(e,n)}function U(){}function j(t,e){var n=new U;if(t instanceof U)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function z(t){var e=[];for(var n in t)e.push(n);return e}function H(t){var e=[];for(var n in t)e.push(t[n]);return e}function $(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}function W(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}}function q(t,e){var n,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var r;if(null!=n)r=n,n=null;else do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*r*Math.sqrt(-2*Math.log(i)/i)}}function G(){var t=q.apply(this,arguments);return function(){return Math.exp(t())}}function V(t){return function(){for(var e=0,n=0;t>n;++n)e+=Math.random();return e}}function Z(t){var e=V(t);return function(){return e()/t}}function X(t){return function(){return-Math.log(1-Math.random())/t}}function Y(t){return+t}function J(t){return t*t}function K(t){return t*(2-t)}function Q(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function tt(t){return t*t*t}function et(t){return--t*t*t+1}function nt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function it(t){return 1-Math.cos(t*qd)}function rt(t){return Math.sin(t*qd)}function ot(t){return(1-Math.cos(Wd*t))/2}function st(t){return Math.pow(2,10*t-10)}function at(t){return 1-Math.pow(2,-10*t)}function ut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function lt(t){return 1-Math.sqrt(1-t*t)}function ht(t){return Math.sqrt(1- --t*t)}function ct(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function ft(t){return 1-pt(1-t)}function pt(t){return(t=+t)<Gd?em*t*t:Zd>t?em*(t-=Vd)*t+Xd:Jd>t?em*(t-=Yd)*t+Kd:em*(t-=Qd)*t+tm}function dt(t){return((t*=2)<=1?1-pt(1-t):pt(t-1)+1)/2}function mt(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2}function gt(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],u=0;++i<r;)e=a,a=t[i],u+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return u*=3,[o/u,s/u]}function vt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function _t(t,e){return t[0]-e[0]||t[1]-e[1]}function yt(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;++r){for(;i>1&&vt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function bt(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;n>e;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(_t),e=0;n>e;++e)r[e]=[i[e][0],-i[e][1]];var o=yt(i),s=yt(r),a=s[0]===o[0],u=s[s.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[i[o[e]][2]]);for(e=+a;e<s.length-u;++e)l.push(t[i[s[e]][2]]);return l}function xt(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],u=o[0],l=o[1],h=!1,c=0;r>c;++c)o=t[c],n=o[0],i=o[1],i>a!=l>a&&(u-n)*(a-i)/(l-i)+n>s&&(h=!h),u=n,l=i;return h}function wt(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],u=0;++i<r;)e=s,n=a,o=t[i],s=o[0],a=o[1],e-=s,n-=a,u+=Math.sqrt(e*e+n*n);return u}function Tt(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function Et(){return new Tt}function Ct(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return St(this.cover(e,n),e,n,t)}function St(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,u,l,h,c,f,p=t._root,d={data:i},m=t._x0,g=t._y0,v=t._x1,_=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(m+v)/2))?m=o:v=o,(h=n>=(s=(g+_)/2))?g=s:_=s,r=p,!(p=p[c=h<<1|l]))return r[c]=d,t;if(a=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===a&&n===u)return d.next=p,r?r[c]=d:t._root=d,t;do r=r?r[c]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+v)/2))?m=o:v=o,(h=n>=(s=(g+_)/2))?g=s:_=s;while((c=h<<1|l)===(f=(u>=s)<<1|a>=o));return r[f]=p,r[c]=d,t}function Lt(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),u=1/0,l=1/0,h=-(1/0),c=-(1/0);for(n=0;o>n;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,u>i&&(u=i),i>h&&(h=i),l>r&&(l=r),r>c&&(c=r));for(u>h&&(u=this._x0,h=this._x1),l>c&&(l=this._y0,c=this._y1),this.cover(u,l).cover(h,c),n=0;o>n;++n)St(this,s[n],a[n],t[n]);return this}function Pt(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var s,a,u=r-n,l=this._root;switch(a=((i+o)/2>e)<<1|(n+r)/2>t){case 0:do s=new Array(4),s[a]=l,l=s;while(u*=2,r=n+u,o=i+u,t>r||e>o);break;case 1:do s=new Array(4),s[a]=l,l=s;while(u*=2,n=r-u,o=i+u,n>t||e>o);break;case 2:do s=new Array(4),s[a]=l,l=s;while(u*=2,r=n+u,i=o-u,t>r||i>e);break;case 3:do s=new Array(4),s[a]=l,l=s;while(u*=2,n=r-u,i=o-u,n>t||i>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this}function Mt(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function At(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function kt(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Dt(t,e,n){var i,r,o,s,a,u,l,h=this._x0,c=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new kt(m,h,c,f,p)),null==n?n=1/0:(h=t-n,c=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(r=u.x0)>f||(o=u.y0)>p||(s=u.x1)<h||(a=u.y1)<c))if(m.length){var g=(r+s)/2,v=(o+a)/2;d.push(new kt(m[3],g,v,s,a),new kt(m[2],r,v,g,a),new kt(m[1],g,o,s,v),new kt(m[0],r,o,g,v)),(l=(e>=v)<<1|t>=g)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var _=t-+this._x.call(null,m.data),y=e-+this._y.call(null,m.data),b=_*_+y*y;if(n>b){var x=Math.sqrt(n=b);h=t-x,c=e-x,f=t+x,p=e+x,i=m.data}}return i}function Ot(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,u,l,h,c,f,p=this._root,d=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(a=(d+g)/2))?d=a:g=a,(h=s>=(u=(m+v)/2))?m=u:v=u,e=p,!(p=p[c=h<<1|l]))return this;if(!p.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[c]=r:delete e[c],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)}function Rt(t){for(var e=0,n=t.length;n>e;++e)this.remove(t[e]);return this}function Nt(){return this._root}function It(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Bt(t){var e,n,i,r,o,s,a=[],u=this._root;for(u&&a.push(new kt(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&u.length){var l=(i+o)/2,h=(r+s)/2;(n=u[3])&&a.push(new kt(n,l,h,o,s)),(n=u[2])&&a.push(new kt(n,i,h,l,s)),(n=u[1])&&a.push(new kt(n,l,r,o,h)),(n=u[0])&&a.push(new kt(n,i,r,l,h))}return this}function Ft(t){var e,n=[],i=[];for(this._root&&n.push(new kt(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,u=e.x1,l=e.y1,h=(s+u)/2,c=(a+l)/2;(o=r[0])&&n.push(new kt(o,s,a,h,c)),(o=r[1])&&n.push(new kt(o,h,a,u,c)),(o=r[2])&&n.push(new kt(o,s,c,h,l)),(o=r[3])&&n.push(new kt(o,h,c,u,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Ut(t){return t[0]}function jt(t){return arguments.length?(this._x=t,this):this._x}function zt(t){return t[1]}function Ht(t){return arguments.length?(this._y=t,this):this._y}function $t(t,e,n){var i=new Wt(null==e?Ut:e,null==n?zt:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Wt(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function qt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function Gt(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Vt(t){if(!t._start)try{Zt(t)}catch(e){t._tasks[t._ended+t._active-1]&&Yt(t,e)}}function Zt(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=Xt(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||_m)}}function Xt(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?Yt(t,n):(t._data[e]=i,t._waiting?Vt(t):Jt(t))))}}function Yt(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,Jt(t)}function Jt(t){!t._active&&t._call&&t._call(t._error,t._data)}function Kt(t){return new Gt(arguments.length?+t:1/0)}function Qt(t){return function(){return t}}function te(t){return t.innerRadius}function ee(t){return t.outerRadius}function ne(t){return t.startAngle}function ie(t){return t.endAngle}function re(t){return t&&t.padAngle}function oe(t){return t>=1?xm:-1>=t?-xm:Math.asin(t)}function se(t,e,n,i,r,o,s,a){var u=n-t,l=i-e,h=s-r,c=a-o,f=(h*(e-o)-c*(t-r))/(c*u-h*l);return[t+f*u,e+f*l]}function ae(t,e,n,i,r,o,s){var a=t-n,u=e-i,l=(s?o:-o)/Math.sqrt(a*a+u*u),h=l*u,c=-l*a,f=t+h,p=e+c,d=n+h,m=i+c,g=(f+d)/2,v=(p+m)/2,_=d-f,y=m-p,b=_*_+y*y,x=r-o,w=f*m-d*p,T=(0>y?-1:1)*Math.sqrt(Math.max(0,x*x*b-w*w)),E=(w*y-_*T)/b,C=(-w*_-y*T)/b,S=(w*y+_*T)/b,L=(-w*_+y*T)/b,P=E-g,M=C-v,A=S-g,k=L-v;return P*P+M*M>A*A+k*k&&(E=S,C=L),{cx:E,cy:C,x01:-h,y01:-c,x11:E*(r/x-1),y11:C*(r/x-1)}}function ue(){function t(){var t,l,h=+e.apply(this,arguments),c=+n.apply(this,arguments),f=o.apply(this,arguments)-xm,p=s.apply(this,arguments)-xm,d=Math.abs(p-f),m=p>f;if(u||(u=t=Et()),h>c&&(l=c,c=h,h=l),c>ym)if(d>wm-ym)u.moveTo(c*Math.cos(f),c*Math.sin(f)),u.arc(0,0,c,f,p,!m),h>ym&&(u.moveTo(h*Math.cos(p),h*Math.sin(p)),u.arc(0,0,h,p,f,m));else{var g,v,_=f,y=p,b=f,x=p,w=d,T=d,E=a.apply(this,arguments)/2,C=E>ym&&(r?+r.apply(this,arguments):Math.sqrt(h*h+c*c)),S=Math.min(Math.abs(c-h)/2,+i.apply(this,arguments)),L=S,P=S;if(C>ym){var M=oe(C/h*Math.sin(E)),A=oe(C/c*Math.sin(E));(w-=2*M)>ym?(M*=m?1:-1,b+=M,x-=M):(w=0,b=x=(f+p)/2),(T-=2*A)>ym?(A*=m?1:-1,_+=A,y-=A):(T=0,_=y=(f+p)/2)}var k=c*Math.cos(_),D=c*Math.sin(_),O=h*Math.cos(x),R=h*Math.sin(x);if(S>ym){var N=c*Math.cos(y),I=c*Math.sin(y),B=h*Math.cos(b),F=h*Math.sin(b);if(bm>d){var U=w>ym?se(k,D,B,F,N,I,O,R):[O,R],j=k-U[0],z=D-U[1],H=N-U[0],$=I-U[1],W=1/Math.sin(Math.acos((j*H+z*$)/(Math.sqrt(j*j+z*z)*Math.sqrt(H*H+$*$)))/2),q=Math.sqrt(U[0]*U[0]+U[1]*U[1]);L=Math.min(S,(h-q)/(W-1)),P=Math.min(S,(c-q)/(W+1))}}T>ym?P>ym?(g=ae(B,F,k,D,c,P,m),v=ae(N,I,O,R,c,P,m),u.moveTo(g.cx+g.x01,g.cy+g.y01),S>P?u.arc(g.cx,g.cy,P,Math.atan2(g.y01,g.x01),Math.atan2(v.y01,v.x01),!m):(u.arc(g.cx,g.cy,P,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!m),u.arc(0,0,c,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),!m),u.arc(v.cx,v.cy,P,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!m))):(u.moveTo(k,D),
u.arc(0,0,c,_,y,!m)):u.moveTo(k,D),h>ym&&w>ym?L>ym?(g=ae(O,R,N,I,h,-L,m),v=ae(k,D,B,F,h,-L,m),u.lineTo(g.cx+g.x01,g.cy+g.y01),S>L?u.arc(g.cx,g.cy,L,Math.atan2(g.y01,g.x01),Math.atan2(v.y01,v.x01),!m):(u.arc(g.cx,g.cy,L,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!m),u.arc(0,0,h,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),m),u.arc(v.cx,v.cy,L,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!m))):u.arc(0,0,h,x,b,m):u.lineTo(O,R)}else u.moveTo(0,0);return u.closePath(),t?(u=null,t+""||null):void 0}var e=te,n=ee,i=Qt(0),r=null,o=ne,s=ie,a=re,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-bm/2;return[Math.cos(i)*t,Math.sin(i)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Qt(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Qt(+e),t):n},t.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:Qt(+e),t):i},t.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Qt(+e),t):r},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:Qt(+e),t):o},t.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:Qt(+e),t):s},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Qt(+e),t):a},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t}function le(t){this._context=t}function he(t){return new le(t)}function ce(t){return t[0]}function fe(t){return t[1]}function pe(){function t(t){var a,u,l,h=t.length,c=!1;for(null==r&&(s=o(l=Et())),a=0;h>=a;++a)!(h>a&&i(u=t[a],a,t))===c&&((c=!c)?s.lineStart():s.lineEnd()),c&&s.point(+e(u,a,t),+n(u,a,t));return l?(s=null,l+""||null):void 0}var e=ce,n=fe,i=Qt(!0),r=null,o=he,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Qt(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Qt(+e),t):n},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:Qt(!!e),t):i},t.curve=function(e){return arguments.length?(o=e,null!=r&&(s=o(r)),t):o},t.context=function(e){return arguments.length?(null==e?r=s=null:s=o(r=e),t):r},t}function de(){function t(t){var e,h,c,f,p,d=t.length,m=!1,g=new Array(d),v=new Array(d);for(null==a&&(l=u(p=Et())),e=0;d>=e;++e){if(!(d>e&&s(f=t[e],e,t))===m)if(m=!m)h=e,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),c=e-1;c>=h;--c)l.point(g[c],v[c]);l.lineEnd(),l.areaEnd()}m&&(g[e]=+n(f,e,t),v[e]=+r(f,e,t),l.point(i?+i(f,e,t):g[e],o?+o(f,e,t):v[e]))}return p?(l=null,p+""||null):void 0}function e(){return pe().defined(s).curve(u).context(a)}var n=ce,i=null,r=Qt(0),o=fe,s=Qt(!0),a=null,u=he,l=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Qt(+e),i=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:Qt(+e),t):n},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:Qt(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:Qt(+e),o=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:Qt(+e),t):r},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:Qt(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(r)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(i).y(r)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:Qt(!!e),t):s},t.curve=function(e){return arguments.length?(u=e,null!=a&&(l=u(a)),t):u},t.context=function(e){return arguments.length?(null==e?a=l=null:l=u(a=e),t):a},t}function me(t,e){return t>e?-1:e>t?1:e>=t?0:NaN}function ge(t){return t}function ve(){function t(t){var a,u,l,h,c,f=t.length,p=0,d=new Array(f),m=new Array(f),g=+r.apply(this,arguments),v=Math.min(wm,Math.max(-wm,o.apply(this,arguments)-g)),_=Math.min(Math.abs(v)/f,s.apply(this,arguments)),y=_*(0>v?-1:1);for(a=0;f>a;++a)(c=m[d[a]=a]=+e(t[a],a,t))>0&&(p+=c);for(null!=n?d.sort(function(t,e){return n(m[t],m[e])}):null!=i&&d.sort(function(e,n){return i(t[e],t[n])}),a=0,l=p?(v-f*y)/p:0;f>a;++a,g=h)u=d[a],c=m[u],h=g+(c>0?c*l:0)+y,m[u]={data:t[u],index:a,value:c,startAngle:g,endAngle:h,padAngle:_};return m}var e=ge,n=me,i=null,r=Qt(0),o=Qt(wm),s=Qt(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Qt(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,i=null,t):n},t.sort=function(e){return arguments.length?(i=e,n=null,t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Qt(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Qt(+e),t):o},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Qt(+e),t):s},t}function _e(t){this._curve=t}function ye(t){function e(e){return new _e(t(e))}return e._curve=t,e}function be(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(ye(t)):e()._curve},t}function xe(){return be(pe().curve(Tm))}function we(){var t=de().curve(Tm),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return be(n())},delete t.lineX0,t.lineEndAngle=function(){return be(i())},delete t.lineX1,t.lineInnerRadius=function(){return be(r())},delete t.lineY0,t.lineOuterRadius=function(){return be(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(ye(t)):e()._curve},t}function Te(){function t(){var t;return i||(i=t=Et()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t?(i=null,t+""||null):void 0}var e=Qt(Em),n=Qt(64),i=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:Qt(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:Qt(+e),t):n},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t}function Ee(){}function Ce(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Se(t){this._context=t}function Le(t){return new Se(t)}function Pe(t){this._context=t}function Me(t){return new Pe(t)}function Ae(t){this._context=t}function ke(t){return new Ae(t)}function De(t,e){this._basis=new Se(t),this._beta=e}function Oe(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Re(t,e){this._context=t,this._k=(1-e)/6}function Ne(t,e){this._context=t,this._k=(1-e)/6}function Ie(t,e){this._context=t,this._k=(1-e)/6}function Be(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>ym){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>ym){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function Fe(t,e){this._context=t,this._alpha=e}function Ue(t,e){this._context=t,this._alpha=e}function je(t,e){this._context=t,this._alpha=e}function ze(t){this._context=t}function He(t){return new ze(t)}function $e(t){return 0>t?-1:1}function We(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||0>r&&-0),s=(n-t._y1)/(r||0>i&&-0),a=(o*r+s*i)/(i+r);return($e(o)+$e(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function qe(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ge(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function Ve(t){this._context=t}function Ze(t){this._context=new Xe(t)}function Xe(t){this._context=t}function Ye(t){return new Ve(t)}function Je(t){return new Ze(t)}function Ke(t){this._context=t}function Qe(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;i-1>e;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;i>e;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;i-1>e;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function tn(t){return new Ke(t)}function en(t,e){this._context=t,this._t=e}function nn(t){return new en(t,.5)}function rn(t){return new en(t,0)}function on(t){return new en(t,1)}function sn(t,e){if((i=t.length)>1)for(var n,i,r=1,o=t[e[0]],s=o.length;i>r;++r){n=o,o=t[e[r]];for(var a=0;s>a;++a)o[a][1]+=o[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}}function an(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function un(t,e){return t[e]}function ln(){function t(t){var o,s,a=e.apply(this,arguments),u=t.length,l=a.length,h=new Array(l);for(o=0;l>o;++o){for(var c,f=a[o],p=h[o]=new Array(u),d=0;u>d;++d)p[d]=c=[0,+r(t[d],f,d,t)],c.data=t[d];p.key=f}for(o=0,s=n(h);l>o;++o)h[s[o]].index=o;return i(h,s),h}var e=Qt([]),n=an,i=sn,r=un;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:Qt(Ym.call(n)),t):e},t.value=function(e){return arguments.length?(r="function"==typeof e?e:Qt(+e),t):r},t.order=function(e){return arguments.length?(n=null==e?an:"function"==typeof e?e:Qt(Ym.call(e)),t):n},t.offset=function(e){return arguments.length?(i=null==e?sn:e,t):i},t}function hn(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;s>o;++o){for(r=n=0;i>n;++n)r+=t[n][o][1]||0;if(r)for(n=0;i>n;++n)t[n][o][1]/=r}sn(t,e)}}function cn(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;o>i;++i){for(var s=0,a=0;n>s;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}sn(t,e)}}function fn(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;i>s;++s){for(var a=0,u=0,l=0;r>a;++a){for(var h=t[e[a]],c=h[s][1]||0,f=h[s-1][1]||0,p=(c-f)/2,d=0;a>d;++d){var m=t[e[d]],g=m[s][1]||0,v=m[s-1][1]||0;p+=g-v}u+=c,l+=p*c}n[s-1][1]+=n[s-1][0]=o,u&&(o-=l/u)}n[s-1][1]+=n[s-1][0]=o,sn(t,e)}}function pn(t){var e=t.map(dn);return an(t).sort(function(t,n){return e[t]-e[n]})}function dn(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function mn(t){return pn(t).reverse()}function gn(t){var e,n,i=t.length,r=t.map(dn),o=an(t).sort(function(t,e){return r[e]-r[t]}),s=0,a=0,u=[],l=[];for(e=0;i>e;++e)n=o[e],a>s?(s+=r[n],u.push(n)):(a+=r[n],l.push(n));return l.reverse().concat(u)}function vn(t){return an(t).reverse()}function _n(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function bn(){}function xn(t){var e;return t=(t+"").trim().toLowerCase(),(e=Qm.exec(t))?(e=parseInt(e[1],16),new Sn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=tg.exec(t))?wn(parseInt(e[1],16)):(e=eg.exec(t))?new Sn(e[1],e[2],e[3],1):(e=ng.exec(t))?new Sn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ig.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=rg.exec(t))?Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=og.exec(t))?Ln(e[1],e[2]/100,e[3]/100,1):(e=sg.exec(t))?Ln(e[1],e[2]/100,e[3]/100,e[4]):ag.hasOwnProperty(t)?wn(ag[t]):"transparent"===t?new Sn(NaN,NaN,NaN,0):null}function wn(t){return new Sn(t>>16&255,t>>8&255,255&t,1)}function Tn(t,e,n,i){return 0>=i&&(t=e=n=NaN),new Sn(t,e,n,i)}function En(t){return t instanceof bn||(t=xn(t)),t?(t=t.rgb(),new Sn(t.r,t.g,t.b,t.opacity)):new Sn}function Cn(t,e,n,i){return 1===arguments.length?En(t):new Sn(t,e,n,null==i?1:i)}function Sn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ln(t,e,n,i){return 0>=i?t=e=n=NaN:0>=n||n>=1?t=e=NaN:0>=e&&(t=NaN),new An(t,e,n,i)}function Pn(t){if(t instanceof An)return new An(t.h,t.s,t.l,t.opacity);if(t instanceof bn||(t=xn(t)),!t)return new An;if(t instanceof An)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(i>n):n===o?(i-e)/a+2:(e-n)/a+4,a/=.5>u?o+r:2-o-r,s*=60):a=u>0&&1>u?0:s,new An(s,a,u,t.opacity)}function Mn(t,e,n,i){return 1===arguments.length?Pn(t):new An(t,e,n,null==i?1:i)}function An(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function kn(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function Dn(t){if(t instanceof Rn)return new Rn(t.l,t.a,t.b,t.opacity);if(t instanceof zn){var e=t.h*ug;return new Rn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Sn||(t=En(t));var n=Fn(t.r),i=Fn(t.g),r=Fn(t.b),o=Nn((.4124564*n+.3575761*i+.1804375*r)/cg),s=Nn((.2126729*n+.7151522*i+.072175*r)/fg),a=Nn((.0193339*n+.119192*i+.9503041*r)/pg);return new Rn(116*s-16,500*(o-s),200*(s-a),t.opacity)}function On(t,e,n,i){return 1===arguments.length?Dn(t):new Rn(t,e,n,null==i?1:i)}function Rn(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Nn(t){return t>vg?Math.pow(t,1/3):t/gg+dg}function In(t){return t>mg?t*t*t:gg*(t-dg)}function Bn(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Un(t){if(t instanceof zn)return new zn(t.h,t.c,t.l,t.opacity);t instanceof Rn||(t=Dn(t));var e=Math.atan2(t.b,t.a)*lg;return new zn(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function jn(t,e,n,i){return 1===arguments.length?Un(t):new zn(t,e,n,null==i?1:i)}function zn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Hn(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);t instanceof Sn||(t=En(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Cg*i+Tg*e-Eg*n)/(Cg+Tg-Eg),o=i-r,s=(wg*(n-r)-bg*o)/xg,a=Math.sqrt(s*s+o*o)/(wg*r*(1-r)),u=a?Math.atan2(s,o)*lg-120:NaN;return new Wn(0>u?u+360:u,a,r,t.opacity)}function $n(t,e,n,i){return 1===arguments.length?Hn(t):new Wn(t,e,n,null==i?1:i)}function Wn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function qn(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function Gn(t){var e=t.length-1;return function(n){var i=0>=n?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=e-1>i?t[i+2]:2*o-r;return qn((n-i/e)*e,s,r,o,a)}}function Vn(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return qn((n-i/e)*e,r,o,s,a)}}function Zn(t){return function(){return t}}function Xn(t,e){return function(n){return t+n*e}}function Yn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jn(t,e){var n=e-t;return n?Xn(t,n>180||-180>n?n-360*Math.round(n/360):n):Zn(isNaN(t)?e:t)}function Kn(t){return 1===(t=+t)?Qn:function(e,n){return n-e?Yn(e,n,t):Zn(isNaN(e)?n:e)}}function Qn(t,e){var n=e-t;return n?Xn(t,n):Zn(isNaN(t)?e:t)}function ti(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;r>n;++n)i=Cn(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}function ei(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),s=new Array(i);for(n=0;r>n;++n)o[n]=ui(t[n],e[n]);for(;i>n;++n)s[n]=e[n];return function(t){for(n=0;r>n;++n)s[n]=o[n](t);return s}}function ni(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}}function ii(t,e){return t=+t,e-=t,function(n){return t+e*n}}function ri(t,e){var n,i={},r={};(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={});for(n in e)n in t?i[n]=ui(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function oi(t){return function(){return t}}function si(t){return function(e){return t(e)+""}}function ai(t,e){var n,i,r,o=Og.lastIndex=Rg.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=Og.exec(t))&&(i=Rg.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:ii(n,i)})),o=Rg.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?si(u[0].x):oi(e):(e=u.length,function(t){for(var n,i=0;e>i;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})}function ui(t,e){var n,i=typeof e;return null==e||"boolean"===i?Zn(e):("number"===i?ii:"string"===i?(n=xn(e))?(e=n,Ag):ai:e instanceof xn?Ag:e instanceof Date?ni:Array.isArray(e)?ei:isNaN(e)?ri:ii)(t,e)}function li(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}function hi(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),e*n>t*i&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Ng,skewX:Math.atan(u)*Ng,scaleX:s,scaleY:a}}function ci(t){return"none"===t?Ig:(Sg||(Sg=document.createElement("DIV"),Lg=document.documentElement,Pg=document.defaultView),Sg.style.transform=t,t=Pg.getComputedStyle(Lg.appendChild(Sg),null).getPropertyValue("transform"),Lg.removeChild(Sg),t=t.slice(7,-1).split(","),hi(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function fi(t){return null==t?Ig:(Mg||(Mg=document.createElementNS("http://www.w3.org/2000/svg","g")),Mg.setAttribute("transform",t),(t=Mg.transform.baseVal.consolidate())?(t=t.matrix,hi(t.a,t.b,t.c,t.d,t.e,t.f)):Ig)}function pi(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:ii(t,r)},{i:u-2,x:ii(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:ii(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ii(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:ii(t,n)},{i:a-2,x:ii(e,i)})}else(1!==n||1!==i)&&o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function di(t){return((t=Math.exp(t))+1/t)/2}function mi(t){return((t=Math.exp(t))-1/t)/2}function gi(t){return((t=Math.exp(2*t))-1)/(t+1)}function vi(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],u=e[1],l=e[2],h=a-r,c=u-o,f=h*h+c*c;if(Hg>f)i=Math.log(l/s)/Ug,n=function(t){return[r+t*h,o+t*c,s*Math.exp(Ug*t*i)]};else{var p=Math.sqrt(f),d=(l*l-s*s+zg*f)/(2*s*jg*p),m=(l*l-s*s-zg*f)/(2*l*jg*p),g=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);i=(v-g)/Ug,n=function(t){var e=t*i,n=di(g),a=s/(jg*p)*(n*gi(Ug*e+g)-mi(g));return[r+a*h,o+a*c,s*n/di(Ug*e+g)]}}return n.duration=1e3*i,n}function _i(t){return function(e,n){var i=t((e=Mn(e)).h,(n=Mn(n)).h),r=Qn(e.s,n.s),o=Qn(e.l,n.l),s=Qn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function yi(t,e){var n=Qn((t=On(t)).l,(e=On(e)).l),i=Qn(t.a,e.a),r=Qn(t.b,e.b),o=Qn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function bi(t){return function(e,n){var i=t((e=jn(e)).h,(n=jn(n)).h),r=Qn(e.c,n.c),o=Qn(e.l,n.l),s=Qn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function xi(t){return function e(n){function i(e,i){var r=t((e=$n(e)).h,(i=$n(i)).h),o=Qn(e.s,i.s),s=Qn(e.l,i.l),a=Qn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function wi(t,e){for(var n=new Array(e),i=0;e>i;++i)n[i]=t(i/(e-1));return n}function Ti(){for(var t,e=0,n=arguments.length,i={};n>e;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Ei(i)}function Ei(t){this._=t}function Ci(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Si(t,e){for(var n,i=0,r=t.length;r>i;++i)if((n=t[i]).name===e)return n.value}function Li(t,e,n){for(var i=0,r=t.length;r>i;++i)if(t[i].name===e){t[i]=Xg,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function Pi(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Mi(t,e){var n=Pi(t);return function(i,r){return e(n(i),r,t)}}function Ai(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function ki(t){function e(t,e){var i,r,o=n(t,function(t,n){return i?i(t,n-1):(r=t,void(i=e?Mi(t,e):Pi(t)))});return o.columns=r,o}function n(t,e){function n(){if(h>=l)return s;if(r)return r=!1,o;var e,n=h;if(34===t.charCodeAt(n)){for(var i=n;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return h=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++h):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;l>h;){var a=1;if(e=t.charCodeAt(h++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(h)&&(++h,++a);else if(e!==u)continue;return t.slice(n,h-a)}return t.slice(n)}for(var i,r,o={},s={},a=[],l=t.length,h=0,c=0;(i=n())!==s;){for(var f=[];i!==o&&i!==s;)f.push(i),i=n();e&&null==(f=e(f,c++))||a.push(f)}return a}function i(e,n){return null==n&&(n=Ai(e)),[n.map(s).join(t)].concat(e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})).join("\n")}function r(t){return t.map(o).join("\n")}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:i,formatRows:r}}function Di(t,e){function n(t){var e,n=l.status;if(!n&&Ri(l)||n>=200&&300>n||304===n){if(o)try{e=o.call(i,l)}catch(r){return void a.call("error",i,r)}else e=l;a.call("load",i,e)}else a.call("error",i,t)}var i,r,o,s,a=Ti("beforesend","progress","load","error"),u=O(),l=new XMLHttpRequest,h=null,c=null,f=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=n:l.onreadystatechange=function(t){l.readyState>3&&n(t)},l.onprogress=function(t){a.call("progress",i,t)},i={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),i)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",i):r},responseType:function(t){return arguments.length?(s=t,i):s},timeout:function(t){return arguments.length?(f=+t,i):f},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",i)},password:function(t){return arguments.length<1?c:(c=null==t?null:t+"",i)},response:function(t){return o=t,i},get:function(t,e){return i.send("GET",t,e)},post:function(t,e){return i.send("POST",t,e)},send:function(e,n,o){return l.open(e,t,!0,h,c),null==r||u.has("accept")||u.set("accept",r+",*/*"),l.setRequestHeader&&u.each(function(t,e){l.setRequestHeader(e,t)}),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=s&&(l.responseType=s),f>0&&(l.timeout=f),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=Oi(o)),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",i,l),l.send(null==n?null:n),i},abort:function(){return l.abort(),i},on:function(){var t=a.on.apply(a,arguments);return t===a?i:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return i.get(e)}return i}function Oi(t){return function(e,n){t(null==e?n:null)}}function Ri(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ni(t,e){return function(n,i){var r=Di(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}}function Ii(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=Di(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(Bi(e,i=t)):i},o.row(i),r?o.get(r):o}}function Bi(t,e){return function(n){return t(n.responseText,e)}}function Fi(){return yv||(wv(Ui),yv=xv.now()+bv)}function Ui(){yv=0}function ji(){this._call=this._time=this._next=null}function zi(t,e,n){var i=new ji;return i.restart(t,e,n),i}function Hi(){Fi(),++dv;for(var t,e=Yg;e;)(t=yv-e._time)>=0&&e._call.call(null,t),e=e._next;--dv}function $i(t){yv=(_v=t||xv.now())+bv,dv=mv=0;try{Hi()}finally{dv=0,qi(),yv=0}}function Wi(){var t=xv.now(),e=t-_v;e>vv&&(bv-=e,_v=t)}function qi(){for(var t,e,n=Yg,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Yg=e);Jg=t,Gi(i)}function Gi(t){if(!dv){mv&&(mv=clearTimeout(mv));var e=t-yv;e>24?(1/0>t&&(mv=setTimeout($i,e)),gv&&(gv=clearInterval(gv))):(gv||(gv=setInterval(Wi,vv)),dv=1,wv($i))}}function Vi(t,e,n){var i=new ji;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}function Zi(t,e,n){var i=new ji,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Fi():+n,i.restart(function o(s){s+=r,i.restart(o,r+=e,n),t(s)},e,n),i)}function Xi(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return n-t>t-e?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(i>n&&o>0))return s;do s.push(new Date(+n));while(e(n,o),t(n),i>n);return s},r.filter=function(n){return Xi(function(e){for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return Tv.setTime(+e),Ev.setTime(+i),t(Tv),t(Ev),Math.floor(n(Tv,Ev))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}function Yi(t){return Xi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pv)/kv})}function Ji(t){return Xi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/kv})}function Ki(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Qi(t){return t=Ki(Math.abs(t)),t?t[1]:NaN}function tr(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],u=0;r>0&&a>0&&(u+a+1>i&&(a=Math.max(1,i-u)),o.push(n.substring(r-=a,r+a)),!((u+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function er(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;i>r;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function nr(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(L_=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ki(t,Math.max(0,e+o-1))[0]}function ir(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],r=n[1];return 0>r?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}function rr(t){return new or(t)}function or(t){if(!(e=A_.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",s=!!e[5],a=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(u=!0,h="g"):M_[h]||(h=""),(s||"0"===n&&"="===i)&&(s=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=s,this.width=a,this.comma=u,this.precision=l,this.type=h}function sr(t){return t}function ar(t){function e(t){function e(t){var e,r,u,_=d,y=m;if("c"===p)y=g(t)+y,t="";else{t=+t;var b=(0>t||0>1/t)&&(t*=-1,!0);if(t=g(t,f),b)for(e=-1,r=t.length,b=!1;++e<r;)if(u=t.charCodeAt(e),u>48&&58>u||"x"===p&&u>96&&103>u||"X"===p&&u>64&&71>u){b=!0;break}if(_=(b?"("===a?a:"-":"-"===a||"("===a?"":a)+_,y=y+("s"===p?D_[8+L_/3]:"")+(b&&"("===a?")":""),v)for(e=-1,r=t.length;++e<r;)if(u=t.charCodeAt(e),48>u||u>57){y=(46===u?o+t.slice(e+1):t.slice(e))+y,t=t.slice(0,e);break}}c&&!l&&(t=i(t,1/0));var x=_.length+t.length+y.length,w=h>x?new Array(h-x+1).join(n):"";switch(c&&l&&(t=i(w+t,w.length?h-y.length:1/0),w=""),s){case"<":return _+t+y+w;case"=":return _+w+t+y;case"^":return w.slice(0,x=w.length>>1)+_+t+y+w.slice(x)}return w+_+t+y}t=rr(t);var n=t.fill,s=t.align,a=t.sign,u=t.symbol,l=t.zero,h=t.width,c=t.comma,f=t.precision,p=t.type,d="$"===u?r[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",m="$"===u?r[1]:/[%p]/.test(p)?"%":"",g=M_[p],v=!p||/[defgprs%]/.test(p);return f=null==f?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=rr(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Qi(n)/3))),o=Math.pow(10,-r),s=D_[8+r/3];return function(t){return i(o*t)+s}}var i=t.grouping&&t.thousands?tr(t.grouping,t.thousands):sr,r=t.currency,o=t.decimal;return{format:e,formatPrefix:n}}function ur(e){return k_=ar(e),t.format=k_.format,t.formatPrefix=k_.formatPrefix,k_}function lr(t){return Math.max(0,-Qi(Math.abs(t)))}function hr(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qi(e)/3)))-Qi(Math.abs(t)))}function cr(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qi(e)-Qi(t))+1}function fr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dr(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function mr(t){function e(t,e){return function(n){var i,r,o,s=[],a=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(r=R_[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function n(t,e){return function(n){var r=dr(1900),o=i(r,t,n+="",0);if(o!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var s="Z"in r?pr(dr(r.y)).getUTCDay():e(dr(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(s+5)%7:r.w+7*r.U-(s+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,pr(r)):e(r)}}function i(t,e,n,i){for(var r,o,s=0,a=e.length,u=n.length;a>s;){if(i>=u)return-1;if(r=e.charCodeAt(s++),37===r){if(r=e.charAt(s++),o=H[r in R_?e.charAt(s++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=A.exec(e.slice(n));return i?(t.p=k[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=R.exec(e.slice(n));return i?(t.w=N[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=D.exec(e.slice(n));return i?(t.w=O[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=F.exec(e.slice(n));return i?(t.m=U[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=I.exec(e.slice(n));return i?(t.m=B[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){return i(t,w,e,n)}function h(t,e,n){return i(t,T,e,n)}function c(t,e,n){return i(t,E,e,n)}function f(t){return L[t.getDay()]}function p(t){return S[t.getDay()]}function d(t){return M[t.getMonth()]}function m(t){return P[t.getMonth()]}function g(t){return C[+(t.getHours()>=12)]}function v(t){return L[t.getUTCDay()]}function _(t){return S[t.getUTCDay()]}function y(t){return M[t.getUTCMonth()]}function b(t){return P[t.getUTCMonth()]}function x(t){return C[+(t.getUTCHours()>=12)]}var w=t.dateTime,T=t.date,E=t.time,C=t.periods,S=t.days,L=t.shortDays,P=t.months,M=t.shortMonths,A=_r(C),k=yr(C),D=_r(S),O=yr(S),R=_r(L),N=yr(L),I=_r(P),B=yr(P),F=_r(M),U=yr(M),j={
a:f,A:p,b:d,B:m,c:null,d:Rr,e:Rr,H:Nr,I:Ir,j:Br,L:Fr,m:Ur,M:jr,p:g,S:zr,U:Hr,w:$r,W:Wr,x:null,X:null,y:qr,Y:Gr,Z:Vr,"%":uo},z={a:v,A:_,b:y,B:b,c:null,d:Zr,e:Zr,H:Xr,I:Yr,j:Jr,L:Kr,m:Qr,M:to,p:x,S:eo,U:no,w:io,W:ro,x:null,X:null,y:oo,Y:so,Z:ao,"%":uo},H={a:o,A:s,b:a,B:u,c:l,d:Lr,e:Lr,H:Mr,I:Mr,j:Pr,L:Dr,m:Sr,M:Ar,p:r,S:kr,U:xr,w:br,W:wr,x:h,X:c,y:Er,Y:Tr,Z:Cr,"%":Or};return j.x=e(T,j),j.X=e(E,j),j.c=e(w,j),z.x=e(T,z),z.X=e(E,z),z.c=e(w,z),{format:function(t){var n=e(t+="",j);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",fr);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",z);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,pr);return e.toString=function(){return t},e}}}function gr(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function vr(t){return t.replace(B_,"\\$&")}function _r(t){return new RegExp("^(?:"+t.map(vr).join("|")+")","i")}function yr(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function br(t,e,n){var i=N_.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function xr(t,e,n){var i=N_.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function wr(t,e,n){var i=N_.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Tr(t,e,n){var i=N_.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Er(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Cr(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Sr(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Lr(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Pr(t,e,n){var i=N_.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Mr(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Ar(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function kr(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Dr(t,e,n){var i=N_.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Or(t,e,n){var i=I_.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Rr(t,e){return gr(t.getDate(),e,2)}function Nr(t,e){return gr(t.getHours(),e,2)}function Ir(t,e){return gr(t.getHours()%12||12,e,2)}function Br(t,e){return gr(1+Fv.count(n_(t),t),e,3)}function Fr(t,e){return gr(t.getMilliseconds(),e,3)}function Ur(t,e){return gr(t.getMonth()+1,e,2)}function jr(t,e){return gr(t.getMinutes(),e,2)}function zr(t,e){return gr(t.getSeconds(),e,2)}function Hr(t,e){return gr(jv.count(n_(t),t),e,2)}function $r(t){return t.getDay()}function Wr(t,e){return gr(zv.count(n_(t),t),e,2)}function qr(t,e){return gr(t.getFullYear()%100,e,2)}function Gr(t,e){return gr(t.getFullYear()%1e4,e,4)}function Vr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gr(e/60|0,"0",2)+gr(e%60,"0",2)}function Zr(t,e){return gr(t.getUTCDate(),e,2)}function Xr(t,e){return gr(t.getUTCHours(),e,2)}function Yr(t,e){return gr(t.getUTCHours()%12||12,e,2)}function Jr(t,e){return gr(1+u_.count(S_(t),t),e,3)}function Kr(t,e){return gr(t.getUTCMilliseconds(),e,3)}function Qr(t,e){return gr(t.getUTCMonth()+1,e,2)}function to(t,e){return gr(t.getUTCMinutes(),e,2)}function eo(t,e){return gr(t.getUTCSeconds(),e,2)}function no(t,e){return gr(h_.count(S_(t),t),e,2)}function io(t){return t.getUTCDay()}function ro(t,e){return gr(c_.count(S_(t),t),e,2)}function oo(t,e){return gr(t.getUTCFullYear()%100,e,2)}function so(t,e){return gr(t.getUTCFullYear()%1e4,e,4)}function ao(){return"+0000"}function uo(){return"%"}function lo(e){return O_=mr(e),t.timeFormat=O_.format,t.timeParse=O_.parse,t.utcFormat=O_.utcFormat,t.utcParse=O_.utcParse,O_}function ho(t){return t.toISOString()}function co(t){var e=new Date(t);return isNaN(e)?null:e}function fo(t){function e(e){var o=e+"",s=n.get(o);if(!s){if(r!==W_)return r;n.set(o,s=i.push(e))}return t[(s-1)%t.length]}var n=O(),i=[],r=W_;return t=null==t?[]:$_.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],n=O();for(var r,o,s=-1,a=t.length;++s<a;)n.has(o=(r=t[s])+"")||n.set(o,i.push(r));return e},e.range=function(n){return arguments.length?(t=$_.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return fo().domain(i).range(t).unknown(r)},e}function po(){function t(){var t=r().length,i=s[1]<s[0],f=s[i-0],p=s[1-i];e=(p-f)/Math.max(1,t-u+2*l),a&&(e=Math.floor(e)),f+=(p-f-e*(t-u))*h,n=e*(1-u),a&&(f=Math.round(f),n=Math.round(n));var d=c(t).map(function(t){return f+e*t});return o(i?d.reverse():d)}var e,n,i=fo().unknown(void 0),r=i.domain,o=i.range,s=[0,1],a=!1,u=0,l=0,h=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],a=!0,t()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(e){return arguments.length?(a=!!e,t()):a},i.padding=function(e){return arguments.length?(u=l=Math.max(0,Math.min(1,e)),t()):u},i.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},i.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},i.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.copy=function(){return po().domain(r()).range(s).round(a).paddingInner(u).paddingOuter(l).align(h)},t()}function mo(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mo(e())},t}function go(){return mo(po().paddingInner(1))}function vo(t){return function(){return t}}function _o(t){return+t}function yo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vo(e)}function bo(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return e>=t?0:t>=n?1:i(t)}}}function xo(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return 0>=t?e:t>=1?n:i(t)}}}function wo(t,e,n,i){var r=t[0],o=t[1],s=e[0],a=e[1];return r>o?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a)),function(t){return s(r(t))}}function To(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=n(t[a],t[a+1]),s[a]=i(e[a],e[a+1]);return function(e){var n=Ad(t,e,1,r)-1;return s[n](o[n](e))}}function Eo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Co(t,e){function n(){return r=Math.min(a.length,u.length)>2?To:wo,o=s=null,i}function i(e){return(o||(o=r(a,u,h?bo(t):t,l)))(+e)}var r,o,s,a=q_,u=q_,l=ui,h=!1;return i.invert=function(t){return(s||(s=r(u,a,yo,h?xo(e):e)))(+t)},i.domain=function(t){return arguments.length?(a=H_.call(t,_o),n()):a.slice()},i.range=function(t){return arguments.length?(u=$_.call(t),n()):u.slice()},i.rangeRound=function(t){return u=$_.call(t),l=li,n()},i.clamp=function(t){return arguments.length?(h=!!t,n()):h},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function So(e,n,i){var r,o=e[0],s=e[e.length-1],a=p(o,s,null==n?10:n);switch(i=rr(null==i?",f":i),i.type){case"s":var u=Math.max(Math.abs(o),Math.abs(s));return null!=i.precision||isNaN(r=hr(a,u))||(i.precision=r),t.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=cr(a,Math.max(Math.abs(o),Math.abs(s))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=lr(a))||(i.precision=r-2*("%"===i.type))}return t.format(i)}function Lo(t){var e=t.domain;return t.ticks=function(t){var n=e();return f(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return So(e(),t,n)},t.nice=function(n){var i=e(),r=i.length-1,o=null==n?10:n,s=i[0],a=i[r],u=p(s,a,o);return u&&(u=p(Math.floor(s/u)*u,Math.ceil(a/u)*u,o),i[0]=Math.floor(s/u)*u,i[r]=Math.ceil(a/u)*u,e(i)),t},t}function Po(){var t=Co(yo,ii);return t.copy=function(){return Eo(t,Po())},Lo(t)}function Mo(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=H_.call(n,_o),t):e.slice()},t.copy=function(){return Mo().domain(e)},Lo(t)}function Ao(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function ko(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:vo(e)}function Do(t,e){return 0>t?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Oo(t){return isFinite(t)?+("1e"+t):0>t?0:t}function Ro(t){return 10===t?Oo:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function No(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Io(t){return function(e){return-t(-e)}}function Bo(){function e(){return o=No(r),s=Ro(r),i()[0]<0&&(o=Io(o),s=Io(s)),n}var n=Co(ko,Do).domain([1,10]),i=n.domain,r=10,o=No(10),s=Ro(10);return n.base=function(t){return arguments.length?(r=+t,e()):r},n.domain=function(t){return arguments.length?(i(t),e()):i()},n.ticks=function(t){var e,n=i(),a=n[0],u=n[n.length-1];(e=a>u)&&(p=a,a=u,u=p);var l,h,c,p=o(a),d=o(u),m=null==t?10:+t,g=[];if(!(r%1)&&m>d-p){if(p=Math.round(p)-1,d=Math.round(d)+1,a>0){for(;d>p;++p)for(h=1,l=s(p);r>h;++h)if(c=l*h,!(a>c)){if(c>u)break;g.push(c)}}else for(;d>p;++p)for(h=r-1,l=s(p);h>=1;--h)if(c=l*h,!(a>c)){if(c>u)break;g.push(c)}}else g=f(p,d,Math.min(d-p,m)).map(s);return e?g.reverse():g},n.tickFormat=function(e,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=t.format(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,r*e/n.ticks().length);return function(t){var e=t/s(Math.round(o(t)));return r-.5>e*r&&(e*=r),a>=e?i(t):""}},n.nice=function(){return i(Ao(i(),{floor:function(t){return s(Math.floor(o(t)))},ceil:function(t){return s(Math.ceil(o(t)))}}))},n.copy=function(){return Eo(n,Bo().base(r))},n}function Fo(t,e){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}function Uo(){function t(t,e){return(e=Fo(e,n)-(t=Fo(t,n)))?function(i){return(Fo(i,n)-t)/e}:vo(e)}function e(t,e){return e=Fo(e,n)-(t=Fo(t,n)),function(i){return Fo(t+e*i,1/n)}}var n=1,i=Co(t,e),r=i.domain;return i.exponent=function(t){return arguments.length?(n=+t,r(r())):n},i.copy=function(){return Eo(i,Uo().exponent(n))},Lo(i)}function jo(){return Uo().exponent(.5)}function zo(){function t(){var t=0,e=Math.max(1,r.length);for(o=new Array(e-1);++t<e;)o[t-1]=g(i,t/e);return n}function n(t){return isNaN(t=+t)?void 0:r[Ad(o,t)]}var i=[],r=[],o=[];return n.invertExtent=function(t){var e=r.indexOf(t);return 0>e?[NaN,NaN]:[e>0?o[e-1]:i[0],e<o.length?o[e]:i[i.length-1]]},n.domain=function(n){if(!arguments.length)return i.slice();i=[];for(var r,o=0,s=n.length;s>o;++o)r=n[o],null==r||isNaN(r=+r)||i.push(r);return i.sort(e),t()},n.range=function(e){return arguments.length?(r=$_.call(e),t()):r.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return zo().domain(i).range(r)},n}function Ho(){function t(t){return t>=t?s[Ad(o,t,0,r)]:void 0}function e(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*i-(e-r)*n)/(r+1);return t}var n=0,i=1,r=1,o=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e()):[n,i]},t.range=function(t){return arguments.length?(r=(s=$_.call(t)).length-1,e()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return 0>e?[NaN,NaN]:1>e?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},t.copy=function(){return Ho().domain([n,i]).range(s)},Lo(t)}function $o(){function t(t){return t>=t?n[Ad(e,t,0,i)]:void 0}var e=[.5],n=[0,1],i=1;return t.domain=function(r){return arguments.length?(e=$_.call(r),i=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(r){return arguments.length?(n=$_.call(r),i=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},t.copy=function(){return $o().domain(e).range(n)},t}function Wo(t){return new Date(t)}function qo(t){return t instanceof Date?+t:+new Date(+t)}function Go(t,e,i,r,o,s,a,u,l){function h(n){return(a(n)<n?g:s(n)<n?v:o(n)<n?_:r(n)<n?y:e(n)<n?i(n)<n?b:x:t(n)<n?w:T)(n)}function c(e,i,r,o){if(null==e&&(e=10),"number"==typeof e){var s=Math.abs(r-i)/e,a=n(function(t){return t[2]}).right(E,s);a===E.length?(o=p(i/K_,r/K_,e),e=t):a?(a=E[s/E[a-1][2]<E[a][2]/s?a-1:a],o=a[1],e=a[0]):(o=p(i,r,e),e=u)}return null==o?e:e.every(o)}var f=Co(yo,ii),d=f.invert,m=f.domain,g=l(".%L"),v=l(":%S"),_=l("%I:%M"),y=l("%I %p"),b=l("%a %d"),x=l("%b %d"),w=l("%B"),T=l("%Y"),E=[[a,1,G_],[a,5,5*G_],[a,15,15*G_],[a,30,30*G_],[s,1,V_],[s,5,5*V_],[s,15,15*V_],[s,30,30*V_],[o,1,Z_],[o,3,3*Z_],[o,6,6*Z_],[o,12,12*Z_],[r,1,X_],[r,2,2*X_],[i,1,Y_],[e,1,J_],[e,3,3*J_],[t,1,K_]];return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?m(H_.call(t,qo)):m().map(Wo)},f.ticks=function(t,e){var n,i=m(),r=i[0],o=i[i.length-1],s=r>o;return s&&(n=r,r=o,o=n),n=c(t,r,o,e),n=n?n.range(r,o+1):[],s?n.reverse():n},f.tickFormat=function(t,e){return null==e?h:l(e)},f.nice=function(t,e){var n=m();return(t=c(t,n[0],n[n.length-1],e))?m(Ao(n,t)):f},f.copy=function(){return Eo(f,Go(t,e,i,r,o,s,a,u,l))},f}function Vo(){return Go(n_,t_,jv,Fv,Iv,Rv,Dv,Cv,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function Zo(){return Go(S_,E_,h_,u_,s_,r_,Dv,Cv,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function Xo(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Yo(t){(0>t||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return sy.h=360*t-100,sy.s=1.5-1.5*e,sy.l=.8-.9*e,sy+""}function Jo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ko(t){function e(e){var o=(e-n)/(i-n);return t(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;return e.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.clamp=function(t){return arguments.length?(r=!!t,e):r},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Ko(t).domain([n,i]).clamp(r)},Lo(e)}function Qo(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),fy.hasOwnProperty(e)?{space:fy[e],local:t}:t}function ts(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===cy&&e.documentElement.namespaceURI===cy?e.createElement(t):e.createElementNS(n,t)}}function es(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ns(t){var e=Qo(t);return(e.local?es:ts)(e)}function is(){return new rs}function rs(){this._="@"+(++py).toString(36)}function os(t,e,n){return t=ss(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ss(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function as(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function us(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function ls(t,e,n){var i=_y.hasOwnProperty(t.type)?os:ss;return function(r,o,s){var a,u=this.__on,l=i(e,o,s);if(u)for(var h=0,c=u.length;c>h;++h)if((a=u[h]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function hs(t,e,n){var i,r,o=as(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?ls:us,null==n&&(n=!1),i=0;s>i;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,h=a.length;h>l;++l)for(i=0,u=a[l];s>i;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}}function cs(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}}function fs(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function ps(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function ds(t){var e=fs();return e.changedTouches&&(e=e.changedTouches[0]),ps(t,e)}function ms(){}function gs(t){return null==t?ms:function(){return this.querySelector(t)}}function vs(t){"function"!=typeof t&&(t=gs(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s,a=e[r],u=a.length,l=i[r]=new Array(u),h=0;u>h;++h)(o=a[h])&&(s=t.call(o,o.__data__,h,a))&&("__data__"in o&&(s.__data__=o.__data__),l[h]=s);return new Oa(i,this._parents)}function _s(){return[]}function ys(t){return null==t?_s:function(){return this.querySelectorAll(t)}}function bs(t){"function"!=typeof t&&(t=ys(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var s,a=e[o],u=a.length,l=0;u>l;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new Oa(i,r)}function xs(t){"function"!=typeof t&&(t=vy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;a>l;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Oa(i,this._parents)}function ws(t){return new Array(t.length)}function Ts(){return new Oa(this._enter||this._groups.map(ws),this._parents)}function Es(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Cs(t){return function(){return t}}function Ss(t,e,n,i,r,o){for(var s,a=0,u=e.length,l=o.length;l>a;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Es(t,o[a]);for(;u>a;++a)(s=e[a])&&(r[a]=s)}function Ls(t,e,n,i,r,o,s){var a,u,l,h={},c=e.length,f=o.length,p=new Array(c);for(a=0;c>a;++a)(u=e[a])&&(p[a]=l=by+s.call(u,u.__data__,a,e),l in h?r[a]=u:h[l]=u);for(a=0;f>a;++a)l=by+s.call(t,o[a],a,o),(u=h[l])?(i[a]=u,u.__data__=o[a],h[l]=null):n[a]=new Es(t,o[a]);for(a=0;c>a;++a)(u=e[a])&&h[p[a]]===u&&(r[a]=u)}function Ps(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n=e?Ls:Ss,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Cs(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;o>l;++l){var h=i[l],c=r[l],f=c.length,p=t.call(h,h&&h.__data__,l,i),d=p.length,m=a[l]=new Array(d),g=s[l]=new Array(d),v=u[l]=new Array(f);n(h,c,m,g,v,p,e);for(var _,y,b=0,x=0;d>b;++b)if(_=m[b]){for(b>=x&&(x=b+1);!(y=g[x])&&++x<d;);_._next=y||null}}return s=new Oa(s,i),s._enter=a,s._exit=u,s}function Ms(){return new Oa(this._exit||this._groups.map(ws),this._parents)}function As(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,l=e[a],h=n[a],c=l.length,f=s[a]=new Array(c),p=0;c>p;++p)(u=l[p]||h[p])&&(f[p]=u);for(;i>a;++a)s[a]=e[a];return new Oa(s,this._parents)}function ks(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this}function Ds(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Os);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var s,a=n[o],u=a.length,l=r[o]=new Array(u),h=0;u>h;++h)(s=a[h])&&(l[h]=s);l.sort(e)}return new Oa(r,this._parents).order()}function Os(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function Rs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ns(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Is(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var s=i[r];if(s)return s}return null}function Bs(){var t=0;return this.each(function(){++t}),t}function Fs(){return!this.node()}function Us(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],s=0,a=o.length;a>s;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this}function js(t){return function(){this.removeAttribute(t)}}function zs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hs(t,e){return function(){this.setAttribute(t,e)}}function $s(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ws(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function qs(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gs(t,e){var n=Qo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?zs:js:"function"==typeof e?n.local?qs:Ws:n.local?$s:Hs)(n,e))}function Vs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zs(t){return function(){this.style.removeProperty(t)}}function Xs(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ys(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Js(t,e,n){var i;return arguments.length>1?this.each((null==e?Zs:"function"==typeof e?Ys:Xs)(t,e,null==n?"":n)):Vs(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)}function Ks(t){return function(){delete this[t]}}function Qs(t,e){return function(){this[t]=e}}function ta(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ea(t,e){return arguments.length>1?this.each((null==e?Ks:"function"==typeof e?ta:Qs)(t,e)):this.node()[t]}function na(t){return t.trim().split(/^|\s+/)}function ia(t){return t.classList||new ra(t)}function ra(t){this._node=t,this._names=na(t.getAttribute("class")||"")}function oa(t,e){for(var n=ia(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function sa(t,e){for(var n=ia(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function aa(t){return function(){oa(this,t)}}function ua(t){return function(){sa(this,t)}}function la(t,e){return function(){(e.apply(this,arguments)?oa:sa)(this,t)}}function ha(t,e){var n=na(t+"");if(arguments.length<2){for(var i=ia(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?la:e?aa:ua)(n,e))}function ca(){this.textContent=""}function fa(t){return function(){this.textContent=t}}function pa(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function da(t){return arguments.length?this.each(null==t?ca:("function"==typeof t?pa:fa)(t)):this.node().textContent}function ma(){this.innerHTML=""}function ga(t){return function(){this.innerHTML=t}}function va(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function _a(t){return arguments.length?this.each(null==t?ma:("function"==typeof t?va:ga)(t)):this.node().innerHTML}function ya(){this.nextSibling&&this.parentNode.appendChild(this)}function ba(){return this.each(ya)}function xa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wa(){return this.each(xa)}function Ta(t){var e="function"==typeof t?t:ns(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ea(){return null}function Ca(t,e){var n="function"==typeof t?t:ns(t),i=null==e?Ea:"function"==typeof e?e:gs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Sa(){var t=this.parentNode;t&&t.removeChild(this)}function La(){return this.each(Sa)}function Pa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ma(t,e,n){var i=Vs(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Aa(t,e){return function(){return Ma(this,t,e)}}function ka(t,e){return function(){return Ma(this,t,e.apply(this,arguments))}}function Da(t,e){return this.each(("function"==typeof e?ka:Aa)(t,e))}function Oa(t,e){this._groups=t,this._parents=e}function Ra(){return new Oa([[document.documentElement]],xy)}function Na(t){return"string"==typeof t?new Oa([[document.querySelector(t)]],[document.documentElement]):new Oa([[t]],xy)}function Ia(t){return"string"==typeof t?new Oa([document.querySelectorAll(t)],[document.documentElement]):new Oa([null==t?[]:t],xy)}function Ba(t,e,n){arguments.length<3&&(n=e,e=fs().changedTouches);for(var i,r=0,o=e?e.length:0;o>r;++r)if((i=e[r]).identifier===n)return ps(t,i);return null}function Fa(t,e){null==e&&(e=fs().touches);for(var n=0,i=e?e.length:0,r=new Array(i);i>n;++n)r[n]=ps(t,e[n]);return r}function Ua(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};$a(t,n,{name:e,index:i,group:r,on:wy,tween:Ty,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ey})}function ja(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Ey)throw new Error("too late");return n}function za(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Sy)throw new Error("too late");return n}function Ha(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function $a(t,e,n){function i(t){n.state=Cy,n.delay<=t?r(t-n.delay):n.timer.restart(r,n.delay,n.time)}function r(i){var r,u,l,h;for(r in a)h=a[r],h.name===n.name&&(h.state===Ly?(h.state=My,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[r]):e>+r&&(h.state=My,h.timer.stop(),delete a[r]));if(Vi(function(){n.state===Ly&&(n.timer.restart(o,n.delay,n.time),o(i))}),n.state=Sy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Sy){for(n.state=Ly,s=new Array(l=n.tween.length),r=0,u=-1;l>r;++r)(h=n.tween[r].value.call(t,t.__data__,n.index,n.group))&&(s[++u]=h);s.length=u+1}}function o(i){for(var r=i<n.duration?n.ease.call(null,i/n.duration):(n.state=Py,1),o=-1,u=s.length;++o<u;)s[o].call(null,r);if(n.state===Py){n.state=My,n.timer.stop(),n.on.call("end",t,t.__data__,n.index,n.group);for(o in a)if(+o!==e)return void delete a[e];delete t.__transition}}var s,a=t.__transition;a[e]=n,n.timer=zi(i,0,n.time)}function Wa(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state===Ly,n.state=My,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}function qa(t){return this.each(function(){Wa(this,t)})}function Ga(t,e){var n,i;return function(){var r=za(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;a>s;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Va(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=za(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,l=r.length;l>u;++u)if(r[u].name===e){r[u]=a;break}u===l&&r.push(a)}o.tween=r}}function Za(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ha(this.node(),n).tween,o=0,s=r.length;s>o;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Ga:Va)(n,t,e))}function Xa(t,e,n){var i=t._id;return t.each(function(){var t=za(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ha(t,i).value[e]}}function Ya(t,e){var n;return("number"==typeof e?ii:e instanceof xn?Ag:(n=xn(e))?(e=n,Ag):ai)(t,e)}function Ja(t){return function(){this.removeAttribute(t)}}function Ka(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qa(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function tu(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function eu(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function nu(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function iu(t,e){var n=Qo(t),i="transform"===n?Fg:Ya;return this.attrTween(t,"function"==typeof e?(n.local?nu:eu)(n,i,Xa(this,"attr."+t,e)):null==e?(n.local?Ka:Ja)(n):(n.local?tu:Qa)(n,i,e))}function ru(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function ou(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function su(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Qo(t);return this.tween(n,(i.local?ru:ou)(i,e))}function au(t,e){return function(){ja(this,t).delay=+e.apply(this,arguments)}}function uu(t,e){return e=+e,function(){ja(this,t).delay=e}}function lu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?au:uu)(e,t)):Ha(this.node(),e).delay}function hu(t,e){return function(){za(this,t).duration=+e.apply(this,arguments)}}function cu(t,e){return e=+e,function(){za(this,t).duration=e}}function fu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?hu:cu)(e,t)):Ha(this.node(),e).duration}function pu(t,e){if("function"!=typeof e)throw new Error;return function(){za(this,t).ease=e}}function du(t){var e=this._id;return arguments.length?this.each(pu(e,t)):Ha(this.node(),e).ease}function mu(t){"function"!=typeof t&&(t=vy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;a>l;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Iu(i,this._parents,this._name,this._id)}function gu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,l=e[a],h=n[a],c=l.length,f=s[a]=new Array(c),p=0;c>p;++p)(u=l[p]||h[p])&&(f[p]=u);for(;i>a;++a)s[a]=e[a];return new Iu(s,this._parents,this._name,this._id)}function vu(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function _u(t,e,n){var i,r,o=vu(e)?ja:za;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function yu(t,e){var n=this._id;return arguments.length<2?Ha(this.node(),n).on.on(t):this.each(_u(n,t,e))}function bu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function xu(){return this.on("end.remove",bu(this._id))}function wu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=gs(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;r>s;++s)for(var a,u,l=i[s],h=l.length,c=o[s]=new Array(h),f=0;h>f;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u,Ua(c[f],e,n,f,c,Ha(a,n)));return new Iu(o,this._parents,e,n)}function Tu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ys(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;r>a;++a)for(var u,l=i[a],h=l.length,c=0;h>c;++c)if(u=l[c]){for(var f,p=t.call(u,u.__data__,c,l),d=Ha(u,n),m=0,g=p.length;g>m;++m)(f=p[m])&&Ua(f,e,n,m,p,d);o.push(p),s.push(u)}return new Iu(o,s,e,n)}function Eu(){return new Ay(this._groups,this._parents)}function Cu(t,e){var n,i,r;return function(){var o=Vs(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}function Su(t){return function(){this.style.removeProperty(t)}}function Lu(t,e,n){var i,r;return function(){var o=Vs(this).getComputedStyle(this,null).getPropertyValue(t);
return o===n?null:o===i?r:r=e(i=o,n)}}function Pu(t,e,n){var i,r,o;return function(){var s=Vs(this).getComputedStyle(this,null),a=s.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=s.getPropertyValue(t)),a===u?null:a===i&&u===r?o:o=e(i=a,r=u)}}function Mu(t,e,n){var i="transform"==(t+="")?Bg:Ya;return null==e?this.styleTween(t,Cu(t,i)).on("end.style."+t,Su(t)):this.styleTween(t,"function"==typeof e?Pu(t,i,Xa(this,"style."+t,e)):Lu(t,i,e),n)}function Au(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function ku(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Au(t,e,null==n?"":n))}function Du(t){return function(){this.textContent=t}}function Ou(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Ru(t){return this.tween("text","function"==typeof t?Ou(Xa(this,"text",t)):Du(null==t?"":t+""))}function Nu(){for(var t=this._name,e=this._id,n=Fu(),i=this._groups,r=i.length,o=0;r>o;++o)for(var s,a=i[o],u=a.length,l=0;u>l;++l)if(s=a[l]){var h=Ha(s,e);Ua(s,t,n,l,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Iu(i,this._parents,t,n)}function Iu(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Bu(t){return Ra().transition(t)}function Fu(){return++ky}function Uu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Oy.time=Fi(),Oy;return n}function ju(t){var e,n;t instanceof Iu?(e=t._id,t=t._name):(e=Fu(),(n=Oy).time=Fi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;r>o;++o)for(var s,a=i[o],u=a.length,l=0;u>l;++l)(s=a[l])&&Ua(s,t,e,l,a,n||Uu(s,e));return new Iu(i,this._parents,t,e)}function zu(t,e){var n,i,r=t.__transition;if(r){e=null==e?null:e+"";for(i in r)if((n=r[i]).state>Cy&&n.name===e)return new Iu([[t]],Ry,e,+i)}return null}function Hu(t){return t}function $u(t,e,n){var i=t(n);return"translate("+(isFinite(i)?i:e(n))+",0)"}function Wu(t,e,n){var i=t(n);return"translate(0,"+(isFinite(i)?i:e(n))+")"}function qu(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function Gu(){return!this.__axis}function Vu(t,e){function n(n){var l,h=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,c=null==o?e.tickFormat?e.tickFormat.apply(e,i):Hu:o,f=Math.max(s,0)+u,p=t===Iy||t===Fy?$u:Wu,d=e.range(),m=d[0]+.5,g=d[d.length-1]+.5,v=(e.bandwidth?qu:Hu)(e.copy()),_=n.selection?n.selection():n,y=_.selectAll(".domain").data([null]),b=_.selectAll(".tick").data(h,e).order(),x=b.exit(),w=b.enter().append("g").attr("class","tick"),T=b.select("line"),E=b.select("text"),C=t===Iy||t===Uy?-1:1,S=t===Uy||t===By?(l="x","y"):(l="y","x");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),b=b.merge(w),T=T.merge(w.append("line").attr("stroke","#000").attr(l+"2",C*s).attr(S+"1",.5).attr(S+"2",.5)),E=E.merge(w.append("text").attr("fill","#000").attr(l,C*f).attr(S,.5).attr("dy",t===Iy?"0em":t===Fy?"0.71em":"0.32em")),n!==_&&(y=y.transition(n),b=b.transition(n),T=T.transition(n),E=E.transition(n),x=x.transition(n).attr("opacity",jy).attr("transform",function(t){return p(v,this.parentNode.__axis||v,t)}),w.attr("opacity",jy).attr("transform",function(t){return p(this.parentNode.__axis||v,v,t)})),x.remove(),y.attr("d",t===Uy||t==By?"M"+C*a+","+m+"H0.5V"+g+"H"+C*a:"M"+m+","+C*a+"V0.5H"+g+"V"+C*a),b.attr("opacity",1).attr("transform",function(t){return p(v,v,t)}),T.attr(l+"2",C*s),E.attr(l,C*f).text(c),_.filter(Gu).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===By?"start":t===Uy?"end":"middle"),_.each(function(){this.__axis=v})}var i=[],r=null,o=null,s=6,a=6,u=3;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=Ny.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:Ny.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(r=null==t?null:Ny.call(t),n):r&&r.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(s=a=+t,n):s},n.tickSizeInner=function(t){return arguments.length?(s=+t,n):s},n.tickSizeOuter=function(t){return arguments.length?(a=+t,n):a},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n}function Zu(t){return Vu(Iy,t)}function Xu(t){return Vu(By,t)}function Yu(t){return Vu(Fy,t)}function Ju(t){return Vu(Uy,t)}function Ku(t,e){return t.parent===e.parent?1:2}function Qu(t){return t.reduce(tl,0)/t.length}function tl(t,e){return t+e.x}function el(t){return 1+t.reduce(nl,0)}function nl(t,e){return Math.max(t,e.y)}function il(t){for(var e;e=t.children;)t=e[0];return t}function rl(t){for(var e;e=t.children;)t=e[e.length-1];return t}function ol(){function t(t){var o,s=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Qu(n),t.y=el(n)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)});var a=il(t),u=rl(t),l=a.x-e(a,u)/2,h=u.x+e(u,a)/2;return t.eachAfter(r?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-l)/(h-l)*n,e.y=(1-(t.y?e.y/t.y:1))*i})}var e=Ku,n=1,i=1,r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(r=!1,n=+e[0],i=+e[1],t):r?null:[n,i]},t.nodeSize=function(e){return arguments.length?(r=!0,n=+e[0],i=+e[1],t):r?[n,i]:null},t}function sl(t){var e,n,i,r,o=this,s=[o];do for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;r>i;++i)s.push(n[i]);while(s.length);return this}function al(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this}function ul(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;i>n;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this}function ll(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}function hl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function cl(t){for(var e=this,n=fl(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function fl(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function pl(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function dl(){var t=[];return this.each(function(e){t.push(e)}),t}function ml(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function gl(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function vl(t,e){var n,i,r,o,s,a=new wl(t),u=+t.value&&(a.value=t.value),l=[a];for(null==e&&(e=yl);n=l.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)l.push(i=n.children[o]=new wl(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(xl)}function _l(){return vl(this).eachBefore(bl)}function yl(t){return t.children}function bl(t){t.data=t.data.data}function xl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function wl(t){this.data=t,this.depth=this.height=0,this.parent=null}function Tl(t){this._=t,this.next=null}function El(t){for(var e,n=(t=t.slice()).length,i=null,r=i;n;){var o=new Tl(t[n-1]);r=r?r.next=o:i=o,t[e]=t[--n]}return{head:i,tail:r}}function Cl(t){return Ll(El(t),[])}function Sl(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r-e.r;return r*r+1e-6>n*n+i*i}function Ll(t,e){var n,i,r,o=null,s=t.head;switch(e.length){case 1:n=Pl(e[0]);break;case 2:n=Ml(e[0],e[1]);break;case 3:n=Al(e[0],e[1],e[2])}for(;s;)r=s._,i=s.next,n&&Sl(n,r)?o=s:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(r),n=Ll(t,e),e.pop(),t.head?(s.next=t.head,t.head=s):(s.next=null,t.head=t.tail=s),o=t.tail,o.next=i),s=i;return t.tail=o,n}function Pl(t){return{x:t.x,y:t.y,r:t.r}}function Ml(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,u=o-n,l=s-i,h=a-r,c=Math.sqrt(u*u+l*l);return{x:(n+o+u/c*h)/2,y:(i+s+l/c*h)/2,r:(c+r+a)/2}}function Al(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,u=e.r,l=n.x,h=n.y,c=n.r,f=2*(i-s),p=2*(r-a),d=2*(u-o),m=i*i+r*r-o*o-s*s-a*a+u*u,g=2*(i-l),v=2*(r-h),_=2*(c-o),y=i*i+r*r-o*o-l*l-h*h+c*c,b=g*p-f*v,x=(p*y-v*m)/b-i,w=(v*d-p*_)/b,T=(g*m-f*y)/b-r,E=(f*_-g*d)/b,C=w*w+E*E-1,S=2*(x*w+T*E+o),L=x*x+T*T-o*o,P=(-S-Math.sqrt(S*S-4*C*L))/(2*C);return{x:x+w*P+i,y:T+E*P+r,r:P}}function kl(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,s=t.r+n.r,a=e.x-i,u=e.y-r,l=a*a+u*u;if(l){var h=.5+((s*=s)-(o*=o))/(2*l),c=Math.sqrt(Math.max(0,2*o*(s+l)-(s-=l)*s-o*o))/(2*l);n.x=i+h*a+c*u,n.y=r+h*u-c*a}else n.x=i+s,n.y=r}function Dl(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r>n*n+i*i}function Ol(t,e,n){var i=t.x-e,r=t.y-n;return i*i+r*r}function Rl(t){this._=t,this.next=null,this.previous=null}function Nl(t){if(!(r=t.length))return 0;var e,n,i,r;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;kl(n,e,i=t[2]);var o,s,a,u,l,h,c,f=e.r*e.r,p=n.r*n.r,d=i.r*i.r,m=f+p+d,g=f*e.x+p*n.x+d*i.x,v=f*e.y+p*n.y+d*i.y;e=new Rl(e),n=new Rl(n),i=new Rl(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;r>a;++a){if(kl(e._,n._,i=t[a]),i=new Rl(i),(l=e.previous)===(u=n.next)){if(Dl(u._,i._)){e=n,n=u,--a;continue t}}else{h=u._.r,c=l._.r;do if(c>=h){if(Dl(u._,i._)){n=u,e.next=n,n.previous=e,--a;continue t}u=u.next,h+=u._.r}else{if(Dl(l._,i._)){e=l,e.next=n,n.previous=e,--a;continue t}l=l.previous,c+=l._.r}while(u!==l.next)}for(i.previous=e,i.next=n,e.next=n.previous=n=i,m+=d=i._.r*i._.r,g+=d*i._.x,v+=d*i._.y,f=Ol(e._,o=g/m,s=v/m);(i=i.next)!==n;)(d=Ol(i._,o,s))<f&&(e=i,f=d);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Cl(e),a=0;r>a;++a)e=t[a],e.x-=i.x,e.y-=i.y;return i.r}function Il(t){return Nl(t),t}function Bl(t){return null==t?null:Fl(t)}function Fl(t){if("function"!=typeof t)throw new Error;return t}function Ul(){return 0}function jl(t){return function(){return t}}function zl(t){return Math.sqrt(t.value)}function Hl(){function t(t){return t.x=n/2,t.y=i/2,e?t.eachBefore($l(e)).eachAfter(Wl(r,.5)).eachBefore(ql(1)):t.eachBefore($l(zl)).eachAfter(Wl(Ul,1)).eachAfter(Wl(r,t.r/Math.min(n,i))).eachBefore(ql(Math.min(n,i)/(2*t.r))),t}var e=null,n=1,i=1,r=Ul;return t.radius=function(n){return arguments.length?(e=Bl(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:jl(+e),t):r},t}function $l(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Wl(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;s>r;++r)i[r].r+=a;if(o=Nl(i),a)for(r=0;s>r;++r)i[r].r-=a;n.r=o+a}}}function ql(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Gl(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Vl(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,l=t.value&&(i-e)/t.value;++a<u;)o=s[a],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l}function Zl(){function t(t){var s=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=i/s,t.eachBefore(e(i,s)),o&&t.eachBefore(Gl),t}function e(t,e){return function(n){n.children&&Vl(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,s=n.x1-r,a=n.y1-r;i>s&&(i=s=(i+s)/2),o>a&&(o=a=(o+a)/2),n.x0=i,n.y0=o,n.x1=s,n.y1=a}}var n=1,i=1,r=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r=+e,t):r},t}function Xl(t){return t.id}function Yl(t){return t.parentId}function Jl(){function t(t){var i,r,o,s,a,u,l,h=t.length,c=new Array(h),f={};for(r=0;h>r;++r)i=t[r],a=c[r]=new wl(i),null!=(u=e(i,r,t))&&(u+="")&&(l=zy+(a.id=u),f[l]=l in f?$y:a);for(r=0;h>r;++r)if(a=c[r],u=n(t[r],r,t),null!=u&&(u+="")){if(s=f[zy+u],!s)throw new Error("missing: "+u);if(s===$y)throw new Error("ambiguous: "+u);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Hy,o.eachBefore(function(t){t.depth=t.parent.depth+1,--h}).eachBefore(xl),o.parent=null,h>0)throw new Error("cycle");return o}var e=Xl,n=Yl;return t.id=function(n){return arguments.length?(e=Fl(n),t):e},t.parentId=function(e){return arguments.length?(n=Fl(e),t):n},t}function Kl(t,e){return t.parent===e.parent?1:2}function Ql(t){var e=t.children;return e?e[0]:t.t}function th(t){var e=t.children;return e?e[e.length-1]:t.t}function eh(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function nh(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function ih(t,e,n){return t.a.parent===e.parent?t.a:n}function rh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function oh(t){for(var e,n,i,r,o,s=new rh(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new rh(i[r],r)),n.parent=e;return(s.parent=new rh(null,0)).children=[s],s}function sh(){function t(t){var i=oh(t);if(i.eachAfter(e),i.parent.m=-i.z,i.eachBefore(n),u)t.eachBefore(r);else{var l=t,h=t,c=t;t.eachBefore(function(t){t.x<l.x&&(l=t),t.x>h.x&&(h=t),t.depth>c.depth&&(c=t)});var f=l===h?1:o(l,h)/2,p=f-l.x,d=s/(h.x+f+p),m=a/(c.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){nh(t);var s=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+o(t._,r._),t.m=t.z-s):t.z=s}else r&&(t.z=r.z+o(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var i,r=t,s=t,a=e,u=r.parent.children[0],l=r.m,h=s.m,c=a.m,f=u.m;a=th(a),r=Ql(r),a&&r;)u=Ql(u),s=th(s),s.a=t,i=a.z+c-r.z-l+o(a._,r._),i>0&&(eh(ih(a,t,n),t,i),l+=i,h+=i),c+=a.m,l+=r.m,f+=u.m,h+=s.m;a&&!th(s)&&(s.t=a,s.m+=c-h),r&&!Ql(u)&&(u.t=r,u.m+=l-f,n=t)}return n}function r(t){t.x*=s,t.y=t.depth*a}var o=Kl,s=1,a=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,s=+e[0],a=+e[1],t):u?null:[s,a]},t.nodeSize=function(e){return arguments.length?(u=!0,s=+e[0],a=+e[1],t):u?[s,a]:null},t}function ah(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,l=t.value&&(r-n)/t.value;++a<u;)o=s[a],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l}function uh(t,e,n,i,r,o){for(var s,a,u,l,h,c,f,p,d,m,g,v,_=[],y=e.children,b=0,x=y.length,w=e.value;x>b;){for(l=r-n,h=o-i,f=p=c=y[b].value,g=Math.max(h/l,l/h)/(w*t),v=c*c*g,m=Math.max(p/v,v/f),u=b+1;x>u;++u){if(c+=a=y[u].value,f>a&&(f=a),a>p&&(p=a),v=c*c*g,d=Math.max(p/v,v/f),d>m){c-=a;break}m=d}_.push(s={value:c,dice:h>l,children:y.slice(b,u)}),s.dice?Vl(s,n,i,r,w?i+=h*c/w:o):ah(s,n,i,w?n+=l*c/w:r,o),w-=c,b=u}return _}function lh(){function t(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(e),s=[0],i&&t.eachBefore(Gl),t}function e(t){var e=s[t.depth],i=t.x0+e,r=t.y0+e,o=t.x1-e,f=t.y1-e;i>o&&(i=o=(i+o)/2),r>f&&(r=f=(r+f)/2),t.x0=i,t.y0=r,t.x1=o,t.y1=f,t.children&&(e=s[t.depth+1]=a(t)/2,i+=c(t)-e,r+=u(t)-e,o-=l(t)-e,f-=h(t)-e,i>o&&(i=o=(i+o)/2),r>f&&(r=f=(r+f)/2),n(t,i,r,o,f))}var n=qy,i=!1,r=1,o=1,s=[0],a=Ul,u=Ul,l=Ul,h=Ul,c=Ul;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(n=Fl(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:jl(+e),t):a},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:jl(+e),t):u},t.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:jl(+e),t):l},t.paddingBottom=function(e){return arguments.length?(h="function"==typeof e?e:jl(+e),t):h},t.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:jl(+e),t):c},t}function hh(t,e,n,i,r){function o(t,e,n,i,r,s,a){if(t>=e-1){var l=u[t];return l.x0=i,l.y0=r,l.x1=s,l.y1=a,void 0}for(var c=h[t],f=n/2+c,p=t+1,d=e-1;d>p;){var m=p+d>>>1;h[m]<f?p=m+1:d=m}var g=h[p]-c,v=n-g;if(a-r>s-i){var _=(r*v+a*g)/n;o(t,p,g,i,r,s,_),o(p,e,v,i,_,s,a)}else{var y=(i*v+s*g)/n;o(t,p,g,i,r,y,a),o(p,e,v,y,r,s,a)}}var s,a,u=t.children,l=u.length,h=new Array(l+1);for(h[0]=a=s=0;l>s;++s)h[s+1]=a+=u[s].value;o(0,l,t.value,e,n,i,r)}function ch(t,e,n,i,r){(1&t.depth?ah:Vl)(t,e,n,i,r)}function fh(t,e){function n(){var n,r,o=i.length,s=0,a=0;for(n=0;o>n;++n)r=i[n],s+=r.x,a+=r.y;for(s=s/o-t,a=a/o-e,n=0;o>n;++n)r=i[n],r.x-=s,r.y-=a}var i;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n}function ph(t){return function(){return t}}function dh(){return 1e-6*(Math.random()-.5)}function mh(t){return t.x+t.vx}function gh(t){return t.y+t.vy}function vh(t){function e(){function t(t,n,i,r,s){var a=t.data,p=t.r,d=c+p;{if(!a)return n>l+d||l-d>r||i>h+d||h-d>s;if(a.index>e){var m=l-a.x-a.vx,g=h-a.y-a.vy,v=m*m+g*g;d*d>v&&(0===m&&(m=dh(),v+=m*m),0===g&&(g=dh(),v+=g*g),v=(d-(v=Math.sqrt(v)))/v*o,u.vx+=(m*=v)*(d=(p*=p)/(f+p)),u.vy+=(g*=v)*d,a.vx-=m*(d=1-d),a.vy-=g*d)}}}for(var e,a,u,l,h,c,f,p=i.length,d=0;s>d;++d)for(a=$t(i,mh,gh).visitAfter(n),e=0;p>e;++e)u=i[e],c=r[e],f=c*c,l=u.x+u.vx,h=u.y+u.vy,a.visit(t)}function n(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;4>e;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}var i,r,o=1,s=1;return"function"!=typeof t&&(t=ph(null==t?1:+t)),e.initialize=function(e){var n,o=(i=e).length;for(r=new Array(o),n=0;o>n;++n)r[n]=+t(i[n],n,i)},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(o=+t,e):o},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:ph(+n),e):t},e}function _h(t,e){return e}function yh(t){function e(t){return 1/Math.min(l[t.source.index],l[t.target.index])}function n(e){for(var n=0,i=t.length;d>n;++n)for(var r,o,u,l,c,f,p,m=0;i>m;++m)r=t[m],o=r.source,u=r.target,l=u.x+u.vx-o.x-o.vx||dh(),c=u.y+u.vy-o.y-o.vy||dh(),f=Math.sqrt(l*l+c*c),f=(f-a[m])/f*e*s[m],l*=f,c*=f,u.vx-=l*(p=h[m]),u.vy-=c*p,o.vx+=l*(p=1-p),o.vy+=c*p}function i(){if(u){var e,n,i=u.length,f=t.length,p=O(u,c);for(e=0,l=new Array(i);i>e;++e)l[e]=0;for(e=0;f>e;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=p.get(n.source)),"object"!=typeof n.target&&(n.target=p.get(n.target)),++l[n.source.index],++l[n.target.index];for(e=0,h=new Array(f);f>e;++e)n=t[e],h[e]=l[n.source.index]/(l[n.source.index]+l[n.target.index]);s=new Array(f),r(),a=new Array(f),o()}}function r(){if(u)for(var e=0,n=t.length;n>e;++e)s[e]=+f(t[e],e,t)}function o(){if(u)for(var e=0,n=t.length;n>e;++e)a[e]=+p(t[e],e,t)}var s,a,u,l,h,c=_h,f=e,p=ph(30),d=1;return null==t&&(t=[]),n.initialize=function(t){u=t,i()},n.links=function(e){return arguments.length?(t=e,i(),n):t},n.id=function(t){return arguments.length?(c=t,n):c},n.iterations=function(t){return arguments.length?(d=+t,n):d},n.strength=function(t){return arguments.length?(f="function"==typeof t?t:ph(+t),r(),n):f},n.distance=function(t){return arguments.length?(p="function"==typeof t?t:ph(+t),o(),n):p},n}function bh(t){return t.x}function xh(t){return t.y}function wh(t){function e(){n(),p.call("tick",o),a>s&&(f.stop(),p.call("end",o))}function n(){var e,n,i=t.length;for(s+=(l-s)*u,c.each(function(t){t(s)}),e=0;i>e;++e)n=t[e],null==n.fx?n.x+=n.vx*=h:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=h:(n.y=n.fy,n.vy=0)}function i(){for(var e,n=0,i=t.length;i>n;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var r=Vy*Math.sqrt(n),o=n*Zy;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function r(e){return e.initialize&&e.initialize(t),e}var o,s=1,a=.001,u=1-Math.pow(a,1/300),l=0,h=.6,c=O(),f=zi(e),p=Ti("tick","end");return null==t&&(t=[]),i(),o={tick:n,restart:function(){return f.restart(e),o},stop:function(){return f.stop(),o},nodes:function(e){return arguments.length?(t=e,i(),c.each(r),o):t},alpha:function(t){return arguments.length?(s=+t,o):s},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(l=+t,o):l},velocityDecay:function(t){return arguments.length?(h=1-t,o):1-h},force:function(t,e){return arguments.length>1?(null==e?c.remove(t):c.set(t,r(e)),o):c.get(t)},find:function(e,n,i){var r,o,s,a,u,l=0,h=t.length;for(null==i?i=1/0:i*=i,l=0;h>l;++l)a=t[l],r=e-a.x,o=n-a.y,s=r*r+o*o,i>s&&(u=a,i=s);return u},on:function(t,e){return arguments.length>1?(p.on(t,e),o):p.on(t)}}}function Th(){function t(t){var e,a=r.length,u=$t(r,bh,xh).visitAfter(n);for(s=t,e=0;a>e;++e)o=r[e],u.visit(i)}function e(){if(r){var t,e=r.length;for(a=new Array(e),t=0;e>t;++t)a[t]=+u(r[t],t,r)}}function n(t){var e,n,i,r,o,s=0;if(t.length){for(i=r=o=0;4>o;++o)(e=t[o])&&(n=e.value)&&(s+=n,i+=n*e.x,r+=n*e.y);t.x=i/s,t.y=r/s}else{e=t,e.x=e.data.x,e.y=e.data.y;do s+=a[e.data.index];while(e=e.next)}t.value=s}function i(t,e,n,i){if(!t.value)return!0;var r=t.x-o.x,u=t.y-o.y,f=i-e,p=r*r+u*u;if(p>f*f/c)return h>p&&(0===r&&(r=dh(),p+=r*r),0===u&&(u=dh(),p+=u*u),l>p&&(p=Math.sqrt(l*p)),o.vx+=r*t.value*s/p,o.vy+=u*t.value*s/p),!0;if(!(t.length||p>=h)){(t.data!==o||t.next)&&(0===r&&(r=dh(),p+=r*r),0===u&&(u=dh(),p+=u*u),l>p&&(p=Math.sqrt(l*p)));do t.data!==o&&(f=a[t.data.index]*s/p,o.vx+=r*f,o.vy+=u*f);while(t=t.next)}}var r,o,s,a,u=ph(-30),l=1,h=1/0,c=.81;return t.initialize=function(t){r=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:ph(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.distanceMax=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t.theta=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t}function Eh(t){function e(t){for(var e,n=0,s=i.length;s>n;++n)e=i[n],e.vx+=(o[n]-e.x)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;n>e;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=ph(.1);return"function"!=typeof t&&(t=ph(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:ph(+t),n(),e):s},e.x=function(i){return arguments.length?(t="function"==typeof i?i:ph(+i),n(),e):t},e}function Ch(t){function e(t){for(var e,n=0,s=i.length;s>n;++n)e=i[n],e.vy+=(o[n]-e.y)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;n>e;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=ph(.1);return"function"!=typeof t&&(t=ph(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:ph(+t),n(),e):s},e.y=function(i){return arguments.length?(t="function"==typeof i?i:ph(+i),n(),e):t},e}function Sh(){t.event.stopImmediatePropagation()}function Lh(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Ph(t){var e=t.document.documentElement,n=Na(t).on("dragstart.drag",Lh,!0);"onselectstart"in e?n.on("selectstart.drag",Lh,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Mh(t,e){var n=t.document.documentElement,i=Na(t).on("dragstart.drag",null);e&&(i.on("click.drag",Lh,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ah(t){return function(){return t}}function kh(t,e,n,i,r,o,s,a,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=l}function Dh(){return!t.event.button}function Oh(){return this.parentNode}function Rh(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Nh(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",s).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!h&&c.apply(this,arguments)){var e=u("mouse",f.apply(this,arguments),ds,this,arguments);e&&(Na(t.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),Ph(t.event.view),Sh(),l=!1,e("start"))}}function i(){Lh(),l=!0,d.mouse("drag")}function r(){Na(t.event.view).on("mousemove.drag mouseup.drag",null),Mh(t.event.view,l),Lh(),d.mouse("end")}function o(){if(c.apply(this,arguments)){var e,n,i=t.event.changedTouches,r=f.apply(this,arguments),o=i.length;for(e=0;o>e;++e)(n=u(i[e].identifier,r,Ba,this,arguments))&&(Sh(),n("start"))}}function s(){var e,n,i=t.event.changedTouches,r=i.length;for(e=0;r>e;++e)(n=d[i[e].identifier])&&(Lh(),n("drag"))}function a(){var e,n,i=t.event.changedTouches,r=i.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),e=0;r>e;++e)(n=d[i[e].identifier])&&(Sh(),n("end"))}function u(n,i,r,o,s){var a,u,l,h=r(i,n),c=m.copy();if(cs(new kh(e,"beforestart",a,n,g,h[0],h[1],0,0,c),function(){return null==(t.event.subject=a=p.apply(o,s))?!1:(u=a.x-h[0]||0,l=a.y-h[1]||0,!0)}))return function f(t){var p,m=h;switch(t){case"start":d[n]=f,p=g++;break;case"end":delete d[n],--g;case"drag":h=r(i,n),p=g}cs(new kh(e,t,a,n,p,h[0]+u,h[1]+l,h[0]-m[0],h[1]-m[1],c),c.apply,c,[t,o,s])}}var l,h,c=Dh,f=Oh,p=Rh,d={},m=Ti("start","drag","end"),g=0;return e.filter=function(t){return arguments.length?(c="function"==typeof t?t:Ah(!!t),e):c},e.container=function(t){return arguments.length?(f="function"==typeof t?t:Ah(t),e):f},e.subject=function(t){return arguments.length?(p="function"==typeof t?t:Ah(t),e):p},e.on=function(){var t=m.on.apply(m,arguments);return t===m?e:t},e}function Ih(t){return function(){return t}}function Bh(t){return t[0]}function Fh(t){return t[1]}function Uh(){this._=null}function jh(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function zh(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Hh(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function $h(t){for(;t.L;)t=t.L;return t}function Wh(t,e,n,i){var r=[null,null],o=Qy.push(r)-1;return r.left=t,r.right=e,n&&Gh(r,t,e,n),i&&Gh(r,e,t,i),Jy[t.index].halfedges.push(o),Jy[e.index].halfedges.push(o),r}function qh(t,e,n){var i=[e,n];return i.left=t,i}function Gh(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Vh(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],l=s[1],h=a[0],c=a[1],f=0,p=1,d=h-u,m=c-l;if(o=e-u,d||!(o>0)){if(o/=d,0>d){if(f>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>f&&(f=o)}if(o=i-u,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>f&&(f=o)}else if(d>0){if(f>o)return;p>o&&(p=o)}if(o=n-l,m||!(o>0)){if(o/=m,0>m){if(f>o)return;p>o&&(p=o)}else if(m>0){if(o>p)return;o>f&&(f=o)}if(o=r-l,m||!(0>o)){if(o/=m,0>m){if(o>p)return;o>f&&(f=o)}else if(m>0){if(f>o)return;p>o&&(p=o)}return f>0||1>p?(f>0&&(t[0]=[u+f*d,l+f*m]),1>p&&(t[1]=[u+p*d,l+p*m]),!0):!0}}}}}function Zh(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,h=t.right,c=l[0],f=l[1],p=h[0],d=h[1],m=(c+p)/2,g=(f+d)/2;if(d===f){if(e>m||m>=i)return;if(c>p){if(u){if(u[1]>=r)return}else u=[m,n];o=[m,r]}else{if(u){if(u[1]<n)return}else u=[m,r];o=[m,n]}}else if(s=(c-p)/(d-f),a=g-s*m,-1>s||s>1)if(c>p){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(d>f){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Xh(t,e,n,i){for(var r,o=Qy.length;o--;)Zh(r=Qy[o],t,e,n,i)&&Vh(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>nb||Math.abs(r[0][1]-r[1][1])>nb)||delete Qy[o]}function Yh(t){return Jy[t.index]={site:t,halfedges:[]}}function Jh(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Kh(t,e){return e[+(e.left!==t.site)]}function Qh(t,e){return e[+(e.left===t.site)]}function tc(){for(var t,e,n,i,r=0,o=Jy.length;o>r;++r)if((t=Jy[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;i>n;++n)s[n]=n,a[n]=Jh(t,Qy[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;i>n;++n)a[n]=e[s[n]];for(n=0;i>n;++n)e[n]=a[n]}}function ec(t,e,n,i){var r,o,s,a,u,l,h,c,f,p,d,m,g=Jy.length,v=!0;for(r=0;g>r;++r)if(o=Jy[r]){for(s=o.site,u=o.halfedges,a=u.length;a--;)Qy[u[a]]||u.splice(a,1);for(a=0,l=u.length;l>a;)p=Qh(o,Qy[u[a]]),d=p[0],m=p[1],h=Kh(o,Qy[u[++a%l]]),c=h[0],f=h[1],(Math.abs(d-c)>nb||Math.abs(m-f)>nb)&&(u.splice(a,0,Qy.push(qh(s,p,Math.abs(d-t)<nb&&i-m>nb?[t,Math.abs(c-t)<nb?f:i]:Math.abs(m-i)<nb&&n-d>nb?[Math.abs(f-i)<nb?c:n,i]:Math.abs(d-n)<nb&&m-e>nb?[n,Math.abs(c-n)<nb?f:e]:Math.abs(m-e)<nb&&d-t>nb?[Math.abs(f-e)<nb?c:t,e]:null))-1),++l);l&&(v=!1)}if(v){var _,y,b,x=1/0;for(r=0,v=null;g>r;++r)(o=Jy[r])&&(s=o.site,_=s[0]-t,y=s[1]-e,b=_*_+y*y,x>b&&(x=b,v=o));if(v){var w=[t,e],T=[t,i],E=[n,i],C=[n,e];v.halfedges.push(Qy.push(qh(s=v.site,w,T))-1,Qy.push(qh(s,T,E))-1,Qy.push(qh(s,E,C))-1,Qy.push(qh(s,C,w))-1)}}for(r=0;g>r;++r)(o=Jy[r])&&(o.halfedges.length||delete Jy[r])}function nc(){jh(this),this.x=this.y=this.arc=this.site=this.cy=null}function ic(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],u=i[0]-s,l=i[1]-a,h=o[0]-s,c=o[1]-a,f=2*(u*c-l*h);if(!(f>=-ib)){var p=u*u+l*l,d=h*h+c*c,m=(c*p-l*d)/f,g=(u*d-h*p)/f,v=tb.pop()||new nc;v.arc=t,v.site=r,v.x=m+s,v.y=(v.cy=g+a)+Math.sqrt(m*m+g*g),t.circle=v;for(var _=null,y=Ky._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){_=y.P;break}y=y.L}else{if(!y.R){_=y;break}y=y.R}Ky.insert(_,v),_||(Xy=v)}}}}function rc(t){var e=t.circle;e&&(e.P||(Xy=e.N),Ky.remove(e),tb.push(e),jh(e),t.circle=null)}function oc(){jh(this),this.edge=this.site=this.circle=null}function sc(t){var e=eb.pop()||new oc;return e.site=t,e}function ac(t){rc(t),Yy.remove(t),eb.push(t),jh(t)}function uc(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];ac(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<nb&&Math.abs(i-u.circle.cy)<nb;)o=u.P,a.unshift(u),ac(u),u=o;a.unshift(u),rc(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<nb&&Math.abs(i-l.circle.cy)<nb;)s=l.N,a.push(l),ac(l),l=s;a.push(l),rc(l);var h,c=a.length;for(h=1;c>h;++h)l=a[h],u=a[h-1],Gh(l.edge,u.site,l.site,r);u=a[0],l=a[c-1],l.edge=Wh(u.site,l.site,null,r),ic(u),ic(l)}function lc(t){for(var e,n,i,r,o=t[0],s=t[1],a=Yy._;a;)if(i=hc(a,s)-o,i>nb)a=a.L;else{if(r=o-cc(a,s),!(r>nb)){i>-nb?(e=a.P,n=a):r>-nb?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}Yh(t);var u=sc(t);if(Yy.insert(e,u),e||n){if(e===n)return rc(e),n=sc(e.site),Yy.insert(u,n),u.edge=n.edge=Wh(e.site,u.site),ic(e),void ic(n);if(!n)return void(u.edge=Wh(e.site,u.site));rc(e),rc(n);var l=e.site,h=l[0],c=l[1],f=t[0]-h,p=t[1]-c,d=n.site,m=d[0]-h,g=d[1]-c,v=2*(f*g-p*m),_=f*f+p*p,y=m*m+g*g,b=[(g*_-p*y)/v+h,(f*y-m*_)/v+c];Gh(n.edge,l,d,b),u.edge=Wh(l,t,null,b),n.edge=Wh(t,d,null,b),ic(e),ic(n)}}function hc(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-(1/0);n=s.site;var a=n[0],u=n[1],l=u-e;if(!l)return a;var h=a-i,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+r-o/2)))/c+i:(i+a)/2}function cc(t,e){var n=t.N;if(n)return hc(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function fc(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function pc(t,e){return e[1]-t[1]||e[0]-t[0]}function dc(t,e){var n,i,r,o=t.sort(pc).pop();for(Qy=[],Jy=new Array(t.length),Yy=new Uh,Ky=new Uh;;)if(r=Xy,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))(o[0]!==n||o[1]!==i)&&(lc(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;uc(r.arc)}if(tc(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];Xh(s,a,u,l),ec(s,a,u,l)}this.edges=Qy,this.cells=Jy,
Yy=Ky=Qy=Jy=null}function mc(){function t(t){return new dc(t.map(function(i,r){var o=[Math.round(e(i,r,t)/nb)*nb,Math.round(n(i,r,t)/nb)*nb];return o.index=r,o.data=i,o}),i)}var e=Bh,n=Fh,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ih(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Ih(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t}function gc(t){return function(){return t}}function vc(t,e,n){this.target=t,this.type=e,this.transform=n}function _c(t,e,n){this.k=t,this.x=e,this.y=n}function yc(t){return t.__zoom||rb}function bc(){t.event.stopImmediatePropagation()}function xc(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function wc(){return!t.event.button}function Tc(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Ec(){return this.__zoom||rb}function Cc(){function e(t){t.on("wheel.zoom",l).on("mousedown.zoom",h).on("dblclick.zoom",c).on("touchstart.zoom",f).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Ec)}function n(t,e){return e=Math.max(y,Math.min(b,e)),e===t.k?t:new _c(e,t.x,t.y)}function i(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new _c(t.k,i,r)}function r(t,e){var n=Math.min(0,t.invertX(e[0][0])-x)||Math.max(0,t.invertX(e[1][0])-w),i=Math.min(0,t.invertY(e[0][1])-T)||Math.max(0,t.invertY(e[1][1])-E);return n||i?t.translate(n,i):t}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function s(t,e,n){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=a(t,i),s=_.apply(t,i),u=n||o(s),l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),h=t.__zoom,c="function"==typeof e?e.apply(t,i):e,f=vi(h.invert(u).concat(l/h.k),c.invert(u).concat(l/c.k));return function(t){if(1===t)t=c;else{var e=f(t),n=l/e[2];t=new _c(n,u[0]-e[0]*n,u[1]-e[1]*n)}r.zoom(null,t)}})}function a(t,e){for(var n,i=0,r=S.length;r>i;++i)if((n=S[i]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=_.apply(t,e)}function l(){function e(){o.wheel=null,o.end()}if(v.apply(this,arguments)){var o=a(this,arguments),s=this.__zoom,u=Math.max(y,Math.min(b,s.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),l=ds(this);if(o.wheel)(o.mouse[0][0]!==l[0]||o.mouse[0][1]!==l[1])&&(o.mouse[1]=s.invert(o.mouse[0]=l)),clearTimeout(o.wheel);else{if(s.k===u)return;o.mouse=[l,s.invert(l)],Wa(this),o.start()}xc(),o.wheel=setTimeout(e,M),o.zoom("mouse",r(i(n(s,u),o.mouse[0],o.mouse[1]),o.extent))}}function h(){function e(){xc(),o.moved=!0,o.zoom("mouse",r(i(o.that.__zoom,o.mouse[0]=ds(o.that),o.mouse[1]),o.extent))}function n(){s.on("mousemove.zoom mouseup.zoom",null),Mh(t.event.view,o.moved),xc(),o.end()}if(!g&&v.apply(this,arguments)){var o=a(this,arguments),s=Na(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=ds(this);Ph(t.event.view),bc(),o.mouse=[u,this.__zoom.invert(u)],Wa(this),o.start()}}function c(){if(v.apply(this,arguments)){var o=this.__zoom,a=ds(this),u=o.invert(a),l=o.k*(t.event.shiftKey?.5:2),h=r(i(n(o,l),a,u),_.apply(this,arguments));xc(),C>0?Na(this).transition().duration(C).call(s,h,a):Na(this).call(e.transform,h)}}function f(){if(v.apply(this,arguments)){var e,n,i,r=a(this,arguments),o=t.event.changedTouches,s=o.length;for(bc(),e=0;s>e;++e)n=o[e],i=Ba(this,o,n.identifier),i=[i,this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):r.touch0=i;return m&&(m=clearTimeout(m),!r.touch1)?(r.end(),c.apply(this,arguments)):void(t.event.touches.length===s&&(m=setTimeout(function(){m=null},P),Wa(this),r.start()))}}function p(){var e,o,s,u,l=a(this,arguments),h=t.event.changedTouches,c=h.length;for(xc(),m&&(m=clearTimeout(m)),e=0;c>e;++e)o=h[e],s=Ba(this,h,o.identifier),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=s:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=s);if(o=l.that.__zoom,l.touch1){var f=l.touch0[0],p=l.touch0[1],d=l.touch1[0],g=l.touch1[1],v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v,_=(_=g[0]-p[0])*_+(_=g[1]-p[1])*_;o=n(o,Math.sqrt(v/_)),s=[(f[0]+d[0])/2,(f[1]+d[1])/2],u=[(p[0]+g[0])/2,(p[1]+g[1])/2]}else{if(!l.touch0)return;s=l.touch0[0],u=l.touch0[1]}l.zoom("touch",r(i(o,s,u),l.extent))}function d(){var e,n,i=a(this,arguments),r=t.event.changedTouches,o=r.length;for(bc(),g&&clearTimeout(g),g=setTimeout(function(){g=null},P),e=0;o>e;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0||i.end()}var m,g,v=wc,_=Tc,y=0,b=1/0,x=-b,w=b,T=x,E=w,C=250,S=[],L=Ti("start","zoom","end"),P=500,M=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Ec),t!==n?s(t,e):n.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,s){e.transform(t,function(){var t=_.apply(this,arguments),e=this.__zoom,a=o(t),u=e.invert(a),l="function"==typeof s?s.apply(this,arguments):s;return r(i(n(e,l),a,u),t)})},e.translateBy=function(t,n,i){e.transform(t,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),_.apply(this,arguments))})},u.prototype={start:function(){return 1===++this.active&&(this.index=S.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(S.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){cs(new vc(e,t,this.that.__zoom),L.apply,L,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(v="function"==typeof t?t:gc(!!t),e):v},e.extent=function(t){return arguments.length?(_="function"==typeof t?t:gc([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):_},e.scaleExtent=function(t){return arguments.length?(y=+t[0],b=+t[1],e):[y,b]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],w=+t[1][0],T=+t[0][1],E=+t[1][1],e):[[x,T],[w,E]]},e.duration=function(t){return arguments.length?(C=+t,e):C},e.on=function(){var t=L.on.apply(L,arguments);return t===L?e:t},e}function Sc(t){return function(){return t}}function Lc(t,e,n){this.target=t,this.type=e,this.selection=n}function Pc(){t.event.stopImmediatePropagation()}function Mc(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Ac(t){return{type:t}}function kc(){return!t.event.button}function Dc(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Oc(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Rc(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Nc(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ic(){return Uc(lb)}function Bc(){return Uc(hb)}function Fc(){return Uc(cb)}function Uc(e){function n(t){var n=t.property("__brush",a).selectAll(".overlay").data([Ac("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fb.overlay).merge(n).each(function(){var t=Oc(this).extent;Na(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ac("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fb.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return fb[t.type]}),t.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",s)}function i(){var t=Na(this),e=Oc(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function s(){function n(){var t=ds(E);!I||w||T||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?T=!0:w=!0),F=t,x=!0,Mc(),o()}function o(){var t;switch(y=F[0]-B[0],b=F[1]-B[1],S){case sb:case ob:L&&(y=Math.max(D-c,Math.min(R-m,y)),f=c+y,g=m+y),P&&(b=Math.max(O-p,Math.min(N-v,b)),d=p+b,_=v+b);break;case ab:0>L?(y=Math.max(D-c,Math.min(R-c,y)),f=c+y,g=m):L>0&&(y=Math.max(D-m,Math.min(R-m,y)),f=c,g=m+y),0>P?(b=Math.max(O-p,Math.min(N-p,b)),d=p+b,_=v):P>0&&(b=Math.max(O-v,Math.min(N-v,b)),d=p,_=v+b);break;case ub:L&&(f=Math.max(D,Math.min(R,c-y*L)),g=Math.max(D,Math.min(R,m+y*L))),P&&(d=Math.max(O,Math.min(N,p-b*P)),_=Math.max(O,Math.min(N,v+b*P)))}f>g&&(L*=-1,t=c,c=m,m=t,t=f,f=g,g=t,C in pb&&z.attr("cursor",fb[C=pb[C]])),d>_&&(P*=-1,t=p,p=v,v=t,t=d,d=_,_=t,C in db&&z.attr("cursor",fb[C=db[C]])),k=M.selection,w&&(f=k[0][0],g=k[1][0]),T&&(d=k[0][1],_=k[1][1]),(k[0][0]!==f||k[0][1]!==d||k[1][0]!==g||k[1][1]!==_)&&(M.selection=[[f,d],[g,_]],i.call(E),U.brush())}function s(){if(Pc(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),j.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Mh(t.event.view,x),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),z.attr("cursor",fb.overlay),Rc(k)&&(M.selection=null,i.call(E)),U.end()}function a(){switch(t.event.keyCode){case 16:I=L&&P;break;case 18:S===ab&&(L&&(m=g-y*L,c=f+y*L),P&&(v=_-b*P,p=d+b*P),S=ub,o());break;case 32:(S===ab||S===ub)&&(0>L?m=g-y:L>0&&(c=f-y),0>P?v=_-b:P>0&&(p=d-b),S=sb,z.attr("cursor",fb.selection),o());break;default:return}Mc()}function l(){switch(t.event.keyCode){case 16:I&&(w=T=I=!1,o());break;case 18:S===ub&&(0>L?m=g:L>0&&(c=f),0>P?v=_:P>0&&(p=d),S=ab,o());break;case 32:S===sb&&(t.event.altKey?(L&&(m=g-y*L,c=f+y*L),P&&(v=_-b*P,p=d+b*P),S=ub):(0>L?m=g:L>0&&(c=f),0>P?v=_:P>0&&(p=d),S=ab),z.attr("cursor",fb[C]),o());break;default:return}Mc()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return Mc()}else if(u)return;if(h.apply(this,arguments)){var c,f,p,d,m,g,v,_,y,b,x,w,T,E=this,C=t.event.target.__data__.type,S="selection"===(t.event.metaKey?C="overlay":C)?ob:t.event.altKey?ub:ab,L=e===hb?null:mb[C],P=e===lb?null:gb[C],M=Oc(E),A=M.extent,k=M.selection,D=A[0][0],O=A[0][1],R=A[1][0],N=A[1][1],I=L&&P&&t.event.shiftKey,B=ds(E),F=B,U=r(E,arguments).beforestart();"overlay"===C?M.selection=k=[[c=e===hb?D:B[0],p=e===lb?O:B[1]],[m=e===hb?R:c,v=e===lb?N:p]]:(c=k[0][0],p=k[0][1],m=k[1][0],v=k[1][1]),f=c,d=p,g=m,_=v;var j=Na(E).attr("pointer-events","none"),z=j.selectAll(".overlay").attr("cursor",fb[C]);if(t.event.touches)j.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",s,!0);else{var H=Na(t.event.view).on("keydown.brush",a,!0).on("keyup.brush",l,!0).on("mousemove.brush",n,!0).on("mouseup.brush",s,!0);Ph(t.event.view)}Pc(),Wa(E),i.call(E),U.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=l.apply(this,arguments),t.dim=e,t}var u,l=Dc,h=kc,c=Ti(n,"start","brush","end"),f=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function t(t){s.selection=1===t&&Rc(l)?null:h(t),i.call(o),a.brush()}var o=this,s=o.__brush,a=r(o,arguments),u=s.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,s.extent),h=ui(u,l);return u&&l?t:t(1)}):t.each(function(){var t=this,o=arguments,s=t.__brush,a=e.input("function"==typeof n?n.apply(t,o):n,s.extent),u=r(t,o).beforestart();Wa(t),s.selection=null==a||Rc(a)?null:a,i.call(t),u.start().brush().end()})},o.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){cs(new Lc(n,t,e.output(this.state.selection)),c.apply,c,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(l="function"==typeof t?t:Sc([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):l},n.filter=function(t){return arguments.length?(h="function"==typeof t?t:Sc(!!t),n):h},n.handleSize=function(t){return arguments.length?(f=+t,n):f},n.on=function(){var t=c.on.apply(c,arguments);return t===c?n:t},n}function jc(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function zc(){function t(t){var o,s,a,u,l,h,f=t.length,p=[],d=c(f),m=[],g=[],v=g.groups=new Array(f),_=new Array(f*f);for(o=0,l=-1;++l<f;){for(s=0,h=-1;++h<f;)s+=t[l][h];p.push(s),m.push(c(f)),o+=s}for(n&&d.sort(function(t,e){return n(p[t],p[e])}),i&&m.forEach(function(e,n){e.sort(function(e,r){return i(t[n][e],t[n][r])})}),o=wb(0,xb-e*f)/o,u=o?e:xb/f,s=0,l=-1;++l<f;){for(a=s,h=-1;++h<f;){var y=d[l],b=m[y][h],x=t[y][b],w=s,T=s+=x*o;_[b*f+y]={index:y,subindex:b,startAngle:w,endAngle:T,value:x}}v[y]={index:y,startAngle:a,endAngle:s,value:p[y]},s+=u}for(l=-1;++l<f;)for(h=l-1;++h<f;){var E=_[h*f+l],C=_[l*f+h];(E.value||C.value)&&g.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}return r?g.sort(r):g}var e=0,n=null,i=null,r=null;return t.padAngle=function(n){return arguments.length?(e=wb(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(i=e,t):i},t.sortChords=function(e){return arguments.length?(null==e?r=null:(r=jc(e))._=e,t):r&&r._},t}function Hc(t){return function(){return t}}function $c(t){return t.source}function Wc(t){return t.target}function qc(t){return t.radius}function Gc(t){return t.startAngle}function Vc(t){return t.endAngle}function Zc(){function t(){var t,a=Tb.call(arguments),u=e.apply(this,a),l=n.apply(this,a),h=+i.apply(this,(a[0]=u,a)),c=r.apply(this,a)-bb,f=o.apply(this,a)-bb,p=h*vb(c),d=h*_b(c),m=+i.apply(this,(a[0]=l,a)),g=r.apply(this,a)-bb,v=o.apply(this,a)-bb;return s||(s=t=Et()),s.moveTo(p,d),s.arc(0,0,h,c,f),(c!==g||f!==v)&&(s.quadraticCurveTo(0,0,m*vb(g),m*_b(g)),s.arc(0,0,m,g,v)),s.quadraticCurveTo(0,0,p,d),s.closePath(),t?(s=null,t+""||null):void 0}var e=$c,n=Wc,i=qc,r=Gc,o=Vc,s=null;return t.radius=function(e){return arguments.length?(i="function"==typeof e?e:Hc(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Hc(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Hc(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(s=null==e?null:e,t):s},t}function Xc(){return new Yc}function Yc(){this.reset()}function Jc(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Kc(t){return t>1?0:-1>t?rx:Math.acos(t)}function Qc(t){return t>1?ox:-1>t?-ox:Math.asin(t)}function tf(t){return(t=_x(t/2))*t}function ef(){}function nf(t,e){t&&Tx.hasOwnProperty(t.type)&&Tx[t.type](t,e)}function rf(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function of(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)rf(t[n],e,1);e.polygonEnd()}function sf(t,e){t&&wx.hasOwnProperty(t.type)?wx[t.type](t,e):nf(t,e)}function af(){Sx.point=lf}function uf(){hf(Eb,Cb)}function lf(t,e){Sx.point=hf,Eb=t,Cb=e,t*=lx,e*=lx,Sb=t,Lb=px(e=e/2+sx),Pb=_x(e)}function hf(t,e){t*=lx,e*=lx,e=e/2+sx;var n=t-Sb,i=n>=0?1:-1,r=i*n,o=px(e),s=_x(e),a=Pb*s,u=Lb*o+a*px(r),l=a*i*_x(r);Ex.add(fx(l,u)),Sb=t,Lb=o,Pb=s}function cf(t){return Cx.reset(),sf(t,Sx),2*Cx}function ff(t){return[fx(t[1],t[0]),Qc(t[2])]}function pf(t){var e=t[0],n=t[1],i=px(n);return[i*px(e),i*_x(e),_x(n)]}function df(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function mf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function gf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function vf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _f(t){var e=bx(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function yf(t,e){Bb.push(Fb=[Mb=t,kb=t]),Ab>e&&(Ab=e),e>Db&&(Db=e)}function bf(t,e){var n=pf([t*lx,e*lx]);if(Ib){var i=mf(Ib,n),r=[i[1],-i[0],0],o=mf(r,i);_f(o),o=ff(o);var s,a=t-Ob,u=a>0?1:-1,l=o[0]*ux*u,h=hx(a)>180;h^(l>u*Ob&&u*t>l)?(s=o[1]*ux,s>Db&&(Db=s)):(l=(l+360)%360-180,h^(l>u*Ob&&u*t>l)?(s=-o[1]*ux,Ab>s&&(Ab=s)):(Ab>e&&(Ab=e),e>Db&&(Db=e))),h?Ob>t?Sf(Mb,t)>Sf(Mb,kb)&&(kb=t):Sf(t,kb)>Sf(Mb,kb)&&(Mb=t):kb>=Mb?(Mb>t&&(Mb=t),t>kb&&(kb=t)):t>Ob?Sf(Mb,t)>Sf(Mb,kb)&&(kb=t):Sf(t,kb)>Sf(Mb,kb)&&(Mb=t)}else yf(t,e);Ib=n,Ob=t}function xf(){Px.point=bf}function wf(){Fb[0]=Mb,Fb[1]=kb,Px.point=yf,Ib=null}function Tf(t,e){if(Ib){var n=t-Ob;Lx.add(hx(n)>180?n+(n>0?360:-360):n)}else Rb=t,Nb=e;Sx.point(t,e),bf(t,e)}function Ef(){Sx.lineStart()}function Cf(){Tf(Rb,Nb),Sx.lineEnd(),hx(Lx)>nx&&(Mb=-(kb=180)),Fb[0]=Mb,Fb[1]=kb,Ib=null}function Sf(t,e){return(e-=t)<0?e+360:e}function Lf(t,e){return t[0]-e[0]}function Pf(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Mf(t){var e,n,i,r,o,s,a;if(Db=kb=-(Mb=Ab=1/0),Bb=[],sf(t,Px),n=Bb.length){for(Bb.sort(Lf),e=1,i=Bb[0],o=[i];n>e;++e)r=Bb[e],Pf(i,r[0])||Pf(i,r[1])?(Sf(i[0],r[1])>Sf(i[0],i[1])&&(i[1]=r[1]),Sf(r[0],i[1])>Sf(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-(1/0),n=o.length-1,e=0,i=o[n];n>=e;i=r,++e)r=o[e],(a=Sf(i[1],r[0]))>s&&(s=a,Mb=r[0],kb=i[1])}return Bb=Fb=null,Mb===1/0||Ab===1/0?[[NaN,NaN],[NaN,NaN]]:[[Mb,Ab],[kb,Db]]}function Af(t,e){t*=lx,e*=lx;var n=px(e);kf(n*px(t),n*_x(t),_x(e))}function kf(t,e,n){++Ub,zb+=(t-zb)/Ub,Hb+=(e-Hb)/Ub,$b+=(n-$b)/Ub}function Df(){Mx.point=Of}function Of(t,e){t*=lx,e*=lx;var n=px(e);Kb=n*px(t),Qb=n*_x(t),tx=_x(e),Mx.point=Rf,kf(Kb,Qb,tx)}function Rf(t,e){t*=lx,e*=lx;var n=px(e),i=n*px(t),r=n*_x(t),o=_x(e),s=fx(bx((s=Qb*o-tx*r)*s+(s=tx*i-Kb*o)*s+(s=Kb*r-Qb*i)*s),Kb*i+Qb*r+tx*o);jb+=s,Wb+=s*(Kb+(Kb=i)),qb+=s*(Qb+(Qb=r)),Gb+=s*(tx+(tx=o)),kf(Kb,Qb,tx)}function Nf(){Mx.point=Af}function If(){Mx.point=Ff}function Bf(){Uf(Yb,Jb),Mx.point=Af}function Ff(t,e){Yb=t,Jb=e,t*=lx,e*=lx,Mx.point=Uf;var n=px(e);Kb=n*px(t),Qb=n*_x(t),tx=_x(e),kf(Kb,Qb,tx)}function Uf(t,e){t*=lx,e*=lx;var n=px(e),i=n*px(t),r=n*_x(t),o=_x(e),s=Qb*o-tx*r,a=tx*i-Kb*o,u=Kb*r-Qb*i,l=bx(s*s+a*a+u*u),h=Kb*i+Qb*r+tx*o,c=l&&-Kc(h)/l,f=fx(l,h);Vb+=c*s,Zb+=c*a,Xb+=c*u,jb+=f,Wb+=f*(Kb+(Kb=i)),qb+=f*(Qb+(Qb=r)),Gb+=f*(tx+(tx=o)),kf(Kb,Qb,tx)}function jf(t){Ub=jb=zb=Hb=$b=Wb=qb=Gb=Vb=Zb=Xb=0,sf(t,Mx);var e=Vb,n=Zb,i=Xb,r=e*e+n*n+i*i;return ix>r&&(e=Wb,n=qb,i=Gb,nx>jb&&(e=zb,n=Hb,i=$b),r=e*e+n*n+i*i,ix>r)?[NaN,NaN]:[fx(n,e)*ux,Qc(i/bx(r))*ux]}function zf(t){return function(){return t}}function Hf(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function $f(t,e){return[t>rx?t-ax:-rx>t?t+ax:t,e]}function Wf(t,e,n){return(t%=ax)?e||n?Hf(Gf(t),Vf(e,n)):Gf(t):e||n?Vf(e,n):$f}function qf(t){return function(e,n){return e+=t,[e>rx?e-ax:-rx>e?e+ax:e,n]}}function Gf(t){var e=qf(t);return e.invert=qf(-t),e}function Vf(t,e){function n(t,e){var n=px(e),a=px(t)*n,u=_x(t)*n,l=_x(e),h=l*i+a*r;return[fx(u*o-h*s,a*i-l*r),Qc(h*o+u*s)]}var i=px(t),r=_x(t),o=px(e),s=_x(e);return n.invert=function(t,e){var n=px(e),a=px(t)*n,u=_x(t)*n,l=_x(e),h=l*o-u*s;return[fx(u*o+l*s,a*i+h*r),Qc(h*i-a*r)]},n}function Zf(t){function e(e){return e=t(e[0]*lx,e[1]*lx),e[0]*=ux,e[1]*=ux,e}return t=Wf(t[0]*lx,t[1]*lx,t.length>2?t[2]*lx:0),e.invert=function(e){return e=t.invert(e[0]*lx,e[1]*lx),e[0]*=ux,e[1]*=ux,e},e}function Xf(t,e,n,i,r,o){if(n){var s=px(e),a=_x(e),u=i*n;null==r?(r=e+i*ax,o=e-u/2):(r=Yf(s,r),o=Yf(s,o),(i>0?o>r:r>o)&&(r+=i*ax));for(var l,h=r;i>0?h>o:o>h;h-=u)l=ff([s,-a*px(h),-a*_x(h)]),t.point(l[0],l[1])}}function Yf(t,e){e=pf(e),e[0]-=t,_f(e);var n=Kc(-e[1]);return((-e[2]<0?-n:n)+ax-nx)%ax}function Jf(){function t(t,e){n.push(t=i(t,e)),t[0]*=ux,t[1]*=ux}function e(){var t=r.apply(this,arguments),e=o.apply(this,arguments)*lx,u=s.apply(this,arguments)*lx;return n=[],i=Wf(-t[0]*lx,-t[1]*lx,0).invert,Xf(a,e,u,1),t={type:"Polygon",coordinates:[n]},n=i=null,t}var n,i,r=zf([0,0]),o=zf(90),s=zf(6),a={point:t};return e.center=function(t){return arguments.length?(r="function"==typeof t?t:zf([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:zf(+t),e):o},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:zf(+t),e):s},e}function Kf(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ef,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Qf(t,e,n,i,r,o){var s,a=t[0],u=t[1],l=e[0],h=e[1],c=0,f=1,p=l-a,d=h-u;if(s=n-a,p||!(s>0)){if(s/=p,0>p){if(c>s)return;f>s&&(f=s)}else if(p>0){if(s>f)return;s>c&&(c=s)}if(s=r-a,p||!(0>s)){if(s/=p,0>p){if(s>f)return;s>c&&(c=s)}else if(p>0){if(c>s)return;f>s&&(f=s)}if(s=i-u,d||!(s>0)){if(s/=d,0>d){if(c>s)return;f>s&&(f=s)}else if(d>0){if(s>f)return;s>c&&(c=s)}if(s=o-u,d||!(0>s)){if(s/=d,0>d){if(s>f)return;s>c&&(c=s)}else if(d>0){if(c>s)return;f>s&&(f=s)}return c>0&&(t[0]=a+c*p,t[1]=u+c*d),1>f&&(e[0]=a+f*p,e[1]=u+f*d),!0}}}}}function tp(t,e){return hx(t[0]-e[0])<nx&&hx(t[1]-e[1])<nx}function ep(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function np(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(tp(i,s)){for(r.lineStart(),o=0;e>o;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a.push(n=new ep(i,t,null,!0)),u.push(n.o=new ep(i,null,n,!1)),a.push(n=new ep(s,t,null,!1)),u.push(n.o=new ep(s,null,n,!0))}}),a.length){for(u.sort(e),ip(a),ip(u),o=0,s=u.length;s>o;++o)u[o].e=n=!n;for(var l,h,c=a[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;s>o;++o)r.point((h=l[o])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)r.point((h=l[o])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,l=f.z,p=!p}while(!f.v);r.lineEnd()}}}function ip(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function rp(t,e,n,i){function r(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function o(r,o,a,l){var h=0,c=0;if(null==r||(h=s(r,a))!==(c=s(o,a))||u(r,o)<0^a>0){do l.point(0===h||3===h?t:n,h>1?i:e);while((h=(h+a+4)%4)!==c)}else l.point(o[0],o[1])}function s(i,r){return hx(i[0]-t)<nx?r>0?0:3:hx(i[0]-n)<nx?r>0?2:1:hx(i[1]-e)<nx?r>0?1:0:r>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){r(t,e)&&L.point(t,e)}function l(){for(var e=0,n=0,r=g.length;r>n;++n)for(var o,s,a=g[n],u=1,l=a.length,h=a[0],c=h[0],f=h[1];l>u;++u)o=c,s=f,h=a[u],c=h[0],f=h[1],i>=s?f>i&&(c-o)*(i-s)>(f-s)*(t-o)&&++e:i>=f&&(f-s)*(t-o)>(c-o)*(i-s)&&--e;return e}function h(){L=P,m=[],g=[],S=!0}function c(){var t=l(),e=S&&t,n=(m=w(m)).length;(e||n)&&(s.polygonStart(),e&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),n&&np(m,a,t,o,s),s.polygonEnd()),L=s,m=g=v=null}function f(){M.point=d,g&&g.push(v=[]),C=!0,E=!1,x=T=NaN}function p(){m&&(d(_,y),b&&E&&P.rejoin(),m.push(P.result())),M.point=u,E&&L.lineEnd()}function d(o,s){var a=r(o,s);if(g&&v.push([o,s]),C)_=o,y=s,b=a,C=!1,a&&(L.lineStart(),L.point(o,s));else if(a&&E)L.point(o,s);else{var u=[x=Math.max(Hx,Math.min(zx,x)),T=Math.max(Hx,Math.min(zx,T))],l=[o=Math.max(Hx,Math.min(zx,o)),s=Math.max(Hx,Math.min(zx,s))];Qf(u,l,t,e,n,i)?(E||(L.lineStart(),L.point(u[0],u[1])),L.point(l[0],l[1]),a||L.lineEnd(),S=!1):a&&(L.lineStart(),L.point(o,s),S=!1)}x=o,T=s,E=a}var m,g,v,_,y,b,x,T,E,C,S,L=s,P=Kf(),M={point:u,lineStart:f,lineEnd:p,polygonStart:h,polygonEnd:c};return M}}function op(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=rp(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}}function sp(){Wx.point=up,Wx.lineEnd=ap}function ap(){Wx.point=Wx.lineEnd=ef}function up(t,e){t*=lx,e*=lx,Ax=t,kx=_x(e),Dx=px(e),Wx.point=lp}function lp(t,e){t*=lx,e*=lx;var n=_x(e),i=px(e),r=hx(t-Ax),o=px(r),s=_x(r),a=i*s,u=Dx*n-kx*i*o,l=kx*n+Dx*i*o;$x.add(fx(bx(a*a+u*u),l)),Ax=t,kx=n,Dx=i}function hp(t){return $x.reset(),sf(t,Wx),+$x}function cp(t,e){return qx[0]=t,qx[1]=e,hp(Gx)}function fp(t,e,n){var i=c(t,e-nx,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function pp(t,e,n){var i=c(t,e-nx,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function dp(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return c(dx(o/v)*v,r,v).map(p).concat(c(dx(l/_)*_,u,_).map(d)).concat(c(dx(i/m)*m,n,m).filter(function(t){return hx(t%v)>nx}).map(h)).concat(c(dx(a/g)*g,s,g).filter(function(t){return hx(t%_)>nx}).map(f))}var n,i,r,o,s,a,u,l,h,f,p,d,m=10,g=m,v=90,_=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(u).slice(1),p(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[r,u]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],_=+e[1],t):[v,_]},t.stepMinor=function(e){return arguments.length?(m=+e[0],g=+e[1],t):[m,g]},t.precision=function(e){return arguments.length?(y=+e,h=fp(a,s,90),f=pp(i,n,y),p=fp(l,u,90),d=pp(o,r,y),t):y},t.extentMajor([[-180,-90+nx],[180,90-nx]]).extentMinor([[-180,-80-nx],[180,80+nx]])}function mp(t,e){var n=t[0]*lx,i=t[1]*lx,r=e[0]*lx,o=e[1]*lx,s=px(i),a=_x(i),u=px(o),l=_x(o),h=s*px(n),c=s*_x(n),f=u*px(r),p=u*_x(r),d=2*Qc(bx(tf(o-i)+s*u*tf(r-n))),m=_x(d),g=d?function(t){var e=_x(t*=d)/m,n=_x(d-t)/m,i=n*h+e*f,r=n*c+e*p,o=n*a+e*l;return[fx(r,i)*ux,fx(o,bx(i*i+r*r))*ux]}:function(){return[n*ux,i*ux]};return g.distance=d,g}function gp(t){return t}function vp(){Xx.point=_p}function _p(t,e){Xx.point=yp,Ox=Nx=t,Rx=Ix=e}function yp(t,e){Zx.add(Ix*t-Nx*e),Nx=t,Ix=e}function bp(){yp(Ox,Rx)}function xp(t,e){Yx>t&&(Yx=t),t>Kx&&(Kx=t),Jx>e&&(Jx=e),e>Qx&&(Qx=e)}function wp(t,e){ew+=t,nw+=e,++iw}function Tp(){hw.point=Ep}function Ep(t,e){hw.point=Cp,wp(Ux=t,jx=e)}function Cp(t,e){var n=t-Ux,i=e-jx,r=bx(n*n+i*i);rw+=r*(Ux+t)/2,ow+=r*(jx+e)/2,sw+=r,wp(Ux=t,jx=e)}function Sp(){hw.point=wp}function Lp(){hw.point=Mp}function Pp(){Ap(Bx,Fx)}function Mp(t,e){hw.point=Ap,wp(Bx=Ux=t,Fx=jx=e)}function Ap(t,e){var n=t-Ux,i=e-jx,r=bx(n*n+i*i);rw+=r*(Ux+t)/2,ow+=r*(jx+e)/2,sw+=r,r=jx*t-Ux*e,aw+=r*(Ux+t),uw+=r*(jx+e),lw+=3*r,wp(Ux=t,jx=e)}function kp(t){function e(e,n){t.moveTo(e+s,n),t.arc(e,n,s,0,ax)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:ef};return a}function Dp(){function t(t,e){a.push("M",t,",",e,s)}function e(t,e){a.push("M",t,",",e),u.point=n}function n(t,e){a.push("L",t,",",e)}function i(){u.point=e}function r(){u.point=t}function o(){a.push("Z")}var s=Op(4.5),a=[],u={point:t,lineStart:i,lineEnd:r,polygonStart:function(){u.lineEnd=o},polygonEnd:function(){u.lineEnd=r,u.point=t},pointRadius:function(t){return s=Op(t),u},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return u}function Op(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Rp(){function t(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),sf(t,n(r))),r.result()}var e,n,i,r,o=4.5;return t.area=function(t){return sf(t,n(Xx)),Xx.result()},t.bounds=function(t){return sf(t,n(tw)),tw.result()},t.centroid=function(t){return sf(t,n(hw)),hw.result()},t.projection=function(i){return arguments.length?(n=null==(e=i)?gp:i.stream,t):e},t.context=function(e){return arguments.length?(r=null==(i=e)?new Dp:new kp(e),"function"!=typeof o&&r.pointRadius(o),t):i},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),t):o},t.projection(null).context(null)}function Np(t,e){var n=e[0],i=e[1],r=[_x(n),-px(n),0],o=0,s=0;cw.reset();for(var a=0,u=t.length;u>a;++a)if(h=(l=t[a]).length)for(var l,h,c=l[h-1],f=c[0],p=c[1]/2+sx,d=_x(p),m=px(p),g=0;h>g;++g,f=_,d=b,m=x,c=v){var v=l[g],_=v[0],y=v[1]/2+sx,b=_x(y),x=px(y),w=_-f,T=w>=0?1:-1,E=T*w,C=E>rx,S=d*b;if(cw.add(fx(S*T*_x(E),m*x+S*px(E))),o+=C?w+T*ax:w,C^f>=n^_>=n){var L=mf(pf(c),pf(v));_f(L);var P=mf(r,L);_f(P);var M=(C^w>=0?-1:1)*Qc(P[2]);(i>M||i===M&&(L[0]||L[1]))&&(s+=C^w>=0?1:-1)}}return(-nx>o||nx>o&&-nx>cw)^1&s}function Ip(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);g.point(n[0],n[1])}function u(){x.point=a,g.lineStart()}function l(){x.point=s,g.lineEnd()}function h(t,e){m.push([t,e]);var n=r(t,e);y.point(n[0],n[1])}function c(){y.lineStart(),m=[]}function f(){h(m[0][0],m[0][1]),y.lineEnd();var t,e,n,i,r=y.clean(),s=_.result(),a=s.length;if(m.pop(),p.push(m),m=null,a)if(1&r){if(n=s[0],(e=n.length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;e>t;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else a>1&&2&r&&s.push(s.pop().concat(s.shift())),d.push(s.filter(Bp))}var p,d,m,g=e(o),v=r.invert(i[0],i[1]),_=Kf(),y=e(_),b=!1,x={point:s,lineStart:u,lineEnd:l,polygonStart:function(){x.point=h,x.lineStart=c,x.lineEnd=f,d=[],p=[]},polygonEnd:function(){x.point=s,x.lineStart=u,x.lineEnd=l,d=w(d);var t=Np(p,v);d.length?(b||(o.polygonStart(),b=!0),np(d,Fp,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}function Bp(t){return t.length>1;
}function Fp(t,e){return((t=t.x)[0]<0?t[1]-ox-nx:ox-t[1])-((e=e.x)[0]<0?e[1]-ox-nx:ox-e[1])}function Up(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?rx:-rx,u=hx(o-n);hx(u-rx)<nx?(t.point(n,i=(i+s)/2>0?ox:-ox),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&u>=rx&&(hx(n-r)<nx&&(n-=r*nx),hx(o-a)<nx&&(o-=a*nx),i=jp(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function jp(t,e,n,i){var r,o,s=_x(t-n);return hx(s)>nx?cx((_x(e)*(o=px(i))*_x(n)-_x(i)*(r=px(e))*_x(t))/(r*o*s)):(e+i)/2}function zp(t,e,n,i){var r;if(null==t)r=n*ox,i.point(-rx,r),i.point(0,r),i.point(rx,r),i.point(rx,0),i.point(rx,-r),i.point(0,-r),i.point(-rx,-r),i.point(-rx,0),i.point(-rx,r);else if(hx(t[0]-e[0])>nx){var o=t[0]<e[0]?rx:-rx;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Hp(t,e){function n(n,i,r,o){Xf(o,t,e,r,n,i)}function i(t,e){return px(t)*px(e)>a}function r(t){var e,n,r,a,h;return{lineStart:function(){a=r=!1,h=1},point:function(c,f){var p,d=[c,f],m=i(c,f),g=u?m?0:s(c,f):m?s(c+(0>c?rx:-rx),f):0;if(!e&&(a=r=m)&&t.lineStart(),m!==r&&(p=o(e,d),(tp(e,p)||tp(d,p))&&(d[0]+=nx,d[1]+=nx,m=i(d[0],d[1]))),m!==r)h=0,m?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(l&&e&&u^m){var v;g&n||!(v=o(d,e,!0))||(h=0,u?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||e&&tp(e,d)||t.point(d[0],d[1]),e=d,r=m,n=g},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return h|(a&&r)<<1}}}function o(t,e,n){var i=pf(t),r=pf(e),o=[1,0,0],s=mf(i,r),u=df(s,s),l=s[0],h=u-l*l;if(!h)return!n&&t;var c=a*u/h,f=-a*l/h,p=mf(o,s),d=vf(o,c),m=vf(s,f);gf(d,m);var g=p,v=df(d,g),_=df(g,g),y=v*v-_*(df(d,d)-1);if(!(0>y)){var b=bx(y),x=vf(g,(-v-b)/_);if(gf(x,d),x=ff(x),!n)return x;var w,T=t[0],E=e[0],C=t[1],S=e[1];T>E&&(w=T,T=E,E=w);var L=E-T,P=hx(L-rx)<nx,M=P||nx>L;if(!P&&C>S&&(w=C,C=S,S=w),M?P?C+S>0^x[1]<(hx(x[0]-T)<nx?C:S):C<=x[1]&&x[1]<=S:L>rx^(T<=x[0]&&x[0]<=E)){var A=vf(g,(-v+b)/_);return gf(A,d),[x,ff(A)]}}}function s(e,n){var i=u?t:rx-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=px(t),u=a>0,l=hx(a)>nx;return Ip(i,r,n,u?[0,-t]:[-rx,t-rx])}function $p(t){return{stream:Wp(t)}}function Wp(t){function e(){}var n=e.prototype=Object.create(qp.prototype);for(var i in t)n[i]=t[i];return function(t){var n=new e;return n.stream=t,n}}function qp(){}function Gp(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),sf(n,t.stream(tw));var s=tw.result(),a=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),u=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(r-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}function Vp(t){return function(e,n){return Gp(t,[[0,0],e],n)}}function Zp(t){return function(e,n){return Gp(t,e,n)}}function Xp(t,e){return+e?Jp(t,e):Yp(t)}function Yp(t){return Wp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Jp(t,e){function n(i,r,o,s,a,u,l,h,c,f,p,d,m,g){var v=l-i,_=h-r,y=v*v+_*_;if(y>4*e&&m--){var b=s+f,x=a+p,w=u+d,T=bx(b*b+x*x+w*w),E=Qc(w/=T),C=hx(hx(w)-1)<nx||hx(o-c)<nx?(o+c)/2:fx(x,b),S=t(C,E),L=S[0],P=S[1],M=L-i,A=P-r,k=_*M-v*A;(k*k/y>e||hx((v*M+_*A)/y-.5)>.3||dw>s*f+a*p+u*d)&&(n(i,r,o,s,a,u,L,P,C,b/=T,x/=T,w,m,g),g.point(L,P),n(L,P,C,b,x,w,l,h,c,f,p,d,m,g))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){v=NaN,w.point=o,e.lineStart()}function o(i,r){var o=pf([i,r]),s=t(i,r);n(v,_,g,y,b,x,v=s[0],_=s[1],g=i,y=o[0],b=o[1],x=o[2],pw,e),e.point(v,_)}function s(){w.point=i,e.lineEnd()}function a(){r(),w.point=u,w.lineEnd=l}function u(t,e){o(h=t,e),c=v,f=_,p=y,d=b,m=x,w.point=o}function l(){n(v,_,g,y,b,x,c,f,h,p,d,m,pw,e),w.lineEnd=s,s()}var h,c,f,p,d,m,g,v,_,y,b,x,w={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),w.lineStart=a},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}function Kp(t){return Qp(function(){return t})()}function Qp(t){function e(t){return t=h(t[0]*lx,t[1]*lx),[t[0]*g+a,u-t[1]*g]}function n(t){return t=h.invert((t[0]-a)/g,(u-t[1])/g),t&&[t[0]*ux,t[1]*ux]}function i(t,e){return t=s(t,e),[t[0]*g+a,u-t[1]*g]}function r(){h=Hf(l=Wf(x,w,T),s);var t=s(y,b);return a=v-t[0]*g,u=_+t[1]*g,o()}function o(){return d=m=null,e}var s,a,u,l,h,c,f,p,d,m,g=150,v=480,_=250,y=0,b=0,x=0,w=0,T=0,E=null,C=fw,S=null,L=gp,P=.5,M=Xp(i,P);return e.stream=function(t){return d&&m===t?d:d=mw(C(l,M(L(m=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?Hp(E=t*lx,6*lx):(E=null,fw),o()):E*ux},e.clipExtent=function(t){return arguments.length?(L=null==t?(S=c=f=p=null,gp):rp(S=+t[0][0],c=+t[0][1],f=+t[1][0],p=+t[1][1]),o()):null==S?null:[[S,c],[f,p]]},e.scale=function(t){return arguments.length?(g=+t,r()):g},e.translate=function(t){return arguments.length?(v=+t[0],_=+t[1],r()):[v,_]},e.center=function(t){return arguments.length?(y=t[0]%360*lx,b=t[1]%360*lx,r()):[y*ux,b*ux]},e.rotate=function(t){return arguments.length?(x=t[0]%360*lx,w=t[1]%360*lx,T=t.length>2?t[2]%360*lx:0,r()):[x*ux,w*ux,T*ux]},e.precision=function(t){return arguments.length?(M=Xp(i,P=t*t),o()):bx(P)},e.fitExtent=Zp(e),e.fitSize=Vp(e),function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,r()}}function td(t){var e=0,n=rx/3,i=Qp(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*lx,n=t[1]*lx):[e*ux,n*ux]},r}function ed(t,e){function n(t,e){var n=bx(o-2*r*_x(e))/r;return[n*_x(t*=r),s-n*px(t)]}var i=_x(t),r=(i+_x(e))/2,o=1+i*(2*r-i),s=bx(o)/r;return n.invert=function(t,e){var n=s-e;return[fx(t,n)/r,Qc((o-(t*t+n*n)*r*r)/(2*r))]},n}function nd(){return td(ed).scale(155.424).center([0,33.6442])}function id(){return nd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rd(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function od(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(r.point(e,n),s)||(o.point(e,n),s)}var e,n,i,r,o,s,a=id(),u=nd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=nd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?u:r>=.166&&.234>r&&i>=-.214&&-.115>i?l:a).invert(t)},t.stream=function(t){return e&&n===t?e:e=rd([a.stream(n=t),u.stream(t),l.stream(t)])},t.precision=function(e){return arguments.length?(a.precision(e),u.precision(e),l.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),u.scale(.35*e),l.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var n=a.scale(),s=+e[0],c=+e[1];return i=a.translate(e).clipExtent([[s-.455*n,c-.238*n],[s+.455*n,c+.238*n]]).stream(h),r=u.translate([s-.307*n,c+.201*n]).clipExtent([[s-.425*n+nx,c+.12*n+nx],[s-.214*n-nx,c+.234*n-nx]]).stream(h),o=l.translate([s-.205*n,c+.212*n]).clipExtent([[s-.214*n+nx,c+.166*n+nx],[s-.115*n-nx,c+.234*n-nx]]).stream(h),t},t.fitExtent=Zp(t),t.fitSize=Vp(t),t.scale(1070)}function sd(t){return function(e,n){var i=px(e),r=px(n),o=t(i*r);return[o*r*_x(e),o*_x(n)]}}function ad(t){return function(e,n){var i=bx(e*e+n*n),r=t(i),o=_x(r),s=px(r);return[fx(e*o,i*s),Qc(i&&n*o/i)]}}function ud(){return Kp(gw).scale(124.75).clipAngle(179.999)}function ld(){return Kp(vw).scale(79.4188).clipAngle(179.999)}function hd(t,e){return[t,gx(xx((ox+e)/2))]}function cd(){return fd(hd).scale(961/ax)}function fd(t){var e,n=Kp(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.translate=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.clipExtent=function(t){if(!arguments.length)return e?null:o();if(e=null==t){var s=rx*i(),a=r();t=[[a[0]-s,a[1]-s],[a[0]+s,a[1]+s]]}return o(t),n},n.clipExtent(null)}function pd(t){return xx((ox+t)/2)}function dd(t,e){function n(t,e){o>0?-ox+nx>e&&(e=-ox+nx):e>ox-nx&&(e=ox-nx);var n=o/vx(pd(e),r);return[n*_x(r*t),o-n*px(r*t)]}var i=px(t),r=t===e?_x(t):gx(i/px(e))/gx(pd(e)/pd(t)),o=i*vx(pd(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=yx(r)*bx(t*t+n*n);return[fx(t,n)/r,2*cx(vx(o/i,1/r))-ox]},n):hd}function md(){return td(dd).scale(109.5).parallels([30,30])}function gd(t,e){return[t,e]}function vd(){return Kp(gd).scale(152.63)}function _d(t,e){function n(t,e){var n=o-e,i=r*t;return[n*_x(i),o-n*px(i)]}var i=px(t),r=t===e?_x(t):(i-px(e))/(e-t),o=i/r+t;return hx(r)<nx?gd:(n.invert=function(t,e){var n=o-e;return[fx(t,n)/r,o-yx(r)*bx(t*t+n*n)]},n)}function yd(){return td(_d).scale(131.154).center([0,13.9389])}function bd(t,e){var n=px(e),i=px(t)*n;return[n*_x(t)/i,_x(e)/i]}function xd(){return Kp(bd).scale(144.049).clipAngle(60)}function wd(t,e){return[px(e)*_x(t),_x(e)]}function Td(){return Kp(wd).scale(249.5).clipAngle(90+nx)}function Ed(t,e){var n=px(e),i=1+px(t)*n;return[n*_x(t)/i,_x(e)/i]}function Cd(){return Kp(Ed).scale(250).clipAngle(142)}function Sd(t,e){return[gx(xx((ox+e)/2)),-t]}function Ld(){var t=fd(Sd),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}var Pd="4.2.2",Md=n(e),Ad=Md.right,kd=Md.left,Dd=Array.prototype,Od=Dd.slice,Rd=Dd.map,Nd=Math.sqrt(50),Id=Math.sqrt(10),Bd=Math.sqrt(2),Fd="$";D.prototype=O.prototype={constructor:D,has:function(t){return Fd+t in this},get:function(t){return this[Fd+t]},set:function(t,e){return this[Fd+t]=e,this},remove:function(t){var e=Fd+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Fd&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Fd&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Fd&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Fd&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Fd&&++t;return t},empty:function(){for(var t in this)if(t[0]===Fd)return!1;return!0},each:function(t){for(var e in this)e[0]===Fd&&t(this[e],e.slice(1),this)}};var Ud=O.prototype;U.prototype=j.prototype={constructor:U,has:Ud.has,add:function(t){return t+="",this[Fd+t]=t,this},remove:Ud.remove,clear:Ud.clear,values:Ud.keys,size:Ud.size,empty:Ud.empty,each:Ud.each};var jd=3,zd=function _w(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=_w,e}(jd),Hd=function yw(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=yw,e}(jd),$d=function bw(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=bw,e}(jd),Wd=Math.PI,qd=Wd/2,Gd=4/11,Vd=6/11,Zd=8/11,Xd=.75,Yd=9/11,Jd=10/11,Kd=.9375,Qd=21/22,tm=63/64,em=1/Gd/Gd,nm=1.70158,im=function xw(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=xw,e}(nm),rm=function ww(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=ww,e}(nm),om=function Tw(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=Tw,e}(nm),sm=2*Math.PI,am=1,um=.3,lm=function Ew(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((i-n)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=sm);return n.amplitude=function(t){return Ew(t,e*sm)},n.period=function(e){return Ew(t,e)},n}(am,um),hm=function Cw(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=sm);return n.amplitude=function(t){return Cw(t,e*sm)},n.period=function(e){return Cw(t,e)},n}(am,um),cm=function Sw(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((i-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((i+n)/e))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=sm);return n.amplitude=function(t){return Sw(t,e*sm)},n.period=function(e){return Sw(t,e)},n}(am,um),fm=Math.PI,pm=2*fm,dm=1e-6,mm=pm-dm;Tt.prototype=Et.prototype={constructor:Tt,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._.push("C",+t,",",+e,",",+n,",",+i,",",this._x1=+r,",",this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,u=i-e,l=o-t,h=s-e,c=l*l+h*h;if(0>r)throw new Error("negative radius: "+r);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(c>dm)if(Math.abs(h*a-u*l)>dm&&r){var f=n-o,p=i-s,d=a*a+u*u,m=f*f+p*p,g=Math.sqrt(d),v=Math.sqrt(c),_=r*Math.tan((fm-Math.acos((d+c-m)/(2*g*v)))/2),y=_/v,b=_/g;Math.abs(y-1)>dm&&this._.push("L",t+y*l,",",e+y*h),this._.push("A",r,",",r,",0,0,",+(h*f>l*p),",",this._x1=t+b*a,",",this._y1=e+b*u)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n;var s=n*Math.cos(i),a=n*Math.sin(i),u=t+s,l=e+a,h=1^o,c=o?i-r:r-i;if(0>n)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",u,",",l):(Math.abs(this._x1-u)>dm||Math.abs(this._y1-l)>dm)&&this._.push("L",u,",",l),n&&(c>mm?this._.push("A",n,",",n,",0,1,",h,",",t-s,",",e-a,"A",n,",",n,",0,1,",h,",",this._x1=u,",",this._y1=l):(0>c&&(c=c%pm+pm),this._.push("A",n,",",n,",0,",+(c>=fm),",",h,",",this._x1=t+n*Math.cos(r),",",this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+i,"h",-n,"Z")},toString:function(){return this._.join("")}};var gm=$t.prototype=Wt.prototype;gm.copy=function(){var t,e,n=new Wt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=qt(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;4>r;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=qt(e));return n},gm.add=Ct,gm.addAll=Lt,gm.cover=Pt,gm.data=Mt,gm.extent=At,gm.find=Dt,gm.remove=Ot,gm.removeAll=Rt,gm.root=Nt,gm.size=It,gm.visit=Bt,gm.visitAfter=Ft,gm.x=jt,gm.y=Ht;var vm=[].slice,_m={};Gt.prototype=Kt.prototype={constructor:Gt,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=vm.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),Vt(this),this},abort:function(){return null==this._error&&Yt(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},Jt(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,Jt(this),this}};var ym=1e-12,bm=Math.PI,xm=bm/2,wm=2*bm;le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Tm=ye(he);_e.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Em={draw:function(t,e){var n=Math.sqrt(e/bm);t.moveTo(n,0),t.arc(0,0,n,0,wm)}},Cm={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Sm=Math.sqrt(1/3),Lm=2*Sm,Pm={draw:function(t,e){var n=Math.sqrt(e/Lm),i=n*Sm;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Mm=.8908130915292852,Am=Math.sin(bm/10)/Math.sin(7*bm/10),km=Math.sin(wm/10)*Am,Dm=-Math.cos(wm/10)*Am,Om={draw:function(t,e){var n=Math.sqrt(e*Mm),i=km*n,r=Dm*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;5>o;++o){var s=wm*o/5,a=Math.cos(s),u=Math.sin(s);t.lineTo(u*n,-a*n),t.lineTo(a*i-u*r,u*i+a*r)}t.closePath()}},Rm={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Nm=Math.sqrt(3),Im={draw:function(t,e){var n=-Math.sqrt(e/(3*Nm));t.moveTo(0,2*n),t.lineTo(-Nm*n,-n),t.lineTo(Nm*n,-n),t.closePath()}},Bm=-.5,Fm=Math.sqrt(3)/2,Um=1/Math.sqrt(12),jm=3*(Um/2+1),zm={draw:function(t,e){var n=Math.sqrt(e/jm),i=n/2,r=n*Um,o=i,s=n*Um+n,a=-o,u=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(Bm*i-Fm*r,Fm*i+Bm*r),t.lineTo(Bm*o-Fm*s,Fm*o+Bm*s),t.lineTo(Bm*a-Fm*u,Fm*a+Bm*u),t.lineTo(Bm*i+Fm*r,Bm*r-Fm*i),t.lineTo(Bm*o+Fm*s,Bm*s-Fm*o),t.lineTo(Bm*a+Fm*u,Bm*u-Fm*a),t.closePath()}},Hm=[Em,Cm,Pm,Rm,Om,Im,zm];Se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ce(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ce(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Pe.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ce(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ce(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},De.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var $m=function Lw(t){function e(e){return 1===t?new Se(e):new De(e,t)}return e.beta=function(t){return Lw(+t)},e}(.85);Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Oe(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Oe(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wm=function Pw(t){function e(e){return new Re(e,t)}return e.tension=function(t){return Pw(+t)},e}(0);Ne.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Oe(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qm=function Mw(t){function e(e){return new Ne(e,t)}return e.tension=function(t){return Mw(+t)},e}(0);Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oe(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Gm=function Aw(t){function e(e){return new Ie(e,t)}return e.tension=function(t){return Aw(+t)},e}(0);Fe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this,this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Be(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Vm=function kw(t){function e(e){return t?new Fe(e,t):new Re(e,0)}return e.alpha=function(t){return kw(+t)},e}(.5);Ue.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Be(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zm=function Dw(t){function e(e){return t?new Ue(e,t):new Ne(e,0)}return e.alpha=function(t){return Dw(+t)},e}(.5);je.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Be(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Xm=function Ow(t){function e(e){return t?new je(e,t):new Ie(e,0)}return e.alpha=function(t){return Ow(+t)},e}(.5);ze.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ge(this,this._t0,qe(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ge(this,qe(this,n=We(this,t,e)),n);break;default:Ge(this,this._t0,n=We(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ze.prototype=Object.create(Ve.prototype)).point=function(t,e){Ve.prototype.point.call(this,e,t)},Xe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Qe(t),r=Qe(e),o=0,s=1;n>s;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ym=Array.prototype.slice,Jm=.7,Km=1/Jm,Qm=/^#([0-9a-f]{3})$/,tg=/^#([0-9a-f]{6})$/,eg=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,ng=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,ig=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,rg=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,og=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,sg=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,ag={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_n(bn,xn,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),_n(Sn,Cn,yn(bn,{brighter:function(t){return t=null==t?Km:Math.pow(Km,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Jm:Math.pow(Jm,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),_n(An,Mn,yn(bn,{brighter:function(t){return t=null==t?Km:Math.pow(Km,t),new An(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jm:Math.pow(Jm,t),new An(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new Sn(kn(t>=240?t-240:t+120,r,i),kn(t,r,i),kn(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ug=Math.PI/180,lg=180/Math.PI,hg=18,cg=.95047,fg=1,pg=1.08883,dg=4/29,mg=6/29,gg=3*mg*mg,vg=mg*mg*mg;_n(Rn,On,yn(bn,{brighter:function(t){return new Rn(this.l+hg*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Rn(this.l-hg*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=fg*In(t),e=cg*In(e),n=pg*In(n),new Sn(Bn(3.2404542*e-1.5371385*t-.4985314*n),Bn(-.969266*e+1.8760108*t+.041556*n),Bn(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),_n(zn,jn,yn(bn,{brighter:function(t){return new zn(this.h,this.c,this.l+hg*(null==t?1:t),this.opacity)},darker:function(t){return new zn(this.h,this.c,this.l-hg*(null==t?1:t),this.opacity)},rgb:function(){return Dn(this).rgb()}}));var _g=-.14861,yg=1.78277,bg=-.29227,xg=-.90649,wg=1.97294,Tg=wg*xg,Eg=wg*yg,Cg=yg*bg-xg*_g;_n(Wn,$n,yn(bn,{brighter:function(t){return t=null==t?Km:Math.pow(Km,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jm:Math.pow(Jm,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ug,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Sn(255*(e+n*(_g*i+yg*r)),255*(e+n*(bg*i+xg*r)),255*(e+n*(wg*i)),this.opacity)}}));var Sg,Lg,Pg,Mg,Ag=function Rw(t){function e(t,e){var i=n((t=Cn(t)).r,(e=Cn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=n(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var n=Kn(t);return e.gamma=Rw,e}(1),kg=ti(Gn),Dg=ti(Vn),Og=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rg=new RegExp(Og.source,"g"),Ng=180/Math.PI,Ig={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bg=pi(ci,"px, ","px)","deg)"),Fg=pi(fi,", ",")",")"),Ug=Math.SQRT2,jg=2,zg=4,Hg=1e-12,$g=_i(Jn),Wg=_i(Qn),qg=bi(Jn),Gg=bi(Qn),Vg=xi(Jn),Zg=xi(Qn),Xg={value:function(){}};Ei.prototype=Ti.prototype={constructor:Ei,on:function(t,e){var n,i=this._,r=Ci(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=Li(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Li(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=Si(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ei(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;n>o;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;o>r;++r)i[r].value.apply(e,n)}};var Yg,Jg,Kg=ki(","),Qg=Kg.parse,tv=Kg.parseRows,ev=Kg.format,nv=Kg.formatRows,iv=ki("	"),rv=iv.parse,ov=iv.parseRows,sv=iv.format,av=iv.formatRows,uv=Ni("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),lv=Ni("application/json",function(t){return JSON.parse(t.responseText)}),hv=Ni("text/plain",function(t){return t.responseText}),cv=Ni("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),fv=Ii("text/csv",Qg),pv=Ii("text/tab-separated-values",rv),dv=0,mv=0,gv=0,vv=1e3,_v=0,yv=0,bv=0,xv="object"==typeof performance&&performance.now?performance:Date,wv="function"==typeof requestAnimationFrame?xv===Date?function(t){requestAnimationFrame(function(){t(xv.now())})}:requestAnimationFrame:function(t){setTimeout(t,17)};ji.prototype=zi.prototype={constructor:ji,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Fi():+n)+(null==e?0:+e),this._next||Jg===this||(Jg?Jg._next=this:Yg=this,Jg=this),this._call=t,this._time=n,Gi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gi())}};var Tv=new Date,Ev=new Date,Cv=Xi(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Cv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Xi(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Cv:null};var Sv=Cv.range,Lv=1e3,Pv=6e4,Mv=36e5,Av=864e5,kv=6048e5,Dv=Xi(function(t){t.setTime(Math.floor(t/Lv)*Lv)},function(t,e){t.setTime(+t+e*Lv)},function(t,e){return(e-t)/Lv},function(t){return t.getUTCSeconds()}),Ov=Dv.range,Rv=Xi(function(t){t.setTime(Math.floor(t/Pv)*Pv)},function(t,e){t.setTime(+t+e*Pv)},function(t,e){return(e-t)/Pv},function(t){return t.getMinutes()}),Nv=Rv.range,Iv=Xi(function(t){var e=t.getTimezoneOffset()*Pv%Mv;0>e&&(e+=Mv),t.setTime(Math.floor((+t-e)/Mv)*Mv+e)},function(t,e){t.setTime(+t+e*Mv)},function(t,e){return(e-t)/Mv},function(t){return t.getHours()}),Bv=Iv.range,Fv=Xi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pv)/Av},function(t){return t.getDate()-1}),Uv=Fv.range,jv=Yi(0),zv=Yi(1),Hv=Yi(2),$v=Yi(3),Wv=Yi(4),qv=Yi(5),Gv=Yi(6),Vv=jv.range,Zv=zv.range,Xv=Hv.range,Yv=$v.range,Jv=Wv.range,Kv=qv.range,Qv=Gv.range,t_=Xi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),e_=t_.range,n_=Xi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});n_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var i_=n_.range,r_=Xi(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Pv)},function(t,e){return(e-t)/Pv},function(t){return t.getUTCMinutes()}),o_=r_.range,s_=Xi(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Mv)},function(t,e){return(e-t)/Mv},function(t){return t.getUTCHours()}),a_=s_.range,u_=Xi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Av},function(t){return t.getUTCDate()-1}),l_=u_.range,h_=Ji(0),c_=Ji(1),f_=Ji(2),p_=Ji(3),d_=Ji(4),m_=Ji(5),g_=Ji(6),v_=h_.range,__=c_.range,y_=f_.range,b_=p_.range,x_=d_.range,w_=m_.range,T_=g_.range,E_=Xi(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),C_=E_.range,S_=Xi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});S_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var L_,P_=S_.range,M_={"":er,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ir(100*t,e)},r:ir,s:nr,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},A_=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;or.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var k_,D_=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];ur({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var O_,R_={"-":"",_:" ",0:"0"},N_=/^\s*\d+/,I_=/^%/,B_=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;lo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var F_="%Y-%m-%dT%H:%M:%S.%LZ",U_=Date.prototype.toISOString?ho:t.utcFormat(F_),j_=+new Date("2000-01-01T00:00:00.000Z")?co:t.utcParse(F_),z_=Array.prototype,H_=z_.map,$_=z_.slice,W_={name:"implicit"},q_=[0,1],G_=1e3,V_=60*G_,Z_=60*V_,X_=24*Z_,Y_=7*X_,J_=30*X_,K_=365*X_,Q_=Xo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ty=Xo("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ey=Xo("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ny=Xo("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),iy=Zg($n(300,.5,0),$n(-240,.5,1)),ry=Zg($n(-100,.75,.35),$n(80,1.5,.8)),oy=Zg($n(260,.75,.35),$n(80,1.5,.8)),sy=$n(),ay=Jo(Xo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),uy=Jo(Xo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ly=Jo(Xo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hy=Jo(Xo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),cy="http://www.w3.org/1999/xhtml",fy={svg:"http://www.w3.org/2000/svg",xhtml:cy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},py=0;rs.prototype=is.prototype={constructor:rs,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var dy=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var my=document.documentElement;if(!my.matches){var gy=my.webkitMatchesSelector||my.msMatchesSelector||my.mozMatchesSelector||my.oMatchesSelector;dy=function(t){return function(){return gy.call(this,t)}}}}var vy=dy,_y={};if(t.event=null,"undefined"!=typeof document){var yy=document.documentElement;"onmouseenter"in yy||(_y={mouseenter:"mouseover",mouseleave:"mouseout"})}Es.prototype={constructor:Es,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var by="$";ra.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xy=[null];Oa.prototype=Ra.prototype={constructor:Oa,select:vs,selectAll:bs,filter:xs,data:Ps,enter:Ts,exit:Ms,merge:As,order:ks,sort:Ds,call:Rs,nodes:Ns,node:Is,size:Bs,empty:Fs,each:Us,attr:Gs,style:Js,property:ea,classed:ha,text:da,html:_a,raise:ba,lower:wa,append:Ta,insert:Ca,remove:La,datum:Pa,on:hs,dispatch:Da};var wy=Ti("start","end","interrupt"),Ty=[],Ey=0,Cy=1,Sy=2,Ly=3,Py=4,My=5,Ay=Ra.prototype.constructor,ky=0,Dy=Ra.prototype;Iu.prototype=Bu.prototype={constructor:Iu,select:wu,selectAll:Tu,filter:mu,merge:gu,selection:Eu,transition:Nu,call:Dy.call,nodes:Dy.nodes,node:Dy.node,size:Dy.size,empty:Dy.empty,each:Dy.each,on:yu,attr:iu,attrTween:su,style:Mu,styleTween:ku,text:Ru,remove:xu,tween:Za,delay:lu,duration:fu,ease:du};var Oy={time:null,delay:0,duration:250,ease:nt};Ra.prototype.interrupt=qa,Ra.prototype.transition=ju;var Ry=[null],Ny=Array.prototype.slice,Iy=1,By=2,Fy=3,Uy=4,jy=1e-6;wl.prototype=vl.prototype={constructor:wl,each:sl,eachAfter:ul,eachBefore:al,sum:ll,sort:hl,path:cl,ancestors:pl,descendants:dl,leaves:ml,links:gl,copy:_l};var zy="$",Hy={depth:-1},$y={};rh.prototype=Object.create(wl.prototype);var Wy=(1+Math.sqrt(5))/2,qy=function Nw(t){function e(e,n,i,r,o){uh(t,e,n,i,r,o)}return e.ratio=function(t){return Nw((t=+t)>1?t:1)},e}(Wy),Gy=function Iw(t){function e(e,n,i,r,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,u,l,h,c=-1,f=s.length,p=e.value;++c<f;){for(a=s[c],u=a.children,l=a.value=0,h=u.length;h>l;++l)a.value+=u[l].value;a.dice?Vl(a,n,i,r,i+=(o-i)*a.value/p):ah(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else e._squarify=s=uh(t,e,n,i,r,o),s.ratio=t}return e.ratio=function(t){return Iw((t=+t)>1?t:1)},e}(Wy),Vy=10,Zy=Math.PI*(3-Math.sqrt(5));kh.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},Uh.prototype={constructor:Uh,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=$h(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(zh(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Hh(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Hh(this,n),t=n,n=t.U),n.C=!1,i.C=!0,zh(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?$h(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,zh(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Hh(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,zh(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Hh(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,zh(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Hh(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Xy,Yy,Jy,Ky,Qy,tb=[],eb=[],nb=1e-6,ib=1e-12;dc.prototype={constructor:dc,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Kh(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){for(var r,o=n.site,s=n.halfedges,a=-1,u=s.length,l=e[s[u-1]],h=l.left===o?l.right:l.left;++a<u;)r=h,l=e[s[a]],h=l.left===o?l.right:l.left,i<r.index&&i<h.index&&fc(o,r,h)<0&&t.push([o.data,r.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})}},_c.prototype={constructor:_c,scale:function(t){return 1===t?this:new _c(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new _c(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rb=new _c(1,0,0);yc.prototype=_c.prototype;var ob={name:"drag"},sb={name:"space"},ab={name:"handle"},ub={name:"center"},lb={name:"x",handles:["e","w"].map(Ac),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},hb={name:"y",handles:["n","s"].map(Ac),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},cb={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ac),input:function(t){return t},output:function(t){return t}},fb={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pb={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},db={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},mb={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},gb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},vb=Math.cos,_b=Math.sin,yb=Math.PI,bb=yb/2,xb=2*yb,wb=Math.max,Tb=Array.prototype.slice;Yc.prototype={constructor:Yc,reset:function(){this.s=this.t=0},add:function(t){Jc(ex,t,this.t),Jc(this,ex.s,this.s),this.s?this.t+=ex.t:this.s=ex.t},valueOf:function(){return this.s}};var Eb,Cb,Sb,Lb,Pb,Mb,Ab,kb,Db,Ob,Rb,Nb,Ib,Bb,Fb,Ub,jb,zb,Hb,$b,Wb,qb,Gb,Vb,Zb,Xb,Yb,Jb,Kb,Qb,tx,ex=new Yc,nx=1e-6,ix=1e-12,rx=Math.PI,ox=rx/2,sx=rx/4,ax=2*rx,ux=180/rx,lx=rx/180,hx=Math.abs,cx=Math.atan,fx=Math.atan2,px=Math.cos,dx=Math.ceil,mx=Math.exp,gx=Math.log,vx=Math.pow,_x=Math.sin,yx=Math.sign||function(t){return t>0?1:0>t?-1:0},bx=Math.sqrt,xx=Math.tan,wx={Feature:function(t,e){nf(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)nf(n[i].geometry,e)}},Tx={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){rf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)rf(n[i],e,0)},Polygon:function(t,e){of(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)of(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)nf(n[i],e)}},Ex=Xc(),Cx=Xc(),Sx={point:ef,lineStart:ef,lineEnd:ef,polygonStart:function(){Ex.reset(),Sx.lineStart=af,Sx.lineEnd=uf},polygonEnd:function(){var t=+Ex;Cx.add(0>t?ax+t:t),this.lineStart=this.lineEnd=this.point=ef},sphere:function(){Cx.add(ax)}},Lx=Xc(),Px={point:yf,lineStart:xf,lineEnd:wf,polygonStart:function(){Px.point=Tf,Px.lineStart=Ef,Px.lineEnd=Cf,Lx.reset(),Sx.polygonStart()},polygonEnd:function(){Sx.polygonEnd(),Px.point=yf,Px.lineStart=xf,Px.lineEnd=wf,0>Ex?(Mb=-(kb=180),Ab=-(Db=90)):Lx>nx?Db=90:-nx>Lx&&(Ab=-90),Fb[0]=Mb,Fb[1]=kb}},Mx={sphere:ef,point:Af,lineStart:Df,lineEnd:Nf,polygonStart:function(){Mx.lineStart=If,Mx.lineEnd=Bf},polygonEnd:function(){Mx.lineStart=Df,Mx.lineEnd=Nf}};$f.invert=$f;var Ax,kx,Dx,Ox,Rx,Nx,Ix,Bx,Fx,Ux,jx,zx=1e9,Hx=-zx,$x=Xc(),Wx={sphere:ef,point:ef,lineStart:sp,lineEnd:ef,polygonStart:ef,polygonEnd:ef},qx=[null,null],Gx={type:"LineString",coordinates:qx},Vx=Xc(),Zx=Xc(),Xx={point:ef,lineStart:ef,lineEnd:ef,polygonStart:function(){Xx.lineStart=vp,Xx.lineEnd=bp},polygonEnd:function(){Xx.lineStart=Xx.lineEnd=Xx.point=ef,Vx.add(hx(Zx)),Zx.reset()},result:function(){var t=Vx/2;return Vx.reset(),t}},Yx=1/0,Jx=Yx,Kx=-Yx,Qx=Kx,tw={point:xp,lineStart:ef,lineEnd:ef,polygonStart:ef,polygonEnd:ef,result:function(){var t=[[Yx,Jx],[Kx,Qx]];return Kx=Qx=-(Jx=Yx=1/0),t}},ew=0,nw=0,iw=0,rw=0,ow=0,sw=0,aw=0,uw=0,lw=0,hw={point:wp,lineStart:Tp,lineEnd:Sp,polygonStart:function(){hw.lineStart=Lp,hw.lineEnd=Pp},polygonEnd:function(){hw.point=wp,hw.lineStart=Tp,hw.lineEnd=Sp},result:function(){var t=lw?[aw/lw,uw/lw]:sw?[rw/sw,ow/sw]:iw?[ew/iw,nw/iw]:[NaN,NaN];return ew=nw=iw=rw=ow=sw=aw=uw=lw=0,t}},cw=Xc(),fw=Ip(function(){return!0},Up,zp,[-rx,-ox]);qp.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pw=16,dw=px(30*lx),mw=Wp({point:function(t,e){this.stream.point(t*lx,e*lx)}}),gw=sd(function(t){return bx(2/(1+t))});gw.invert=ad(function(t){return 2*Qc(t/2)});var vw=sd(function(t){return(t=Kc(t))&&t/_x(t)});vw.invert=ad(function(t){return t}),hd.invert=function(t,e){return[t,2*cx(mx(e))-ox]},gd.invert=gd,bd.invert=ad(cx),wd.invert=ad(Qc),Ed.invert=ad(function(t){return 2*cx(t)}),Sd.invert=function(t,e){return[-e,2*cx(mx(t))-ox]},t.version=Pd,t.bisect=Ad,t.bisectRight=Ad,t.bisectLeft=kd,t.ascending=e,t.bisector=n,t.descending=r,t.deviation=a,t.extent=u,t.histogram=m,t.thresholdFreedmanDiaconis=v,t.thresholdScott=_,t.thresholdSturges=d,t.max=y,t.mean=b,t.median=x,t.merge=w,t.min=T,t.pairs=E,t.permute=C,t.quantile=g,t.range=c,t.scan=S,t.shuffle=L,t.sum=P,t.ticks=f,t.tickStep=p,t.transpose=M,t.variance=s,t.zip=k,t.entries=$,t.keys=z,t.values=H,t.map=O,t.set=j,t.nest=R,t.randomUniform=W,t.randomNormal=q,t.randomLogNormal=G,t.randomBates=Z,t.randomIrwinHall=V,t.randomExponential=X,t.easeLinear=Y,t.easeQuad=Q,t.easeQuadIn=J,t.easeQuadOut=K,t.easeQuadInOut=Q,t.easeCubic=nt,t.easeCubicIn=tt,t.easeCubicOut=et,t.easeCubicInOut=nt,t.easePoly=$d,t.easePolyIn=zd,t.easePolyOut=Hd,t.easePolyInOut=$d,t.easeSin=ot,t.easeSinIn=it,t.easeSinOut=rt,t.easeSinInOut=ot,t.easeExp=ut,t.easeExpIn=st,t.easeExpOut=at,t.easeExpInOut=ut,t.easeCircle=ct,t.easeCircleIn=lt,t.easeCircleOut=ht,t.easeCircleInOut=ct,t.easeBounce=pt,t.easeBounceIn=ft,t.easeBounceOut=pt,t.easeBounceInOut=dt,t.easeBack=om,t.easeBackIn=im,t.easeBackOut=rm,t.easeBackInOut=om,t.easeElastic=hm,t.easeElasticIn=lm,t.easeElasticOut=hm,t.easeElasticInOut=cm,t.polygonArea=mt,t.polygonCentroid=gt,t.polygonHull=bt,t.polygonContains=xt,t.polygonLength=wt,t.path=Et,t.quadtree=$t,t.queue=Kt,t.arc=ue,t.area=de,t.line=pe,t.pie=ve,t.radialArea=we,t.radialLine=xe,t.symbol=Te,t.symbols=Hm,t.symbolCircle=Em,t.symbolCross=Cm,t.symbolDiamond=Pm,t.symbolSquare=Rm,t.symbolStar=Om,t.symbolTriangle=Im,t.symbolWye=zm,t.curveBasisClosed=Me,t.curveBasisOpen=ke,t.curveBasis=Le,t.curveBundle=$m,t.curveCardinalClosed=qm,t.curveCardinalOpen=Gm,t.curveCardinal=Wm,t.curveCatmullRomClosed=Zm,t.curveCatmullRomOpen=Xm,t.curveCatmullRom=Vm,t.curveLinearClosed=He,t.curveLinear=he,t.curveMonotoneX=Ye,t.curveMonotoneY=Je,t.curveNatural=tn,t.curveStep=nn,t.curveStepAfter=on,t.curveStepBefore=rn,t.stack=ln,t.stackOffsetExpand=hn,t.stackOffsetNone=sn,t.stackOffsetSilhouette=cn,t.stackOffsetWiggle=fn,t.stackOrderAscending=pn,t.stackOrderDescending=mn,t.stackOrderInsideOut=gn,t.stackOrderNone=an,t.stackOrderReverse=vn,t.color=xn,t.rgb=Cn,t.hsl=Mn,t.lab=On,t.hcl=jn,t.cubehelix=$n,t.interpolate=ui,t.interpolateArray=ei,t.interpolateDate=ni,t.interpolateNumber=ii,t.interpolateObject=ri,t.interpolateRound=li,t.interpolateString=ai,t.interpolateTransformCss=Bg,t.interpolateTransformSvg=Fg,t.interpolateZoom=vi,t.interpolateRgb=Ag,t.interpolateRgbBasis=kg,t.interpolateRgbBasisClosed=Dg,t.interpolateHsl=$g,t.interpolateHslLong=Wg,t.interpolateLab=yi,t.interpolateHcl=qg,t.interpolateHclLong=Gg,t.interpolateCubehelix=Vg,t.interpolateCubehelixLong=Zg,t.interpolateBasis=Gn,t.interpolateBasisClosed=Vn,t.quantize=wi,t.dispatch=Ti,t.dsvFormat=ki,t.csvParse=Qg,t.csvParseRows=tv,t.csvFormat=ev,t.csvFormatRows=nv,t.tsvParse=rv,t.tsvParseRows=ov,t.tsvFormat=sv,t.tsvFormatRows=av,t.request=Di,t.html=uv,t.json=lv,t.text=hv,t.xml=cv,t.csv=fv,t.tsv=pv,t.now=Fi,t.timer=zi,t.timerFlush=Hi,t.timeout=Vi,t.interval=Zi,t.timeInterval=Xi,t.timeMillisecond=Cv,t.timeMilliseconds=Sv,t.timeSecond=Dv,t.timeSeconds=Ov,t.timeMinute=Rv,t.timeMinutes=Nv,t.timeHour=Iv,t.timeHours=Bv,t.timeDay=Fv,t.timeDays=Uv,t.timeWeek=jv,t.timeWeeks=Vv,t.timeSunday=jv,t.timeSundays=Vv,t.timeMonday=zv,t.timeMondays=Zv,t.timeTuesday=Hv,t.timeTuesdays=Xv,t.timeWednesday=$v,t.timeWednesdays=Yv,t.timeThursday=Wv,t.timeThursdays=Jv,t.timeFriday=qv,t.timeFridays=Kv,t.timeSaturday=Gv,t.timeSaturdays=Qv,t.timeMonth=t_,t.timeMonths=e_,t.timeYear=n_,t.timeYears=i_,t.utcMillisecond=Cv,t.utcMilliseconds=Sv,t.utcSecond=Dv,t.utcSeconds=Ov,t.utcMinute=r_,t.utcMinutes=o_,t.utcHour=s_,t.utcHours=a_,t.utcDay=u_,t.utcDays=l_,t.utcWeek=h_,t.utcWeeks=v_,t.utcSunday=h_,t.utcSundays=v_,t.utcMonday=c_,t.utcMondays=__,t.utcTuesday=f_,t.utcTuesdays=y_,t.utcWednesday=p_,t.utcWednesdays=b_,t.utcThursday=d_,t.utcThursdays=x_,
t.utcFriday=m_,t.utcFridays=w_,t.utcSaturday=g_,t.utcSaturdays=T_,t.utcMonth=E_,t.utcMonths=C_,t.utcYear=S_,t.utcYears=P_,t.formatLocale=ar,t.formatDefaultLocale=ur,t.formatSpecifier=rr,t.precisionFixed=lr,t.precisionPrefix=hr,t.precisionRound=cr,t.isoFormat=U_,t.isoParse=j_,t.timeFormatLocale=mr,t.timeFormatDefaultLocale=lo,t.scaleBand=po,t.scalePoint=go,t.scaleIdentity=Mo,t.scaleLinear=Po,t.scaleLog=Bo,t.scaleOrdinal=fo,t.scaleImplicit=W_,t.scalePow=Uo,t.scaleSqrt=jo,t.scaleQuantile=zo,t.scaleQuantize=Ho,t.scaleThreshold=$o,t.scaleTime=Vo,t.scaleUtc=Zo,t.schemeCategory10=Q_,t.schemeCategory20b=ty,t.schemeCategory20c=ey,t.schemeCategory20=ny,t.scaleSequential=Ko,t.interpolateCubehelixDefault=iy,t.interpolateRainbow=Yo,t.interpolateWarm=ry,t.interpolateCool=oy,t.interpolateViridis=ay,t.interpolateMagma=uy,t.interpolateInferno=ly,t.interpolatePlasma=hy,t.creator=ns,t.customEvent=cs,t.local=is,t.matcher=vy,t.mouse=ds,t.namespace=Qo,t.namespaces=fy,t.select=Na,t.selectAll=Ia,t.selection=Ra,t.selector=gs,t.selectorAll=ys,t.touch=Ba,t.touches=Fa,t.window=Vs,t.active=zu,t.interrupt=Wa,t.transition=Bu,t.axisTop=Zu,t.axisRight=Xu,t.axisBottom=Yu,t.axisLeft=Ju,t.cluster=ol,t.hierarchy=vl,t.pack=Hl,t.packSiblings=Il,t.packEnclose=Cl,t.partition=Zl,t.stratify=Jl,t.tree=sh,t.treemap=lh,t.treemapBinary=hh,t.treemapDice=Vl,t.treemapSlice=ah,t.treemapSliceDice=ch,t.treemapSquarify=qy,t.treemapResquarify=Gy,t.forceCenter=fh,t.forceCollide=vh,t.forceLink=yh,t.forceManyBody=Th,t.forceSimulation=wh,t.forceX=Eh,t.forceY=Ch,t.drag=Nh,t.dragDisable=Ph,t.dragEnable=Mh,t.voronoi=mc,t.zoom=Cc,t.zoomIdentity=rb,t.zoomTransform=yc,t.brush=Fc,t.brushX=Ic,t.brushY=Bc,t.brushSelection=Nc,t.chord=zc,t.ribbon=Zc,t.geoAlbers=id,t.geoAlbersUsa=od,t.geoArea=cf,t.geoAzimuthalEqualArea=ud,t.geoAzimuthalEqualAreaRaw=gw,t.geoAzimuthalEquidistant=ld,t.geoAzimuthalEquidistantRaw=vw,t.geoBounds=Mf,t.geoCentroid=jf,t.geoCircle=Jf,t.geoClipExtent=op,t.geoConicConformal=md,t.geoConicConformalRaw=dd,t.geoConicEqualArea=nd,t.geoConicEqualAreaRaw=ed,t.geoConicEquidistant=yd,t.geoConicEquidistantRaw=_d,t.geoDistance=cp,t.geoEquirectangular=vd,t.geoEquirectangularRaw=gd,t.geoGnomonic=xd,t.geoGnomonicRaw=bd,t.geoGraticule=dp,t.geoInterpolate=mp,t.geoLength=hp,t.geoMercator=cd,t.geoMercatorRaw=hd,t.geoOrthographic=Td,t.geoOrthographicRaw=wd,t.geoPath=Rp,t.geoProjection=Kp,t.geoProjectionMutator=Qp,t.geoRotation=Zf,t.geoStereographic=Cd,t.geoStereographicRaw=Ed,t.geoStream=sf,t.geoTransform=$p,t.geoTransverseMercator=Ld,t.geoTransverseMercatorRaw=Sd,Object.defineProperty(t,"__esModule",{value:!0})}),function(){var t=[].slice;!function(e,n){"use strict";var i;return i=function(){function t(t,n){null==n&&(n={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},n),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(""+t.options.baseClass+"-inverse"),t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,t===this.options.animate?this.$element:this.toggleAnimate())},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,t===this.options.disabled?this.$element:this.toggleDisabled())},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,t===this.options.readonly?this.$element:this.toggleReadonly())},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,t===this.options.indeterminate?this.$element:this.toggleIndeterminate())},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return"undefined"==typeof t?this.options.inverse:(t=!!t,t===this.options.inverse?this.$element:this.toggleInverse())},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(t){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(t=!!t,t===this.options.radioAllOff?this.$element:(this.options.radioAllOff=t,this.$element))},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(n,i){return"auto"!==t.options.labelWidth?t.options.labelWidth:e>i?e:i}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,e){return null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var n;return n=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?n[1]:n[0]:e.options.inverse?n[0]:n[1]}}(this)),e?setTimeout(function(){return e()},50):void 0},t.prototype._init=function(){var t,e;return t=function(t){return function(){return t._width(),t._containerPosition(null,function(){return t.options.animate?t.$wrapper.addClass(""+t.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?t():e=n.setInterval(function(i){return function(){return i.$wrapper.is(":visible")?(t(),n.clearInterval(e)):void 0}}(this),50)},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(n,i){var r;return n.preventDefault(),n.stopImmediatePropagation(),r=t.$element.is(":checked"),t._containerPosition(r),r!==t.options.state?(t.options.state=r,t.$wrapper.toggleClass(""+t.options.baseClass+"-off").toggleClass(""+t.options.baseClass+"-on"),i?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[r]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t._dragStart||t.options.disabled||t.options.readonly?void 0:(e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var n;if(null!=t._dragStart&&(e.preventDefault(),n=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,!(n<-t._handleWidth||n>0)))return t._dragEnd=n,t.$container.css("margin-left",""+t._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var n;if(t._dragStart)return e.preventDefault(),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t._dragEnd?(n=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!n:n)):t.state(!t.options.state),t._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(t){return function(e){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(n){return n.preventDefault(),n.stopImmediatePropagation(),n.target===t[0]?e.toggleState():void 0}}(this))},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var n,i,r,o;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(i=[],r=0,o=t.length;o>r;r++)n=t[r],i.push(""+this.options.baseClass+"-"+n);return i},t}(),e.fn.bootstrapSwitch=function(){var n,r,o;return r=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],o=this,this.each(function(){var t,s;return t=e(this),s=t.data("bootstrap-switch"),s||t.data("bootstrap-switch",s=new i(this,r)),"string"==typeof r?o=s[r].apply(s,n):void 0}),o},e.fn.bootstrapSwitch.Constructor=i,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueRouter=e()}(this,function(){"use strict";function t(t,e,n){this.path=t,this.matcher=e,this.delegate=n}function e(t){this.routes={},this.children={},this.target=t}function n(e,i,r){return function(o,s){var a=e+o;return s?void s(n(a,i,r)):new t(e+o,i,r)}}function i(t,e,n){for(var i=0,r=0,o=t.length;o>r;r++)i+=t[r].path.length;e=e.substr(i);var s={path:e,handler:n};t.push(s)}function r(t,e,n,o){var s=e.routes;for(var a in s)if(s.hasOwnProperty(a)){var u=t.slice();i(u,a,s[a]),e.children[a]?r(u,e.children[a],n,o):n.call(o,u)}}function o(t,i){var o=new e;t(n("",o,this.delegate)),r([],o,function(t){i?i(this,t):this.add(t)},this)}function s(t){q||"undefined"==typeof console||console.error("[vue-router] "+t)}function a(t,e){try{return e?decodeURIComponent(t):decodeURI(t)}catch(n){s("malformed URI"+(e?" component: ":": ")+t)}}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t){this.string=t}function h(t){this.name=t}function c(t){this.name=t}function f(){}function p(t,e,n){"/"===t.charAt(0)&&(t=t.substr(1));var i=t.split("/"),r=[];n.val="";for(var o=0,s=i.length;s>o;o++){var a,u=i[o];(a=u.match(/^:([^\/]+)$/))?(r.push(new h(a[1])),e.push(a[1]),n.val+="3"):(a=u.match(/^\*([^\/]+)$/))?(r.push(new c(a[1])),n.val+="2",e.push(a[1])):""===u?(r.push(new f),n.val+="1"):(r.push(new l(u)),n.val+="4")}return n.val=+n.val,r}function d(t){this.charSpec=t,this.nextStates=[]}function m(t){return t.sort(function(t,e){return e.specificity.val-t.specificity.val})}function g(t,e){for(var n=[],i=0,r=t.length;r>i;i++){var o=t[i];n=n.concat(o.match(e))}return n}function v(t){this.queryParams=t||{}}function _(t,e,n){for(var i=t.handlers,r=t.regex,o=e.match(r),s=1,a=new v(n),u=0,l=i.length;l>u;u++){for(var h=i[u],c=h.names,f={},p=0,d=c.length;d>p;p++)f[c[p]]=o[s++];a.push({handler:h.handler,params:f,isDynamic:!!c.length})}return a}function y(t,e){return e.eachChar(function(e){t=t.put(e)}),t}function b(t){return t=t.replace(/\+/gm,"%20"),a(t,!0)}function x(t){"undefined"!=typeof console&&console.error("[vue-router] "+t)}function w(t,e,n){var i=t.match(/(\?.*)$/);if(i&&(i=i[1],t=t.slice(0,-i.length)),"?"===e.charAt(0))return t+e;var r=t.split("/");n&&r[r.length-1]||r.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];"."!==a&&(".."===a?r.pop():r.push(a))}return""!==r[0]&&r.unshift(""),r.join("/")}function T(t){return t&&"function"==typeof t.then}function E(t,e){var n=t&&(t.$options||t.options);return n&&n.route&&n.route[e]}function C(t,e){Y?Y.$options.components._=t.component:Y={resolve:X.Vue.prototype._resolveComponent,$options:{components:{_:t.component}}},Y.resolve("_",function(n){t.component=n,e(n)})}function S(t,e,n){return void 0===e&&(e={}),t=t.replace(/:([^\/]+)/g,function(n,i){var r=e[i];return r||x('param "'+i+'" not found when generating path for "'+t+'" with params '+JSON.stringify(e)),r||""}),n&&(t+=Z(n)),t}function L(t,e,n){var i=t.childVM;if(!i||!e)return!1;if(t.Component!==e.component)return!1;var r=E(i,"canReuse");return"boolean"==typeof r?r:r?r.call(i,{to:n.to,from:n.from}):!0}function P(t,e,n){var i=t.childVM,r=E(i,"canDeactivate");r?e.callHook(r,i,n,{expectBoolean:!0}):n()}function M(t,e,n){C(t,function(t){if(!e.aborted){var i=E(t,"canActivate");i?e.callHook(i,null,n,{expectBoolean:!0}):n()}})}function A(t,e,n){var i=t.childVM,r=E(i,"deactivate");r?e.callHooks(r,i,n):n()}function k(t,e,n,i,r){var o=e.activateQueue[n];if(!o)return R(t),t._bound&&t.setComponent(null),void(i&&i());var s=t.Component=o.component,a=E(s,"activate"),u=E(s,"data"),l=E(s,"waitForData");t.depth=n,t.activated=!1;var h=void 0,c=!(!u||l);if(r=r&&t.childVM&&t.childVM.constructor===s)h=t.childVM,h.$loadingRouteData=c;else if(R(t),t.unbuild(!0),h=t.build({_meta:{$loadingRouteData:c},created:function(){this._routerView=t}}),t.keepAlive){h.$loadingRouteData=c;var f=h._keepAliveRouterView;f&&(t.childView=f,h._keepAliveRouterView=null)}var p=function(){h.$destroy()},d=function(){if(r)return void(i&&i());var n=e.router;n._rendered||n._transitionOnLoad?t.transition(h):(t.setCurrent?t.setCurrent(h):t.childVM=h,h.$before(t.anchor,null,!1)),i&&i()},m=function(){t.childView&&k(t.childView,e,n+1,null,r||t.keepAlive),d()},g=function(){t.activated=!0,u&&l?O(h,e,u,m,p):(u&&O(h,e,u),m())};a?e.callHooks(a,h,g,{cleanup:p,postActivate:!0}):g()}function D(t,e){var n=t.childVM,i=E(n,"data");i&&O(n,e,i)}function O(t,e,n,i,r){t.$loadingRouteData=!0,e.callHooks(n,t,function(){t.$loadingRouteData=!1,t.$emit("route-data-loaded",t),i&&i()},{cleanup:r,postActivate:!0,processData:function(e){var n=[];return N(e)&&Object.keys(e).forEach(function(i){var r=e[i];T(r)?n.push(r.then(function(e){t.$set(i,e)})):t.$set(i,r)}),n.length?n[0].constructor.all(n):void 0}})}function R(t){t.keepAlive&&t.childVM&&t.childView&&(t.childVM._keepAliveRouterView=t.childView),t.childView=null}function N(t){return"[object Object]"===Object.prototype.toString.call(t)}function I(t){return"[object Object]"===Object.prototype.toString.call(t)}function B(t){return t?Array.prototype.slice.call(t):[]}function F(t){var e=t.util,n=e.extend,i=e.isArray,r=e.defineReactive,o=t.prototype._init;t.prototype._init=function(t){t=t||{};var e=t._parent||t.parent||this,n=e.$router,i=e.$route;n&&(this.$router=n,n._children.push(this),this._defineMeta?this._defineMeta("$route",i):r(this,"$route",i)),o.call(this,t)};var s=t.prototype._destroy;t.prototype._destroy=function(){!this._isBeingDestroyed&&this.$router&&this.$router._children.$remove(this),s.apply(this,arguments)};var a=t.config.optionMergeStrategies,u=/^(data|activate|deactivate)$/;a&&(a.route=function(t,e){if(!e)return t;if(!t)return e;var r={};n(r,t);for(var o in e){var s=r[o],a=e[o];s&&u.test(o)?r[o]=(i(s)?s:[s]).concat(a):r[o]=a}return r})}function U(t){var e=t.util,n=t.directive("_component")||t.internalDirectives.component,i=e.extend({},n);e.extend(i,{_isRouterView:!0,bind:function(){var t=this.vm.$route;if(!t)return void x("<router-view> can only be used inside a router-enabled app.");this._isDynamicLiteral=!0,n.bind.call(this);for(var e=void 0,i=this.vm;i;){if(i._routerView){e=i._routerView;break}i=i.$parent}if(e)this.parentView=e,e.childView=this;else{var r=t.router;r._rootView=this}var o=t.router._currentTransition;if(!e&&o.done||e&&e.activated){var s=e?e.depth+1:0;k(this,o,s)}},unbind:function(){this.parentView&&(this.parentView.childView=null),n.unbind.call(this)}}),t.elementDirective("router-view",i)}function j(t){function e(t){return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port}function n(t,e,n){if(e=e.trim(),-1===e.indexOf(" "))return void n(t,e);for(var i=e.split(/\s+/),r=0,o=i.length;o>r;r++)n(t,i[r])}var i=t.util,r=i.bind,o=i.isObject,s=i.addClass,a=i.removeClass,u=t.directive("on").priority,l="__vue-router-link-update__",h=0;t.directive("link-active",{priority:9999,bind:function(){for(var t=this,e=String(h++),n=this.el.querySelectorAll("[v-link]"),i=0,r=n.length;r>i;i++){var o=n[i],s=o.getAttribute(l),a=s?s+","+e:e;o.setAttribute(l,a)}this.vm.$on(l,this.cb=function(n,i){n.activeIds.indexOf(e)>-1&&n.updateClasses(i,t.el)})},unbind:function(){this.vm.$off(l,this.cb)}}),t.directive("link",{priority:u-2,bind:function(){var t=this.vm;if(!t.$route)return void x("v-link can only be used inside a router-enabled app.");this.router=t.$route.router,this.unwatch=t.$watch("$route",r(this.onRouteUpdate,this));var e=this.el.getAttribute(l);e&&(this.el.removeAttribute(l),this.activeIds=e.split(",")),("A"!==this.el.tagName||"_blank"!==this.el.getAttribute("target"))&&(this.handler=r(this.onClick,this),this.el.addEventListener("click",this.handler))},update:function(t){this.target=t,o(t)&&(this.append=t.append,this.exact=t.exact,this.prevActiveClass=this.activeClass,this.activeClass=t.activeClass),this.onRouteUpdate(this.vm.$route)},onClick:function(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||0!==t.button)){var n=this.target;if(n)t.preventDefault(),this.router.go(n);else{for(var i=t.target;"A"!==i.tagName&&i!==this.el;)i=i.parentNode;if("A"===i.tagName&&e(i)){t.preventDefault();var r=i.pathname;this.router.history.root&&(r=r.replace(this.router.history.rootRE,"")),this.router.go({path:r,replace:n&&n.replace,append:n&&n.append})}}}},onRouteUpdate:function(t){var e=this.router.stringifyPath(this.target);this.path!==e&&(this.path=e,this.updateActiveMatch(),this.updateHref()),this.activeIds?this.vm.$emit(l,this,t.path):this.updateClasses(t.path,this.el)},updateActiveMatch:function(){this.activeRE=this.path&&!this.exact?new RegExp("^"+this.path.replace(/\/$/,"").replace(st,"").replace(ot,"\\$&")+"(\\/|$)"):null},updateHref:function(){if("A"===this.el.tagName){var t=this.path,e=this.router,n="/"===t.charAt(0),i=t&&("hash"===e.mode||n)?e.history.formatPath(t,this.append):t;i?this.el.href=i:this.el.removeAttribute("href")}},updateClasses:function(t,e){var i=this.activeClass||this.router._linkActiveClass;this.prevActiveClass&&this.prevActiveClass!==i&&n(e,this.prevActiveClass,a);var r=this.path.replace(st,"");t=t.replace(st,""),this.exact?r===t||"/"!==r.charAt(r.length-1)&&r===t.replace(rt,"")?n(e,i,s):n(e,i,a):this.activeRE&&this.activeRE.test(t)?n(e,i,s):n(e,i,a)},unbind:function(){this.el.removeEventListener("click",this.handler),this.unwatch&&this.unwatch()}})}function z(t,e){var n=e.component;ut.util.isPlainObject(n)&&(n=e.component=ut.extend(n)),"function"!=typeof n&&(e.component=null,x('invalid component for route "'+t+'".'))}var H={};H.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.prototype={to:function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},e.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,i,r,o){var s=new e(i);this.children[t]=s;var a=n(t,s,o);o&&o.contextEntered&&o.contextEntered(i,a),r(a)}};var $=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],W=new RegExp("(\\"+$.join("|\\")+")","g"),q=!1;l.prototype={eachChar:function(t){for(var e,n=this.string,i=0,r=n.length;r>i;i++)e=n.charAt(i),t({validChars:e})},regex:function(){return this.string.replace(W,"\\$1")},generate:function(){return this.string}},h.prototype={eachChar:function(t){t({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(t){var e=t[this.name];return null==e?":"+this.name:e}},c.prototype={eachChar:function(t){t({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(t){var e=t[this.name];return null==e?":"+this.name:e}},f.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},d.prototype={get:function(t){for(var e=this.nextStates,n=0,i=e.length;i>n;n++){var r=e[n],o=r.charSpec.validChars===t.validChars;if(o=o&&r.charSpec.invalidChars===t.invalidChars)return r}},put:function(t){var e;return(e=this.get(t))?e:(e=new d(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,n,i,r=this.nextStates,o=[],s=0,a=r.length;a>s;s++)e=r[s],n=e.charSpec,"undefined"!=typeof(i=n.validChars)?-1!==i.indexOf(t)&&o.push(e):"undefined"!=typeof(i=n.invalidChars)&&-1===i.indexOf(t)&&o.push(e);return o}};var G=Object.create||function(t){function e(){}return e.prototype=t,new e};v.prototype=G({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var V=function(){this.rootState=new d,this.names={}};V.prototype={add:function(t,e){for(var n,i=this.rootState,r="^",o={},s=[],a=[],u=!0,l=0,h=t.length;h>l;l++){var c=t[l],d=[],m=p(c.path,d,o);a=a.concat(m);for(var g=0,v=m.length;v>g;g++){var _=m[g];_ instanceof f||(u=!1,i=i.put({validChars:"/"}),r+="/",i=y(i,_),r+=_.regex())}var b={handler:c.handler,names:d};s.push(b)}u&&(i=i.put({validChars:"/"}),r+="/"),i.handlers=s,i.regex=new RegExp(r+"$"),i.specificity=o,(n=e&&e.as)&&(this.names[n]={segments:a,handlers:s})},handlersFor:function(t){var e=this.names[t],n=[];if(!e)throw new Error("There is no route named "+t);for(var i=0,r=e.handlers.length;r>i;i++)n.push(e.handlers[i]);return n},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var n=this.names[t],i="";if(!n)throw new Error("There is no route named "+t);for(var r=n.segments,o=0,s=r.length;s>o;o++){var a=r[o];a instanceof f||(i+="/",i+=a.generate(e))}return"/"!==i.charAt(0)&&(i="/"+i),e&&e.queryParams&&(i+=this.generateQueryString(e.queryParams)),i},generateQueryString:function(t){var e=[],n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i);n.sort();for(var r=0,o=n.length;o>r;r++){i=n[r];var s=t[i];if(null!=s){var a=encodeURIComponent(i);if(u(s))for(var l=0,h=s.length;h>l;l++){var c=i+"[]="+encodeURIComponent(s[l]);e.push(c)}else a+="="+encodeURIComponent(s),e.push(a)}}return 0===e.length?"":"?"+e.join("&")},parseQueryString:function(t){for(var e=t.split("&"),n={},i=0;i<e.length;i++){var r,o=e[i].split("="),s=b(o[0]),a=s.length,u=!1;1===o.length?r="true":(a>2&&"[]"===s.slice(a-2)&&(u=!0,s=s.slice(0,a-2),n[s]||(n[s]=[])),r=o[1]?b(o[1]):""),u?n[s].push(r):n[s]=r}return n},recognize:function(t,e){q=e;var n,i,r,o,s=[this.rootState],u={},l=!1;if(o=t.indexOf("?"),-1!==o){var h=t.substr(o+1,t.length);t=t.substr(0,o),h&&(u=this.parseQueryString(h))}if(t=a(t)){for("/"!==t.charAt(0)&&(t="/"+t),n=t.length,n>1&&"/"===t.charAt(n-1)&&(t=t.substr(0,n-1),l=!0),i=0,r=t.length;r>i&&(s=g(s,t.charAt(i)),s.length);i++);var c=[];for(i=0,r=s.length;r>i;i++)s[i].handlers&&c.push(s[i]);s=m(c);var f=c[0];return f&&f.handlers?(l&&"(.+)$"===f.regex.source.slice(-5)&&(t+="/"),_(f,t,u)):void 0}}},V.prototype.map=o;var Z=V.prototype.generateQueryString,X={},Y=void 0,J=/#.*$/,K=function(){function t(e){var n=e.root,i=e.onChange;H.classCallCheck(this,t),n&&"/"!==n?("/"!==n.charAt(0)&&(n="/"+n),this.root=n.replace(/\/$/,""),this.rootRE=new RegExp("^\\"+this.root)):this.root=null,this.onChange=i;var r=document.querySelector("base");this.base=r&&r.getAttribute("href")}return t.prototype.start=function(){var t=this;this.listener=function(e){var n=location.pathname+location.search;t.root&&(n=n.replace(t.rootRE,"")),t.onChange(n,e&&e.state,location.hash)},window.addEventListener("popstate",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("popstate",this.listener)},t.prototype.go=function(t,e,n){var i=this.formatPath(t,n);e?history.replaceState({},"",i):(history.replaceState({pos:{x:window.pageXOffset,y:window.pageYOffset}},"",location.href),history.pushState({},"",i));var r=t.match(J),o=r&&r[0];t=i.replace(J,"").replace(this.rootRE,""),this.onChange(t,null,o)},t.prototype.formatPath=function(t,e){return"/"===t.charAt(0)?this.root?this.root+"/"+t.replace(/^\//,""):t:w(this.base||location.pathname,t,e)},t}(),Q=function(){function t(e){var n=e.hashbang,i=e.onChange;H.classCallCheck(this,t),this.hashbang=n,this.onChange=i}return t.prototype.start=function(){var t=this;this.listener=function(){var e=location.hash,n=e.replace(/^#!?/,"");"/"!==n.charAt(0)&&(n="/"+n);var i=t.formatPath(n);if(i!==e)return void location.replace(i);var r=location.search&&e.indexOf("?")>-1?"&"+location.search.slice(1):location.search;t.onChange(e.replace(/^#!?/,"")+r);
},window.addEventListener("hashchange",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("hashchange",this.listener)},t.prototype.go=function(t,e,n){t=this.formatPath(t,n),e?location.replace(t):location.hash=t},t.prototype.formatPath=function(t,e){var n="/"===t.charAt(0),i="#"+(this.hashbang?"!":"");return n?i+t:i+w(location.hash.replace(/^#!?/,""),t,e)},t}(),tt=function(){function t(e){var n=e.onChange;H.classCallCheck(this,t),this.onChange=n,this.currentPath="/"}return t.prototype.start=function(){this.onChange("/")},t.prototype.stop=function(){},t.prototype.go=function(t,e,n){t=this.currentPath=this.formatPath(t,n),this.onChange(t)},t.prototype.formatPath=function(t,e){return"/"===t.charAt(0)?t:w(this.currentPath,t,e)},t}(),et=function(){function t(e,n,i){H.classCallCheck(this,t),this.router=e,this.to=n,this.from=i,this.next=null,this.aborted=!1,this.done=!1}return t.prototype.abort=function(){if(!this.aborted){this.aborted=!0;var t=!this.from.path&&"/"===this.to.path;t||this.router.replace(this.from.path||"/")}},t.prototype.redirect=function(t){this.aborted||(this.aborted=!0,"string"==typeof t?t=S(t,this.to.params,this.to.query):(t.params=t.params||this.to.params,t.query=t.query||this.to.query),this.router.replace(t))},t.prototype.start=function(t){for(var e=this,n=[],i=this.router._rootView;i;)n.unshift(i),i=i.childView;var r=n.slice().reverse(),o=this.activateQueue=B(this.to.matched).map(function(t){return t.handler}),s=void 0,a=void 0;for(s=0;s<r.length&&L(r[s],o[s],e);s++);s>0&&(a=r.slice(0,s),n=r.slice(s).reverse(),o=o.slice(s)),e.runQueue(n,P,function(){e.runQueue(o,M,function(){e.runQueue(n,A,function(){if(e.router._onTransitionValidated(e),a&&a.forEach(function(t){return D(t,e)}),n.length){var i=n[n.length-1],r=a?a.length:0;k(i,e,r,t)}else t()})})})},t.prototype.runQueue=function(t,e,n){function i(o){o>=t.length?n():e(t[o],r,function(){i(o+1)})}var r=this;i(0)},t.prototype.callHook=function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=i.expectBoolean,o=void 0===r?!1:r,s=i.postActivate,a=void 0===s?!1:s,u=i.processData,l=i.cleanup,h=this,c=!1,f=function(){l&&l(),h.abort()},p=function(t){if(a?m():f(),t&&!h.router._suppress)throw x("Uncaught error during transition: "),t instanceof Error?t:new Error(t)},d=function(t){try{p(t)}catch(e){setTimeout(function(){throw e},0)}},m=function(){return c?void x("transition.next() should be called only once."):(c=!0,h.aborted?void(l&&l()):void(n&&n()))},g=function(e){"boolean"==typeof e?e?m():f():T(e)?e.then(function(t){t?m():f()},d):t.length||m()},v=function(t){var e=void 0;try{e=u(t)}catch(n){return p(n)}T(e)?e.then(m,d):m()},_={to:h.to,from:h.from,abort:f,next:u?v:m,redirect:function(){h.redirect.apply(h,arguments)}},y=void 0;try{y=t.call(e,_)}catch(b){return p(b)}o?g(y):T(y)?u?y.then(v,d):y.then(m,d):u&&I(y)?v(y):t.length||m()},t.prototype.callHooks=function(t,e,n,i){var r=this;Array.isArray(t)?this.runQueue(t,function(t,n,o){r.aborted||r.callHook(t,e,o,i)},n):this.callHook(t,e,n,i)},t}(),nt=/^(component|subRoutes|fullPath)$/,it=function ht(t,e){var n=this;H.classCallCheck(this,ht);var i=e._recognizer.recognize(t);i&&([].forEach.call(i,function(t){for(var e in t.handler)nt.test(e)||(n[e]=t.handler[e])}),this.query=i.queryParams,this.params=[].reduce.call(i,function(t,e){if(e.params)for(var n in e.params)t[n]=e.params[n];return t},{})),this.path=t,this.matched=i||e._notFoundHandler,Object.defineProperty(this,"router",{enumerable:!1,value:e}),Object.freeze(this)},rt=/\/$/,ot=/[-.*+?^${}()|[\]\/\\]/g,st=/\?.*$/,at={"abstract":tt,hash:Q,html5:K},ut=void 0,lt=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.hashbang,r=void 0===i?!0:i,o=n["abstract"],s=void 0===o?!1:o,a=n.history,u=void 0===a?!1:a,l=n.saveScrollPosition,h=void 0===l?!1:l,c=n.transitionOnLoad,f=void 0===c?!1:c,p=n.suppressTransitionError,d=void 0===p?!1:p,m=n.root,g=void 0===m?null:m,v=n.linkActiveClass,_=void 0===v?"v-link-active":v;if(H.classCallCheck(this,t),!t.installed)throw new Error("Please install the Router with Vue.use() before creating an instance.");this.app=null,this._children=[],this._recognizer=new V,this._guardRecognizer=new V,this._started=!1,this._startCb=null,this._currentRoute={},this._currentTransition=null,this._previousTransition=null,this._notFoundHandler=null,this._notFoundRedirect=null,this._beforeEachHooks=[],this._afterEachHooks=[],this._rendered=!1,this._transitionOnLoad=f,this._root=g,this._abstract=s,this._hashbang=r;var y="undefined"!=typeof window&&window.history&&window.history.pushState;this._history=u&&y,this._historyFallback=u&&!y;var b=ut.util.inBrowser;this.mode=!b||this._abstract?"abstract":this._history?"html5":"hash";var x=at[this.mode];this.history=new x({root:g,hashbang:this._hashbang,onChange:function(t,n,i){e._match(t,n,i)}}),this._saveScrollPosition=h,this._linkActiveClass=_,this._suppress=d}return t.prototype.map=function(t){for(var e in t)this.on(e,t[e]);return this},t.prototype.on=function(t,e){return"*"===t?this._notFound(e):this._addRoute(t,e,[]),this},t.prototype.redirect=function(t){for(var e in t)this._addRedirect(e,t[e]);return this},t.prototype.alias=function(t){for(var e in t)this._addAlias(e,t[e]);return this},t.prototype.beforeEach=function(t){return this._beforeEachHooks.push(t),this},t.prototype.afterEach=function(t){return this._afterEachHooks.push(t),this},t.prototype.go=function(t){var e=!1,n=!1;ut.util.isObject(t)&&(e=t.replace,n=t.append),t=this.stringifyPath(t),t&&this.history.go(t,e,n)},t.prototype.replace=function(t){"string"==typeof t&&(t={path:t}),t.replace=!0,this.go(t)},t.prototype.start=function(t,e,n){if(this._started)return void x("already started.");if(this._started=!0,this._startCb=n,!this.app){if(!t||!e)throw new Error("Must start vue-router with a component and a root container.");if(t instanceof ut)throw new Error("Must start vue-router with a component, not a Vue instance.");this._appContainer=e;var i=this._appConstructor="function"==typeof t?t:ut.extend(t);i.options.name=i.options.name||"RouterApp"}if(this._historyFallback){var r=window.location,o=new K({root:this._root}),s=o.root?r.pathname.replace(o.rootRE,""):r.pathname;if(s&&"/"!==s)return void r.assign((o.root||"")+"/"+this.history.formatPath(s)+r.search)}this.history.start()},t.prototype.stop=function(){this.history.stop(),this._started=!1},t.prototype.stringifyPath=function(t){var e="";if(t&&"object"==typeof t){if(t.name){var n=ut.util.extend,i=this._currentTransition&&this._currentTransition.to.params,r=t.params||{},o=i?n(n({},i),r):r;e=encodeURI(this._recognizer.generate(t.name,o))}else t.path&&(e=encodeURI(t.path));if(t.query){var s=this._recognizer.generateQueryString(t.query);e+=e.indexOf("?")>-1?"&"+s.slice(1):s}}else e=encodeURI(t?t+"":"");return e},t.prototype._addRoute=function(t,e,n){if(z(t,e),e.path=t,e.fullPath=(n.reduce(function(t,e){return t+e.path},"")+t).replace("//","/"),n.push({path:t,handler:e}),this._recognizer.add(n,{as:e.name}),e.subRoutes)for(var i in e.subRoutes)this._addRoute(i,e.subRoutes[i],n.slice())},t.prototype._notFound=function(t){z("*",t),this._notFoundHandler=[{handler:t}]},t.prototype._addRedirect=function(t,e){"*"===t?this._notFoundRedirect=e:this._addGuard(t,e,this.replace)},t.prototype._addAlias=function(t,e){this._addGuard(t,e,this._match)},t.prototype._addGuard=function(t,e,n){var i=this;this._guardRecognizer.add([{path:t,handler:function(t,r){var o=S(e,t.params,r);n.call(i,o)}}])},t.prototype._checkGuard=function(t){var e=this._guardRecognizer.recognize(t,!0);return e?(e[0].handler(e[0],e.queryParams),!0):this._notFoundRedirect&&(e=this._recognizer.recognize(t),!e)?(this.replace(this._notFoundRedirect),!0):void 0},t.prototype._match=function(t,e,n){var i=this;if(!this._checkGuard(t)){var r=this._currentRoute,o=this._currentTransition;if(o){if(o.to.path===t)return;if(r.path===t)return o.aborted=!0,void(this._currentTransition=this._prevTransition);o.aborted=!0}var s=new it(t,this),a=new et(this,s,r);this._prevTransition=o,this._currentTransition=a,this.app||!function(){var t=i;i.app=new i._appConstructor({el:i._appContainer,created:function(){this.$router=t},_meta:{$route:s}})}();var u=this._beforeEachHooks,l=function(){a.start(function(){i._postTransition(s,e,n)})};u.length?a.runQueue(u,function(t,e,n){a===i._currentTransition&&a.callHook(t,null,n,{expectBoolean:!0})},l):l(),!this._rendered&&this._startCb&&this._startCb.call(null),this._rendered=!0}},t.prototype._onTransitionValidated=function(t){var e=this._currentRoute=t.to;this.app.$route!==e&&(this.app.$route=e,this._children.forEach(function(t){t.$route=e})),this._afterEachHooks.length&&this._afterEachHooks.forEach(function(e){return e.call(null,{to:t.to,from:t.from})}),this._currentTransition.done=!0},t.prototype._postTransition=function(t,e,n){var i=e&&e.pos;i&&this._saveScrollPosition?ut.nextTick(function(){window.scrollTo(i.x,i.y)}):n&&ut.nextTick(function(){var t=document.getElementById(n.slice(1));t&&window.scrollTo(window.scrollX,t.offsetTop)})},t}();return lt.installed=!1,lt.install=function(t){return lt.installed?void x("already installed."):(ut=t,F(ut),U(ut),j(ut),X.Vue=ut,void(lt.installed=!0))},"undefined"!=typeof window&&window.Vue&&window.Vue.use(lt),lt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Vue=e()}(this,function(){"use strict";function t(e,i,r){if(n(e,i))return void(e[i]=r);if(e._isVue)return void t(e._data,i,r);var o=e.__ob__;if(!o)return void(e[i]=r);if(o.convert(i,r),o.dep.notify(),o.vms)for(var s=o.vms.length;s--;){var a=o.vms[s];a._proxy(i),a._digest()}return r}function e(t,e){if(n(t,e)){delete t[e];var i=t.__ob__;if(!i)return void(t._isVue&&(delete t._data[e],t._digest()));if(i.dep.notify(),i.vms)for(var r=i.vms.length;r--;){var o=i.vms[r];o._unproxy(e),o._digest()}}}function n(t,e){return An.call(t,e)}function i(t){return kn.test(t)}function r(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function o(t){return null==t?"":t.toString()}function s(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e}function a(t){return"true"===t?!0:"false"===t?!1:t}function u(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function l(t){return t.replace(Dn,h)}function h(t,e){return e?e.toUpperCase():""}function c(t){return t.replace(On,"$1-$2").toLowerCase()}function f(t){return t.replace(Rn,h)}function p(t,e){return function(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}}function d(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function m(t,e){for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}function g(t){return null!==t&&"object"==typeof t}function v(t){return Nn.call(t)===In}function _(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function y(t,e){var n,i,r,o,s,a=function u(){var a=Date.now()-o;e>a&&a>=0?n=setTimeout(u,e-a):(n=null,s=t.apply(r,i),n||(r=i=null))};return function(){return r=this,i=arguments,o=Date.now(),n||(n=setTimeout(a,e)),s}}function b(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function x(t){var e=function n(){return n.cancelled?void 0:t.apply(this,arguments)};return e.cancel=function(){e.cancelled=!0},e}function w(t,e){return t==e||(g(t)&&g(e)?JSON.stringify(t)===JSON.stringify(e):!1)}function T(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap=Object.create(null)}function E(){var t,e=ri.slice(hi,ui).trim();if(e){t={};var n=e.match(vi);t.name=n[0],n.length>1&&(t.args=n.slice(1).map(C))}t&&(oi.filters=oi.filters||[]).push(t),hi=ui+1}function C(t){if(_i.test(t))return{value:s(t),dynamic:!1};var e=u(t),n=e===t;return{value:n?t:e,dynamic:n}}function S(t){var e=gi.get(t);if(e)return e;for(ri=t,ci=fi=!1,pi=di=mi=0,hi=0,oi={},ui=0,li=ri.length;li>ui;ui++)if(ai=si,si=ri.charCodeAt(ui),ci)39===si&&92!==ai&&(ci=!ci);else if(fi)34===si&&92!==ai&&(fi=!fi);else if(124===si&&124!==ri.charCodeAt(ui+1)&&124!==ri.charCodeAt(ui-1))null==oi.expression?(hi=ui+1,oi.expression=ri.slice(0,ui).trim()):E();else switch(si){case 34:fi=!0;break;case 39:ci=!0;break;case 40:mi++;break;case 41:mi--;break;case 91:di++;break;case 93:di--;break;case 123:pi++;break;case 125:pi--}return null==oi.expression?oi.expression=ri.slice(0,ui).trim():0!==hi&&E(),gi.put(t,oi),oi}function L(t){return t.replace(bi,"\\$&")}function P(){var t=L(Pi.delimiters[0]),e=L(Pi.delimiters[1]),n=L(Pi.unsafeDelimiters[0]),i=L(Pi.unsafeDelimiters[1]);wi=new RegExp(n+"((?:.|\\n)+?)"+i+"|"+t+"((?:.|\\n)+?)"+e,"g"),Ti=new RegExp("^"+n+"((?:.|\\n)+?)"+i+"$"),xi=new T(1e3)}function M(t){xi||P();var e=xi.get(t);if(e)return e;if(!wi.test(t))return null;for(var n,i,r,o,s,a,u=[],l=wi.lastIndex=0;n=wi.exec(t);)i=n.index,i>l&&u.push({value:t.slice(l,i)}),r=Ti.test(n[0]),o=r?n[1]:n[2],s=o.charCodeAt(0),a=42===s,o=a?o.slice(1):o,u.push({tag:!0,value:o.trim(),html:r,oneTime:a}),l=i+n[0].length;return l<t.length&&u.push({value:t.slice(l)}),xi.put(t,u),u}function A(t,e){return t.length>1?t.map(function(t){return k(t,e)}).join("+"):k(t[0],e,!0)}function k(t,e,n){return t.tag?t.oneTime&&e?'"'+e.$eval(t.value)+'"':D(t.value,n):'"'+t.value+'"'}function D(t,e){if(Ei.test(t)){var n=S(t);return n.filters?"this._applyFilters("+n.expression+",null,"+JSON.stringify(n.filters)+",false)":"("+t+")"}return e?t:"("+t+")"}function O(t,e,n,i){I(t,1,function(){e.appendChild(t)},n,i)}function R(t,e,n,i){I(t,1,function(){H(t,e)},n,i)}function N(t,e,n){I(t,-1,function(){W(t)},e,n)}function I(t,e,n,i,r){var o=t.__v_trans;if(!o||!o.hooks&&!Yn||!i._isCompiled||i.$parent&&!i.$parent._isCompiled)return n(),void(r&&r());var s=e>0?"enter":"leave";o[s](n,r)}function B(t){if("string"==typeof t){var e=t;t=document.querySelector(t),t||Mi("Cannot find element: "+e)}return t}function F(t){if(!t)return!1;var e=t.ownerDocument.documentElement,n=t.parentNode;return e===t||e===n||!(!n||1!==n.nodeType||!e.contains(n))}function U(t,e){var n=t.getAttribute(e);return null!==n&&t.removeAttribute(e),n}function j(t,e){var n=U(t,":"+e);return null===n&&(n=U(t,"v-bind:"+e)),n}function z(t,e){return t.hasAttribute(e)||t.hasAttribute(":"+e)||t.hasAttribute("v-bind:"+e)}function H(t,e){e.parentNode.insertBefore(t,e)}function $(t,e){e.nextSibling?H(t,e.nextSibling):e.parentNode.appendChild(t)}function W(t){t.parentNode.removeChild(t)}function q(t,e){e.firstChild?H(t,e.firstChild):e.appendChild(t)}function G(t,e){var n=t.parentNode;n&&n.replaceChild(e,t)}function V(t,e,n,i){t.addEventListener(e,n,i)}function Z(t,e,n){t.removeEventListener(e,n)}function X(t){var e=t.className;return"object"==typeof e&&(e=e.baseVal||""),e}function Y(t,e){$n&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function J(t,e){if(t.classList)t.classList.add(e);else{var n=" "+X(t)+" ";n.indexOf(" "+e+" ")<0&&Y(t,(n+e).trim())}}function K(t,e){if(t.classList)t.classList.remove(e);else{for(var n=" "+X(t)+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");Y(t,n.trim())}t.className||t.removeAttribute("class")}function Q(t,e){var n,i;if(nt(t)&&at(t.content)&&(t=t.content),t.hasChildNodes())for(tt(t),i=e?document.createDocumentFragment():document.createElement("div");n=t.firstChild;)i.appendChild(n);return i}function tt(t){for(var e;e=t.firstChild,et(e);)t.removeChild(e);for(;e=t.lastChild,et(e);)t.removeChild(e)}function et(t){return t&&(3===t.nodeType&&!t.data.trim()||8===t.nodeType)}function nt(t){return t.tagName&&"template"===t.tagName.toLowerCase()}function it(t,e){var n=Pi.debug?document.createComment(t):document.createTextNode(e?" ":"");return n.__v_anchor=!0,n}function rt(t){if(t.hasAttributes())for(var e=t.attributes,n=0,i=e.length;i>n;n++){var r=e[n].name;if(Di.test(r))return l(r.replace(Di,""))}}function ot(t,e,n){for(var i;t!==e;)i=t.nextSibling,n(t),t=i;n(e)}function st(t,e,n,i,r){function o(){if(a++,s&&a>=u.length){for(var t=0;t<u.length;t++)i.appendChild(u[t]);r&&r()}}var s=!1,a=0,u=[];ot(t,e,function(t){t===e&&(s=!0),u.push(t),N(t,n,o)})}function at(t){return t&&11===t.nodeType}function ut(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function lt(t,e){var n=t.tagName.toLowerCase(),i=t.hasAttributes();if(Oi.test(n)||Ri.test(n)){if(i)return ht(t,e)}else{if(vt(e,"components",n))return{id:n};var r=i&&ht(t,e);if(r)return r;var o=e._componentNameMap&&e._componentNameMap[n];o?Mi("Unknown custom element: <"+n+"> - did you mean <"+o+">? HTML is case-insensitive, remember to use kebab-case in templates."):Ni(t,n)&&Mi("Unknown custom element: <"+n+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.')}}function ht(t,e){var n=t.getAttribute("is");if(null!=n){if(vt(e,"components",n))return t.removeAttribute("is"),{id:n}}else if(n=j(t,"is"),null!=n)return{id:n,dynamic:!0}}function ct(e,i){var r,o,s;for(r in i)o=e[r],s=i[r],n(e,r)?g(o)&&g(s)&&ct(o,s):t(e,r,s);return e}function ft(t,e){var n=Object.create(t||null);return e?m(n,mt(e)):n}function pt(t){if(t.components)for(var e,n=t.components=mt(t.components),i=Object.keys(n),r=t._componentNameMap={},o=0,s=i.length;s>o;o++){var a=i[o];Oi.test(a)||Ri.test(a)?Mi("Do not use built-in or reserved HTML elements as component id: "+a):(r[a.replace(/-/g,"").toLowerCase()]=c(a),e=n[a],v(e)&&(n[a]=En.extend(e)))}}function dt(t){var e,n,i=t.props;if(Bn(i))for(t.props={},e=i.length;e--;)n=i[e],"string"==typeof n?t.props[n]=null:n.name&&(t.props[n.name]=n);else if(v(i)){var r=Object.keys(i);for(e=r.length;e--;)n=i[r[e]],"function"==typeof n&&(i[r[e]]={type:n})}}function mt(t){if(Bn(t)){for(var e,n={},i=t.length;i--;){e=t[i];var r="function"==typeof e?e.options&&e.options.name||e.id:e.name||e.id;r?n[r]=e:Mi('Array-syntax assets must provide a "name" or "id" field.')}return n}return t}function gt(t,e,i){function r(n){var r=Ii[n]||Bi;s[n]=r(t[n],e[n],i,n)}pt(e),dt(e),e.propsData&&!i&&Mi("propsData can only be used as an instantiation option.");var o,s={};if(e["extends"]&&(t="function"==typeof e["extends"]?gt(t,e["extends"].options,i):gt(t,e["extends"],i)),e.mixins)for(var a=0,u=e.mixins.length;u>a;a++){var l=e.mixins[a],h=l.prototype instanceof En?l.options:l;t=gt(t,h,i)}for(o in t)r(o);for(o in e)n(t,o)||r(o);return s}function vt(t,e,n,i){if("string"==typeof n){var r,o=t[e],s=o[n]||o[r=l(n)]||o[r.charAt(0).toUpperCase()+r.slice(1)];return i&&!s&&Mi("Failed to resolve "+e.slice(0,-1)+": "+n,t),s}}function _t(){this.id=Fi++,this.subs=[]}function yt(t){Hi=!1,t(),Hi=!0}function bt(t){if(this.value=t,this.dep=new _t,_(t,"__ob__",this),Bn(t)){var e=Fn?xt:wt;e(t,ji,zi),this.observeArray(t)}else this.walk(t)}function xt(t,e){t.__proto__=e}function wt(t,e,n){for(var i=0,r=n.length;r>i;i++){var o=n[i];_(t,o,e[o])}}function Tt(t,e){if(t&&"object"==typeof t){var i;return n(t,"__ob__")&&t.__ob__ instanceof bt?i=t.__ob__:Hi&&(Bn(t)||v(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new bt(t)),i&&e&&i.addVm(e),i}}function Et(t,e,n){var i=new _t,r=Object.getOwnPropertyDescriptor(t,e);if(!r||r.configurable!==!1){var o=r&&r.get,s=r&&r.set,a=Tt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):n;if(_t.target&&(i.depend(),a&&a.dep.depend(),Bn(e)))for(var r,s=0,u=e.length;u>s;s++)r=e[s],r&&r.__ob__&&r.__ob__.dep.depend();return e},set:function(e){var r=o?o.call(t):n;e!==r&&(s?s.call(t,e):n=e,a=Tt(e),i.notify())}})}}function Ct(t){t.prototype._init=function(t){t=t||{},this.$el=null,this.$parent=t.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=Wi++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=this._vForRemoving=!1,this._unlinkFn=null,this._context=t._context||this.$parent,this._scope=t._scope,this._frag=t._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),t=this.$options=gt(this.constructor.options,t,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),t.el&&this.$mount(t.el)}}function St(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&122>=e||e>=65&&90>=e?"ident":e>=49&&57>=e?"number":"else"}function Lt(t){var e=t.trim();return"0"===t.charAt(0)&&isNaN(t)?!1:i(e)?u(e):"*"+e}function Pt(t){function e(){var e=t[h+1];return c===er&&"'"===e||c===nr&&'"'===e?(h++,i="\\"+e,p[Gi](),!0):void 0}var n,i,r,o,s,a,u,l=[],h=-1,c=Yi,f=0,p=[];for(p[Vi]=function(){void 0!==r&&(l.push(r),r=void 0)},p[Gi]=function(){void 0===r?r=i:r+=i},p[Zi]=function(){p[Gi](),f++},p[Xi]=function(){if(f>0)f--,c=tr,p[Gi]();else{if(f=0,r=Lt(r),r===!1)return!1;p[Vi]()}};null!=c;)if(h++,n=t[h],"\\"!==n||!e()){if(o=St(n),u=or[c],s=u[o]||u["else"]||rr,s===rr)return;if(c=s[0],a=p[s[1]],a&&(i=s[2],i=void 0===i?n:i,a()===!1))return;if(c===ir)return l.raw=t,l}}function Mt(t){var e=qi.get(t);return e||(e=Pt(t),e&&qi.put(t,e)),e}function At(t,e){return Ut(e).get(t)}function kt(e,n,i){var r=e;if("string"==typeof n&&(n=Pt(n)),!n||!g(e))return!1;for(var o,s,a=0,u=n.length;u>a;a++)o=e,s=n[a],"*"===s.charAt(0)&&(s=Ut(s.slice(1)).get.call(r,r)),u-1>a?(e=e[s],g(e)||(e={},o._isVue&&sr(n,o),t(o,s,e))):Bn(e)?e.$set(s,i):s in e?e[s]=i:(e._isVue&&sr(n,e),t(e,s,i));return!0}function Dt(){}function Ot(t,e){var n=br.length;return br[n]=e?t.replace(dr,"\\n"):t,'"'+n+'"'}function Rt(t){var e=t.charAt(0),n=t.slice(1);return hr.test(n)?t:(n=n.indexOf('"')>-1?n.replace(gr,Nt):n,e+"scope."+n)}function Nt(t,e){return br[e]}function It(t){fr.test(t)&&Mi("Avoid using reserved keywords in expression: "+t),br.length=0;var e=t.replace(mr,Ot).replace(pr,"");return e=(" "+e).replace(_r,Rt).replace(gr,Nt),Bt(e)}function Bt(t){try{return new Function("scope","return "+t+";")}catch(e){return Mi(e.toString().match(/unsafe-eval|CSP/)?"It seems you are using the default build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. Use the CSP-compliant build instead: http://vuejs.org/guide/installation.html#CSP-compliant-build":"Invalid expression. Generated function body: "+t),Dt}}function Ft(t){var e=Mt(t);return e?function(t,n){kt(t,e,n)}:void Mi("Invalid setter expression: "+t)}function Ut(t,e){t=t.trim();var n=ur.get(t);if(n)return e&&!n.set&&(n.set=Ft(n.exp)),n;var i={exp:t};return i.get=jt(t)&&t.indexOf("[")<0?Bt("scope."+t):It(t),e&&(i.set=Ft(t)),ur.put(t,i),i}function jt(t){return vr.test(t)&&!yr.test(t)&&"Math."!==t.slice(0,5)}function zt(){wr.length=0,Tr.length=0,Er={},Cr={},Sr=!1}function Ht(){for(var t=!0;t;)t=!1,$t(wr),$t(Tr),wr.length?t=!0:(jn&&Pi.devtools&&jn.emit("flush"),zt())}function $t(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.id;if(Er[i]=null,n.run(),null!=Er[i]&&(Cr[i]=(Cr[i]||0)+1,Cr[i]>Pi._maxUpdateCount)){Mi('You may have an infinite update loop for watcher with expression "'+n.expression+'"',n.vm);break}}t.length=0}function Wt(t){var e=t.id;if(null==Er[e]){var n=t.user?Tr:wr;Er[e]=n.length,n.push(t),Sr||(Sr=!0,ei(Ht))}}function qt(t,e,n,i){i&&m(this,i);var r="function"==typeof e;if(this.vm=t,t._watchers.push(this),this.expression=e,this.cb=n,this.id=++Lr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ni,this.newDepIds=new ni,this.prevError=null,r)this.getter=e,this.setter=void 0;else{var o=Ut(e,this.twoWay);this.getter=o.get,this.setter=o.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function Gt(t,e){var n=void 0,i=void 0;e||(e=Pr,e.clear());var r=Bn(t),o=g(t);if((r||o)&&Object.isExtensible(t)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(r)for(n=t.length;n--;)Gt(t[n],e);else if(o)for(i=Object.keys(t),n=i.length;n--;)Gt(t[i[n]],e)}}function Vt(t){return nt(t)&&at(t.content)}function Zt(t,e){var n=e?t:t.trim(),i=Ar.get(n);if(i)return i;var r=document.createDocumentFragment(),o=t.match(Or),s=Rr.test(t),a=Nr.test(t);if(o||s||a){var u=o&&o[1],l=Dr[u]||Dr.efault,h=l[0],c=l[1],f=l[2],p=document.createElement("div");for(p.innerHTML=c+t+f;h--;)p=p.lastChild;for(var d;d=p.firstChild;)r.appendChild(d)}else r.appendChild(document.createTextNode(t));return e||tt(r),Ar.put(n,r),r}function Xt(t){if(Vt(t))return Zt(t.innerHTML);if("SCRIPT"===t.tagName)return Zt(t.textContent);for(var e,n=Yt(t),i=document.createDocumentFragment();e=n.firstChild;)i.appendChild(e);return tt(i),i}function Yt(t){if(!t.querySelectorAll)return t.cloneNode();var e,n,i,r=t.cloneNode(!0);if(Ir){var o=r;if(Vt(t)&&(t=t.content,o=r.content),n=t.querySelectorAll("template"),n.length)for(i=o.querySelectorAll("template"),e=i.length;e--;)i[e].parentNode.replaceChild(Yt(n[e]),i[e])}if(Br)if("TEXTAREA"===t.tagName)r.value=t.value;else if(n=t.querySelectorAll("textarea"),n.length)for(i=r.querySelectorAll("textarea"),e=i.length;e--;)i[e].value=n[e].value;return r}function Jt(t,e,n){var i,r;return at(t)?(tt(t),e?Yt(t):t):("string"==typeof t?n||"#"!==t.charAt(0)?r=Zt(t,n):(r=kr.get(t),r||(i=document.getElementById(t.slice(1)),i&&(r=Xt(i),kr.put(t,r)))):t.nodeType&&(r=Xt(t)),r&&e?Yt(r):r)}function Kt(t,e,n,i,r,o){this.children=[],this.childFrags=[],this.vm=e,this.scope=r,this.inserted=!1,this.parentFrag=o,o&&o.childFrags.push(this),this.unlink=t(e,n,i,r,this);var s=this.single=1===n.childNodes.length&&!n.childNodes[0].__v_anchor;s?(this.node=n.childNodes[0],this.before=Qt,this.remove=te):(this.node=it("fragment-start"),this.end=it("fragment-end"),this.frag=n,q(this.node,n),n.appendChild(this.end),this.before=ee,this.remove=ne),this.node.__v_frag=this}function Qt(t,e){this.inserted=!0;var n=e!==!1?R:H;n(this.node,t,this.vm),F(this.node)&&this.callHook(ie)}function te(){this.inserted=!1;var t=F(this.node),e=this;this.beforeRemove(),N(this.node,this.vm,function(){t&&e.callHook(re),e.destroy()})}function ee(t,e){this.inserted=!0;var n=this.vm,i=e!==!1?R:H;ot(this.node,this.end,function(e){i(e,t,n)}),F(this.node)&&this.callHook(ie)}function ne(){this.inserted=!1;var t=this,e=F(this.node);this.beforeRemove(),st(this.node,this.end,this.vm,this.frag,function(){e&&t.callHook(re),t.destroy()})}function ie(t){!t._isAttached&&F(t.$el)&&t._callHook("attached")}function re(t){t._isAttached&&!F(t.$el)&&t._callHook("detached")}function oe(t,e){this.vm=t;var n,i="string"==typeof e;i||nt(e)&&!e.hasAttribute("v-if")?n=Jt(e,!0):(n=document.createDocumentFragment(),n.appendChild(e)),this.template=n;var r,o=t.constructor.cid;if(o>0){var s=o+(i?e:ut(e));r=jr.get(s),r||(r=Ie(n,t.$options,!0),jr.put(s,r))}else r=Ie(n,t.$options,!0);this.linker=r}function se(t,e,n){var i=t.node.previousSibling;if(i){for(t=i.__v_frag;!(t&&t.forId===n&&t.inserted||i===e);){if(i=i.previousSibling,!i)return;t=i.__v_frag}return t}}function ae(t){var e=t.node;if(t.end)for(;!e.__vue__&&e!==t.end&&e.nextSibling;)e=e.nextSibling;return e.__vue__}function ue(t){for(var e=-1,n=new Array(Math.floor(t));++e<t;)n[e]=e;return n}function le(t,e,n,i){return i?"$index"===i?t:i.charAt(0).match(/\w/)?At(n,i):n[i]:e||n}function he(t,e,n){for(var i,r,o,s=e?[]:null,a=0,u=t.options.length;u>a;a++)if(i=t.options[a],o=n?i.hasAttribute("selected"):i.selected){if(r=i.hasOwnProperty("_value")?i._value:i.value,!e)return r;s.push(r)}return s}function ce(t,e){for(var n=t.length;n--;)if(w(t[n],e))return n;return-1}function fe(t,e){var n=e.map(function(t){var e=t.charCodeAt(0);return e>47&&58>e?parseInt(t,10):1===t.length&&(e=t.toUpperCase().charCodeAt(0),e>64&&91>e)?e:ao[t]});return n=[].concat.apply([],n),function(e){return n.indexOf(e.keyCode)>-1?t.call(this,e):void 0}}function pe(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function de(t){return function(e){return e.preventDefault(),t.call(this,e)}}function me(t){return function(e){return e.target===e.currentTarget?t.call(this,e):void 0}}function ge(t){if(fo[t])return fo[t];var e=ve(t);return fo[t]=fo[e]=e,e}function ve(t){t=c(t);var e=l(t),n=e.charAt(0).toUpperCase()+e.slice(1);po||(po=document.createElement("div"));var i,r=lo.length;if("filter"!==e&&e in po.style)return{kebab:t,camel:e};for(;r--;)if(i=ho[r]+n,i in po.style)return{kebab:lo[r]+t,camel:i}}function _e(t){var e=[];if(Bn(t))for(var n=0,i=t.length;i>n;n++){var r=t[n];if(r)if("string"==typeof r)e.push(r);else for(var o in r)r[o]&&e.push(o)}else if(g(t))for(var s in t)t[s]&&e.push(s);return e}function ye(t,e,n){if(e=e.trim(),-1===e.indexOf(" "))return void n(t,e);for(var i=e.split(/\s+/),r=0,o=i.length;o>r;r++)n(t,i[r])}function be(t,e,n){function i(){++o>=r?n():t[o].call(e,i)}var r=t.length,o=0;t[0].call(e,i)}function xe(t,e,n){for(var r,o,s,a,u,h,f,p=[],d=Object.keys(e),m=d.length;m--;)if(o=d[m],r=e[o]||Ao,"$data"!==o)if(u=l(o),ko.test(u)){if(f={name:o,path:u,options:r,mode:Mo.ONE_WAY,raw:null},s=c(o),null===(a=j(t,s))&&(null!==(a=j(t,s+".sync"))?f.mode=Mo.TWO_WAY:null!==(a=j(t,s+".once"))&&(f.mode=Mo.ONE_TIME)),null!==a)f.raw=a,h=S(a),a=h.expression,f.filters=h.filters,i(a)&&!h.filters?f.optimizedLiteral=!0:(f.dynamic=!0,f.mode!==Mo.TWO_WAY||Do.test(a)||(f.mode=Mo.ONE_WAY,Mi("Cannot bind two-way prop with non-settable parent path: "+a,n))),f.parentPath=a,r.twoWay&&f.mode!==Mo.TWO_WAY&&Mi('Prop "'+o+'" expects a two-way binding type.',n);else if(null!==(a=U(t,s)))f.raw=a;else{var g=u.toLowerCase();a=/[A-Z\-]/.test(o)&&(t.getAttribute(g)||t.getAttribute(":"+g)||t.getAttribute("v-bind:"+g)||t.getAttribute(":"+g+".once")||t.getAttribute("v-bind:"+g+".once")||t.getAttribute(":"+g+".sync")||t.getAttribute("v-bind:"+g+".sync")),a?Mi("Possible usage error for prop `"+g+"` - did you mean `"+s+"`? HTML is case-insensitive, remember to use kebab-case for props in templates.",n):r.required&&Mi("Missing required prop: "+o,n)}p.push(f)}else Mi('Invalid prop key: "'+o+'". Prop keys must be valid identifiers.',n);else Mi("Do not use $data as prop.",n);return we(p)}function we(t){return function(e,i){e._props={};for(var r,o,l,h,f,p=e.$options.propsData,d=t.length;d--;)if(r=t[d],f=r.raw,o=r.path,l=r.options,e._props[o]=r,p&&n(p,o)&&Ee(e,r,p[o]),null===f)Ee(e,r,void 0);else if(r.dynamic)r.mode===Mo.ONE_TIME?(h=(i||e._context||e).$get(r.parentPath),Ee(e,r,h)):e._context?e._bindDir({name:"prop",def:Ro,prop:r},null,null,i):Ee(e,r,e.$get(r.parentPath));else if(r.optimizedLiteral){var m=u(f);h=m===f?a(s(f)):m,Ee(e,r,h)}else h=l.type!==Boolean||""!==f&&f!==c(r.name)?f:!0,Ee(e,r,h)}}function Te(t,e,n,i){var r=e.dynamic&&jt(e.parentPath),o=n;void 0===o&&(o=Se(t,e)),o=Pe(e,o,t);var s=o!==n;Le(e,o,t)||(o=void 0),r&&!s?yt(function(){i(o)}):i(o)}function Ee(t,e,n){Te(t,e,n,function(n){Et(t,e.path,n)})}function Ce(t,e,n){Te(t,e,n,function(n){t[e.path]=n})}function Se(t,e){var i=e.options;if(!n(i,"default"))return i.type===Boolean?!1:void 0;var r=i["default"];return g(r)&&Mi('Invalid default value for prop "'+e.name+'": Props with type Object/Array must use a factory function to return the default value.',t),"function"==typeof r&&i.type!==Function?r.call(t):r}function Le(t,e,n){if(!t.options.required&&(null===t.raw||null==e))return!0;var i=t.options,r=i.type,o=!r,s=[];if(r){Bn(r)||(r=[r]);for(var a=0;a<r.length&&!o;a++){var u=Me(e,r[a]);s.push(u.expectedType),o=u.valid}}if(!o)return Mi('Invalid prop: type check failed for prop "'+t.name+'". Expected '+s.map(Ae).join(", ")+", got "+ke(e)+".",n),!1;var l=i.validator;return l&&!l(e)?(Mi('Invalid prop: custom validator check failed for prop "'+t.name+'".',n),!1):!0}function Pe(t,e,n){var i=t.options.coerce;return i?"function"==typeof i?i(e):(Mi('Invalid coerce for prop "'+t.name+'": expected function, got '+typeof i+".",n),e):e}function Me(t,e){var n,i;return e===String?(i="string",
n=typeof t===i):e===Number?(i="number",n=typeof t===i):e===Boolean?(i="boolean",n=typeof t===i):e===Function?(i="function",n=typeof t===i):e===Object?(i="object",n=v(t)):e===Array?(i="array",n=Bn(t)):n=t instanceof e,{valid:n,expectedType:i}}function Ae(t){return t?t.charAt(0).toUpperCase()+t.slice(1):"custom type"}function ke(t){return Object.prototype.toString.call(t).slice(8,-1)}function De(t){No.push(t),Io||(Io=!0,ei(Oe))}function Oe(){for(var t=document.documentElement.offsetHeight,e=0;e<No.length;e++)No[e]();return No=[],Io=!1,t}function Re(t,e,n,i){this.id=e,this.el=t,this.enterClass=n&&n.enterClass||e+"-enter",this.leaveClass=n&&n.leaveClass||e+"-leave",this.hooks=n,this.vm=i,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={},this.type=n&&n.type,this.type&&this.type!==Bo&&this.type!==Fo&&Mi('invalid CSS transition type for transition="'+this.id+'": '+this.type,i);var r=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(t){r[t]=p(r[t],r)})}function Ne(t){if(/svg$/.test(t.namespaceURI)){var e=t.getBoundingClientRect();return!(e.width||e.height)}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function Ie(t,e,n){var i=n||!e._asComponent?$e(t,e):null,r=i&&i.terminal||an(t)||!t.hasChildNodes()?null:Xe(t.childNodes,e);return function(t,e,n,o,s){var a=d(e.childNodes),u=Be(function(){i&&i(t,e,n,o,s),r&&r(t,a,n,o,s)},t);return Ue(t,u)}}function Be(t,e){var n=e._directives.length;t();var i=e._directives.slice(n);i.sort(Fe);for(var r=0,o=i.length;o>r;r++)i[r]._bind();return i}function Fe(t,e){return t=t.descriptor.def.priority||Jo,e=e.descriptor.def.priority||Jo,t>e?-1:t===e?0:1}function Ue(t,e,n,i){function r(r){je(t,e,r),n&&i&&je(n,i)}return r.dirs=e,r}function je(t,e,n){for(var i=e.length;i--;)e[i]._teardown(),n||t._directives.$remove(e[i])}function ze(t,e,n,i){var r=xe(e,n,t),o=Be(function(){r(t,i)},t);return Ue(t,o)}function He(t,e,n){var i,r,o=e._containerAttrs,s=e._replacerAttrs;if(11!==t.nodeType)e._asComponent?(o&&n&&(i=nn(o,n)),s&&(r=nn(s,e))):r=nn(t.attributes,e);else if(o){var a=o.filter(function(t){return t.name.indexOf("_v-")<0&&!Vo.test(t.name)&&"slot"!==t.name}).map(function(t){return'"'+t.name+'"'});if(a.length){var u=a.length>1;Mi("Attribute"+(u?"s ":" ")+a.join(", ")+(u?" are":" is")+" ignored on component <"+e.el.tagName.toLowerCase()+"> because the component is a fragment instance: http://vuejs.org/guide/components.html#Fragment-Instance")}}return e._containerAttrs=e._replacerAttrs=null,function(t,e,n){var o,s=t._context;s&&i&&(o=Be(function(){i(s,e,null,n)},s));var a=Be(function(){r&&r(t,e)},t);return Ue(t,a,s,o)}}function $e(t,e){var n=t.nodeType;return 1!==n||an(t)?3===n&&t.data.trim()?qe(t,e):null:We(t,e)}function We(t,e){if("TEXTAREA"===t.tagName){var n=M(t.value);n&&(t.setAttribute(":value",A(n)),t.value="")}var i,r=t.hasAttributes(),o=r&&d(t.attributes);return r&&(i=Qe(t,o,e)),i||(i=Je(t,e)),i||(i=Ke(t,e)),!i&&r&&(i=nn(o,e)),i}function qe(t,e){if(t._skip)return Ge;var n=M(t.wholeText);if(!n)return null;for(var i=t.nextSibling;i&&3===i.nodeType;)i._skip=!0,i=i.nextSibling;for(var r,o,s=document.createDocumentFragment(),a=0,u=n.length;u>a;a++)o=n[a],r=o.tag?Ve(o,e):document.createTextNode(o.value),s.appendChild(r);return Ze(n,s,e)}function Ge(t,e){W(e)}function Ve(t,e){function n(e){if(!t.descriptor){var n=S(t.value);t.descriptor={name:e,def:So[e],expression:n.expression,filters:n.filters}}}var i;return t.oneTime?i=document.createTextNode(t.value):t.html?(i=document.createComment("v-html"),n("html")):(i=document.createTextNode(" "),n("text")),i}function Ze(t,e){return function(n,i,r,s){for(var a,u,l,h=e.cloneNode(!0),c=d(h.childNodes),f=0,p=t.length;p>f;f++)a=t[f],u=a.value,a.tag&&(l=c[f],a.oneTime?(u=(s||n).$eval(u),a.html?G(l,Jt(u,!0)):l.data=o(u)):n._bindDir(a.descriptor,l,r,s));G(i,h)}}function Xe(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)r=t[s],n=$e(r,e),i=n&&n.terminal||"SCRIPT"===r.tagName||!r.hasChildNodes()?null:Xe(r.childNodes,e),o.push(n,i);return o.length?Ye(o):null}function Ye(t){return function(e,n,i,r,o){for(var s,a,u,l=0,h=0,c=t.length;c>l;h++){s=n[h],a=t[l++],u=t[l++];var f=d(s.childNodes);a&&a(e,s,i,r,o),u&&u(e,f,i,r,o)}}}function Je(t,e){var n=t.tagName.toLowerCase();if(!Oi.test(n)){var i=vt(e,"elementDirectives",n);return i?en(t,n,"",e,i):void 0}}function Ke(t,e){var n=lt(t,e);if(n){var i=rt(t),r={name:"component",ref:i,expression:n.id,def:qo.component,modifiers:{literal:!n.dynamic}},o=function(t,e,n,o,s){i&&Et((o||t).$refs,i,null),t._bindDir(r,e,n,o,s)};return o.terminal=!0,o}}function Qe(t,e,n){if(null!==U(t,"v-pre"))return tn;if(t.hasAttribute("v-else")){var i=t.previousElementSibling;if(i&&i.hasAttribute("v-if"))return tn}for(var r,o,s,a,u,l,h,c,f,p,d=0,m=e.length;m>d;d++)r=e[d],o=r.name.replace(Xo,""),(u=o.match(Zo))&&(f=vt(n,"directives",u[1]),f&&f.terminal&&(!p||(f.priority||Ko)>p.priority)&&(p=f,h=r.name,a=rn(r.name),s=r.value,l=u[1],c=u[2]));return p?en(t,l,s,n,p,h,c,a):void 0}function tn(){}function en(t,e,n,i,r,o,s,a){var u=S(n),l={name:e,arg:s,expression:u.expression,filters:u.filters,raw:n,attr:o,modifiers:a,def:r};("for"===e||"router-view"===e)&&(l.ref=rt(t));var h=function(t,e,n,i,r){l.ref&&Et((i||t).$refs,l.ref,null),t._bindDir(l,e,n,i,r)};return h.terminal=!0,h}function nn(t,e){function n(t,e,n){var i=n&&sn(n),r=!i&&S(o);m.push({name:t,attr:s,raw:a,def:e,arg:l,modifiers:h,expression:r&&r.expression,filters:r&&r.filters,interp:n,hasOneTime:i})}for(var i,r,o,s,a,u,l,h,c,f,p,d=t.length,m=[];d--;)if(i=t[d],r=s=i.name,o=a=i.value,f=M(o),l=null,h=rn(r),r=r.replace(Xo,""),f)o=A(f),l=r,n("bind",So.bind,f),"class"===r&&Array.prototype.some.call(t,function(t){return":class"===t.name||"v-bind:class"===t.name})&&Mi('class="'+a+'": Do not mix mustache interpolation and v-bind for "class" on the same element. Use one or the other.',e);else if(Yo.test(r))h.literal=!Go.test(r),n("transition",qo.transition);else if(Vo.test(r))l=r.replace(Vo,""),n("on",So.on);else if(Go.test(r))u=r.replace(Go,""),"style"===u||"class"===u?n(u,qo[u]):(l=u,n("bind",So.bind));else if(p=r.match(Zo)){if(u=p[1],l=p[2],"else"===u)continue;c=vt(e,"directives",u,!0),c&&n(u,c)}return m.length?on(m):void 0}function rn(t){var e=Object.create(null),n=t.match(Xo);if(n)for(var i=n.length;i--;)e[n[i].slice(1)]=!0;return e}function on(t){return function(e,n,i,r,o){for(var s=t.length;s--;)e._bindDir(t[s],n,i,r,o)}}function sn(t){for(var e=t.length;e--;)if(t[e].oneTime)return!0}function an(t){return"SCRIPT"===t.tagName&&(!t.hasAttribute("type")||"text/javascript"===t.getAttribute("type"))}function un(t,e){return e&&(e._containerAttrs=hn(t)),nt(t)&&(t=Jt(t)),e&&(e._asComponent&&!e.template&&(e.template="<slot></slot>"),e.template&&(e._content=Q(t),t=ln(t,e))),at(t)&&(q(it("v-start",!0),t),t.appendChild(it("v-end",!0))),t}function ln(t,e){var n=e.template,i=Jt(n,!0);if(i){var r=i.firstChild,o=r.tagName&&r.tagName.toLowerCase();return e.replace?(t===document.body&&Mi("You are mounting an instance with a template to <body>. This will replace <body> entirely. You should probably use `replace: false` here."),i.childNodes.length>1||1!==r.nodeType||"component"===o||vt(e,"components",o)||z(r,"is")||vt(e,"elementDirectives",o)||r.hasAttribute("v-for")||r.hasAttribute("v-if")?i:(e._replacerAttrs=hn(r),cn(t,r),r)):(t.appendChild(i),t)}Mi("Invalid template option: "+n)}function hn(t){return 1===t.nodeType&&t.hasAttributes()?d(t.attributes):void 0}function cn(t,e){for(var n,i,r=t.attributes,o=r.length;o--;)n=r[o].name,i=r[o].value,e.hasAttribute(n)||Qo.test(n)?"class"===n&&!M(i)&&(i=i.trim())&&i.split(/\s+/).forEach(function(t){J(e,t)}):e.setAttribute(n,i)}function fn(t,e){if(e){for(var n,i,r=t._slotContents=Object.create(null),o=0,s=e.children.length;s>o;o++)n=e.children[o],(i=n.getAttribute("slot"))&&(r[i]||(r[i]=[])).push(n),j(n,"slot")&&Mi('The "slot" attribute must be static.',t.$parent);for(i in r)r[i]=pn(r[i],e);if(e.hasChildNodes()){var a=e.childNodes;if(1===a.length&&3===a[0].nodeType&&!a[0].data.trim())return;r["default"]=pn(e.childNodes,e)}}}function pn(t,e){var n=document.createDocumentFragment();t=d(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];!nt(o)||o.hasAttribute("v-if")||o.hasAttribute("v-for")||(e.removeChild(o),o=Jt(o,!0)),n.appendChild(o)}return n}function dn(t){function e(){}function i(t,e){var n=new qt(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),_t.target&&n.depend(),n.value}}Object.defineProperty(t.prototype,"$data",{get:function(){return this._data},set:function(t){t!==this._data&&this._setData(t)}}),t.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},t.prototype._initProps=function(){var t=this.$options,e=t.el,n=t.props;n&&!e&&Mi("Props will not be compiled if no `el` option is provided at instantiation.",this),e=t.el=B(e),this._propsUnlinkFn=e&&1===e.nodeType&&n?ze(this,e,n,this._scope):null},t.prototype._initData=function(){var t=this.$options.data,e=this._data=t?t():{};v(e)||(e={},Mi("data functions should return an object.",this));var i,r,o=this._props,s=Object.keys(e);for(i=s.length;i--;)r=s[i],o&&n(o,r)?Mi('Data field "'+r+'" is already defined as a prop. To provide default value for a prop, use the "default" prop option; if you want to pass prop values to an instantiation call, use the "propsData" option.',this):this._proxy(r);Tt(e,this)},t.prototype._setData=function(t){t=t||{};var e=this._data;this._data=t;var i,r,o;for(i=Object.keys(e),o=i.length;o--;)r=i[o],r in t||this._unproxy(r);for(i=Object.keys(t),o=i.length;o--;)r=i[o],n(this,r)||this._proxy(r);e.__ob__.removeVm(this),Tt(t,this),this._digest()},t.prototype._proxy=function(t){if(!r(t)){var e=this;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(n){e._data[t]=n}})}},t.prototype._unproxy=function(t){r(t)||delete this[t]},t.prototype._digest=function(){for(var t=0,e=this._watchers.length;e>t;t++)this._watchers[t].update(!0)},t.prototype._initComputed=function(){var t=this.$options.computed;if(t)for(var n in t){var r=t[n],o={enumerable:!0,configurable:!0};"function"==typeof r?(o.get=i(r,this),o.set=e):(o.get=r.get?r.cache!==!1?i(r.get,this):p(r.get,this):e,o.set=r.set?p(r.set,this):e),Object.defineProperty(this,n,o)}},t.prototype._initMethods=function(){var t=this.$options.methods;if(t)for(var e in t)this[e]=p(t[e],this)},t.prototype._initMeta=function(){var t=this.$options._meta;if(t)for(var e in t)Et(this,e,t[e])}}function mn(t){function e(t,e){for(var n,i,r,o=e.attributes,s=0,a=o.length;a>s;s++)n=o[s].name,es.test(n)&&(n=n.replace(es,""),i=o[s].value,jt(i)&&(i+=".apply(this, $arguments)"),r=(t._scope||t._context).$eval(i,!0),r._fromParent=!0,t.$on(n.replace(es),r))}function n(t,e,n){if(n){var r,o,s,a;for(o in n)if(r=n[o],Bn(r))for(s=0,a=r.length;a>s;s++)i(t,e,o,r[s]);else i(t,e,o,r)}}function i(t,e,n,r,o){var s=typeof r;if("function"===s)t[e](n,r,o);else if("string"===s){var a=t.$options.methods,u=a&&a[r];u?t[e](n,u,o):Mi('Unknown method: "'+r+'" when registering callback for '+e+': "'+n+'".',t)}else r&&"object"===s&&i(t,e,n,r.handler,r)}function r(){this._isAttached||(this._isAttached=!0,this.$children.forEach(o))}function o(t){!t._isAttached&&F(t.$el)&&t._callHook("attached")}function s(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(a))}function a(t){t._isAttached&&!F(t.$el)&&t._callHook("detached")}t.prototype._initEvents=function(){var t=this.$options;t._asComponent&&e(this,t.el),n(this,"$on",t.events),n(this,"$watch",t.watch)},t.prototype._initDOMHooks=function(){this.$on("hook:attached",r),this.$on("hook:detached",s)},t.prototype._callHook=function(t){this.$emit("pre-hook:"+t);var e=this.$options[t];if(e)for(var n=0,i=e.length;i>n;n++)e[n].call(this);this.$emit("hook:"+t)}}function gn(){}function vn(t,e,n,i,r,o){this.vm=e,this.el=n,this.descriptor=t,this.name=t.name,this.expression=t.expression,this.arg=t.arg,this.modifiers=t.modifiers,this.filters=t.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=i,this._scope=r,this._frag=o,this.el&&(this.el._vue_directives=this.el._vue_directives||[],this.el._vue_directives.push(this))}function _n(t){t.prototype._updateRef=function(t){var e=this.$options._ref;if(e){var n=(this._scope||this._context).$refs;t?n[e]===this&&(n[e]=null):n[e]=this}},t.prototype._compile=function(t){var e=this.$options,n=t;if(t=un(t,e),this._initElement(t),1!==t.nodeType||null===U(t,"v-pre")){var i=this._context&&this._context.$options,r=He(t,e,i);fn(this,e._content);var o,s=this.constructor;e._linkerCachable&&(o=s.linker,o||(o=s.linker=Ie(t,e)));var a=r(this,t,this._scope),u=o?o(this,t):Ie(t,e)(this,t);this._unlinkFn=function(){a(),u(!0)},e.replace&&G(n,t),this._isCompiled=!0,this._callHook("compiled")}},t.prototype._initElement=function(t){at(t)?(this._isFragment=!0,this.$el=this._fragmentStart=t.firstChild,this._fragmentEnd=t.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=t):this.$el=t,this.$el.__vue__=this,this._callHook("beforeCompile")},t.prototype._bindDir=function(t,e,n,i,r){this._directives.push(new vn(t,this,e,n,i,r))},t.prototype._destroy=function(t,e){if(this._isBeingDestroyed)return void(e||this._cleanup());var n,i,r=this,o=function(){!n||i||e||r._cleanup()};t&&this.$el&&(i=!0,this.$remove(function(){i=!1,o()})),this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var s,a=this.$parent;for(a&&!a._isBeingDestroyed&&(a.$children.$remove(this),this._updateRef(!0)),s=this.$children.length;s--;)this.$children[s].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),s=this._watchers.length;s--;)this._watchers[s].teardown();this.$el&&(this.$el.__vue__=null),n=!0,o()},t.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data&&this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}function yn(t){t.prototype._applyFilters=function(t,e,n,i){var r,o,s,a,u,l,h,c,f;for(l=0,h=n.length;h>l;l++)if(r=n[i?h-l-1:l],o=vt(this.$options,"filters",r.name,!0),o&&(o=i?o.write:o.read||o,"function"==typeof o)){if(s=i?[t,e]:[t],u=i?2:1,r.args)for(c=0,f=r.args.length;f>c;c++)a=r.args[c],s[c+u]=a.dynamic?this.$get(a.value):a.value;t=o.apply(this,s)}return t},t.prototype._resolveComponent=function(e,n){var i;if(i="function"==typeof e?e:vt(this.$options,"components",e,!0))if(i.options)n(i);else if(i.resolved)n(i.resolved);else if(i.requested)i.pendingCallbacks.push(n);else{i.requested=!0;var r=i.pendingCallbacks=[n];i.call(this,function(e){v(e)&&(e=t.extend(e)),i.resolved=e;for(var n=0,o=r.length;o>n;n++)r[n](e)},function(t){Mi("Failed to resolve async component"+("string"==typeof e?": "+e:"")+". "+(t?"\nReason: "+t:""))})}}}function bn(t){function n(t){return JSON.parse(JSON.stringify(t))}t.prototype.$get=function(t,e){var n=Ut(t);if(n){if(e){var i=this;return function(){i.$arguments=d(arguments);var t=n.get.call(i,i);return i.$arguments=null,t}}try{return n.get.call(this,this)}catch(r){}}},t.prototype.$set=function(t,e){var n=Ut(t,!0);n&&n.set&&n.set.call(this,this,e)},t.prototype.$delete=function(t){e(this._data,t)},t.prototype.$watch=function(t,e,n){var i,r=this;"string"==typeof t&&(i=S(t),t=i.expression);var o=new qt(r,t,e,{deep:n&&n.deep,sync:n&&n.sync,filters:i&&i.filters,user:!n||n.user!==!1});return n&&n.immediate&&e.call(r,o.value),function(){o.teardown()}},t.prototype.$eval=function(t,e){if(ns.test(t)){var n=S(t),i=this.$get(n.expression,e);return n.filters?this._applyFilters(i,null,n.filters):i}return this.$get(t,e)},t.prototype.$interpolate=function(t){var e=M(t),n=this;return e?1===e.length?n.$eval(e[0].value)+"":e.map(function(t){return t.tag?n.$eval(t.value):t.value}).join(""):t},t.prototype.$log=function(t){var e=t?At(this._data,t):this._data;if(e&&(e=n(e)),!t){var i;for(i in this.$options.computed)e[i]=n(this[i]);if(this._props)for(i in this._props)e[i]=n(this[i])}console.log(e)}}function xn(t){function e(t,e,i,r,o,s){e=n(e);var a=!F(e),u=r===!1||a?o:s,l=!a&&!t._isAttached&&!F(t.$el);return t._isFragment?(ot(t._fragmentStart,t._fragmentEnd,function(n){u(n,e,t)}),i&&i()):u(t.$el,e,t,i),l&&t._callHook("attached"),t}function n(t){return"string"==typeof t?document.querySelector(t):t}function i(t,e,n,i){e.appendChild(t),i&&i()}function r(t,e,n,i){H(t,e),i&&i()}function o(t,e,n){W(t),n&&n()}t.prototype.$nextTick=function(t){ei(t,this)},t.prototype.$appendTo=function(t,n,r){return e(this,t,n,r,i,O)},t.prototype.$prependTo=function(t,e,i){return t=n(t),t.hasChildNodes()?this.$before(t.firstChild,e,i):this.$appendTo(t,e,i),this},t.prototype.$before=function(t,n,i){return e(this,t,n,i,r,R)},t.prototype.$after=function(t,e,i){return t=n(t),t.nextSibling?this.$before(t.nextSibling,e,i):this.$appendTo(t.parentNode,e,i),this},t.prototype.$remove=function(t,e){if(!this.$el.parentNode)return t&&t();var n=this._isAttached&&F(this.$el);n||(e=!1);var i=this,r=function(){n&&i._callHook("detached"),t&&t()};if(this._isFragment)st(this._fragmentStart,this._fragmentEnd,this,this._fragment,r);else{var s=e===!1?o:N;s(this.$el,this,r)}return this}}function wn(t){function e(t,e,i){var r=t.$parent;if(r&&i&&!n.test(e))for(;r;)r._eventsCount[e]=(r._eventsCount[e]||0)+i,r=r.$parent}t.prototype.$on=function(t,n){return(this._events[t]||(this._events[t]=[])).push(n),e(this,t,1),this},t.prototype.$once=function(t,e){function n(){i.$off(t,n),e.apply(this,arguments)}var i=this;return n.fn=e,this.$on(t,n),this},t.prototype.$off=function(t,n){var i;if(!arguments.length){if(this.$parent)for(t in this._events)i=this._events[t],i&&e(this,t,-i.length);return this._events={},this}if(i=this._events[t],!i)return this;if(1===arguments.length)return e(this,t,-i.length),this._events[t]=null,this;for(var r,o=i.length;o--;)if(r=i[o],r===n||r.fn===n){e(this,t,-1),i.splice(o,1);break}return this},t.prototype.$emit=function(t){var e="string"==typeof t;t=e?t:t.name;var n=this._events[t],i=e||!n;if(n){n=n.length>1?d(n):n;var r=e&&n.some(function(t){return t._fromParent});r&&(i=!1);for(var o=d(arguments,1),s=0,a=n.length;a>s;s++){var u=n[s],l=u.apply(this,o);l!==!0||r&&!u._fromParent||(i=!0)}}return i},t.prototype.$broadcast=function(t){var e="string"==typeof t;if(t=e?t:t.name,this._eventsCount[t]){var n=this.$children,i=d(arguments);e&&(i[0]={name:t,source:this});for(var r=0,o=n.length;o>r;r++){var s=n[r],a=s.$emit.apply(s,i);a&&s.$broadcast.apply(s,i)}return this}},t.prototype.$dispatch=function(t){var e=this.$emit.apply(this,arguments);if(e){var n=this.$parent,i=d(arguments);for(i[0]={name:t,source:this};n;)e=n.$emit.apply(n,i),n=e?n.$parent:null;return this}};var n=/^hook:/}function Tn(t){function e(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}t.prototype.$mount=function(t){return this._isCompiled?void Mi("$mount() should be called only once.",this):(t=B(t),t||(t=document.createElement("div")),this._compile(t),this._initDOMHooks(),F(this.$el)?(this._callHook("attached"),e.call(this)):this.$once("hook:attached",e),this)},t.prototype.$destroy=function(t,e){this._destroy(t,e)},t.prototype.$compile=function(t,e,n,i){return Ie(t,this.$options,!0)(this,t,e,n,i)}}function En(t){this._init(t)}function Cn(t,e,n){return n=n?parseInt(n,10):0,e=s(e),"number"==typeof e?t.slice(n,n+e):t}function Sn(t,e,n){if(t=ss(t),null==e)return t;if("function"==typeof e)return t.filter(e);e=(""+e).toLowerCase();for(var i,r,o,s,a="in"===n?3:2,u=Array.prototype.concat.apply([],d(arguments,a)),l=[],h=0,c=t.length;c>h;h++)if(i=t[h],o=i&&i.$value||i,s=u.length){for(;s--;)if(r=u[s],"$key"===r&&Pn(i.$key,e)||Pn(At(o,r),e)){l.push(i);break}}else Pn(i,e)&&l.push(i);return l}function Ln(t){function e(t,e,n){var r=i[n];return r&&("$key"!==r&&(g(t)&&"$value"in t&&(t=t.$value),g(e)&&"$value"in e&&(e=e.$value)),t=g(t)?At(t,r):t,e=g(e)?At(e,r):e),t===e?0:t>e?o:-o}var n=null,i=void 0;t=ss(t);var r=d(arguments,1),o=r[r.length-1];"number"==typeof o?(o=0>o?-1:1,r=r.length>1?r.slice(0,-1):r):o=1;var s=r[0];return s?("function"==typeof s?n=function(t,e){return s(t,e)*o}:(i=Array.prototype.concat.apply([],r),n=function(t,r,o){return o=o||0,o>=i.length-1?e(t,r,o):e(t,r,o)||n(t,r,o+1)}),t.slice().sort(n)):t}function Pn(t,e){var n;if(v(t)){var i=Object.keys(t);for(n=i.length;n--;)if(Pn(t[i[n]],e))return!0}else if(Bn(t)){for(n=t.length;n--;)if(Pn(t[n],e))return!0}else if(null!=t)return t.toString().toLowerCase().indexOf(e)>-1}function Mn(n){function i(t){return new Function("return function "+f(t)+" (options) { this._init(options) }")()}n.options={directives:So,elementDirectives:os,filters:us,transitions:{},components:{},partials:{},replace:!0},n.util=$i,n.config=Pi,n.set=t,n["delete"]=e,n.nextTick=ei,n.compiler=ts,n.FragmentFactory=oe,n.internalDirectives=qo,n.parsers={path:ar,text:Ci,template:Fr,directive:yi,expression:xr},n.cid=0;var r=1;n.extend=function(t){t=t||{};var e=this,n=0===e.cid;if(n&&t._Ctor)return t._Ctor;var o=t.name||e.options.name;/^[a-zA-Z][\w-]*$/.test(o)||(Mi('Invalid component name: "'+o+'". Component names can only contain alphanumeric characaters and the hyphen.'),o=null);var s=i(o||"VueComponent");return s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.cid=r++,s.options=gt(e.options,t),s["super"]=e,s.extend=e.extend,Pi._assetTypes.forEach(function(t){s[t]=e[t]}),o&&(s.options.components[o]=s),n&&(t._Ctor=s),s},n.use=function(t){if(!t.installed){var e=d(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}},n.mixin=function(t){n.options=gt(n.options,t)},Pi._assetTypes.forEach(function(t){n[t]=function(e,i){return i?("component"===t&&(Oi.test(e)||Ri.test(e))&&Mi("Do not use built-in or reserved HTML elements as component id: "+e),"component"===t&&v(i)&&(i.name||(i.name=e),i=n.extend(i)),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}),m(n.transition,ki)}var An=Object.prototype.hasOwnProperty,kn=/^\s?(true|false|-?[\d\.]+|'[^']*'|"[^"]*")\s?$/,Dn=/-(\w)/g,On=/([a-z\d])([A-Z])/g,Rn=/(?:^|[-_\/])(\w)/g,Nn=Object.prototype.toString,In="[object Object]",Bn=Array.isArray,Fn="__proto__"in{},Un="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),jn=Un&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,zn=Un&&window.navigator.userAgent.toLowerCase(),Hn=zn&&zn.indexOf("trident")>0,$n=zn&&zn.indexOf("msie 9.0")>0,Wn=zn&&zn.indexOf("android")>0,qn=zn&&/(iphone|ipad|ipod|ios)/i.test(zn),Gn=qn&&zn.match(/os ([\d_]+)/),Vn=Gn&&Gn[1].split("_"),Zn=Vn&&Number(Vn[0])>=9&&Number(Vn[1])>=3&&!window.indexedDB,Xn=void 0,Yn=void 0,Jn=void 0,Kn=void 0;if(Un&&!$n){var Qn=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,ti=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;Xn=Qn?"WebkitTransition":"transition",Yn=Qn?"webkitTransitionEnd":"transitionend",Jn=ti?"WebkitAnimation":"animation",Kn=ti?"webkitAnimationEnd":"animationend"}var ei=function(){function t(){i=!1;var t=n.slice(0);n=[];for(var e=0;e<t.length;e++)t[e]()}var e,n=[],i=!1;if("undefined"==typeof MutationObserver||Zn){var r=Un?window:"undefined"!=typeof global?global:{};e=r.setImmediate||setTimeout}else{var o=1,s=new MutationObserver(t),a=document.createTextNode(o);s.observe(a,{characterData:!0}),e=function(){o=(o+1)%2,a.data=o}}return function(r,o){var s=o?function(){r.call(o)}:r;n.push(s),i||(i=!0,e(t,0))}}(),ni=void 0;"undefined"!=typeof Set&&Set.toString().match(/native code/)?ni=Set:(ni=function(){this.set=Object.create(null)},ni.prototype.has=function(t){return void 0!==this.set[t]},ni.prototype.add=function(t){this.set[t]=1},ni.prototype.clear=function(){this.set=Object.create(null)});var ii=T.prototype;ii.put=function(t,e){var n,i=this.get(t,!0);return i||(this.size===this.limit&&(n=this.shift()),i={key:t},this._keymap[t]=i,this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.size++),i.value=e,n},ii.shift=function(){var t=this.head;return t&&(this.head=this.head.newer,this.head.older=void 0,t.newer=t.older=void 0,this._keymap[t.key]=void 0,this.size--),t},ii.get=function(t,e){var n=this._keymap[t];if(void 0!==n)return n===this.tail?e?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,e?n:n.value)};var ri,oi,si,ai,ui,li,hi,ci,fi,pi,di,mi,gi=new T(1e3),vi=/[^\s'"]+|'[^']*'|"[^"]*"/g,_i=/^in$|^-?\d+/,yi=Object.freeze({parseDirective:S}),bi=/[-.*+?^${}()|[\]\/\\]/g,xi=void 0,wi=void 0,Ti=void 0,Ei=/[^|]\|[^|]/,Ci=Object.freeze({compileRegex:P,parseText:M,tokensToExp:A}),Si=["{{","}}"],Li=["{{{","}}}"],Pi=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,devtools:!0,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return Si},set:function(t){Si=t,P()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return Li},set:function(t){Li=t,P()},configurable:!0,enumerable:!0}}),Mi=void 0,Ai=void 0;!function(){var t="undefined"!=typeof console;Mi=function(e,n){t&&!Pi.silent&&console.error("[Vue warn]: "+e+(n?Ai(n):""))},Ai=function(t){var e=t._isVue?t.$options.name:t.name;return e?" (found in component: <"+c(e)+">)":""}}();var ki=Object.freeze({appendWithTransition:O,beforeWithTransition:R,removeWithTransition:N,applyTransition:I}),Di=/^v-ref:/,Oi=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/i,Ri=/^(slot|partial|component)$/i,Ni=void 0;Ni=function(t,e){return e.indexOf("-")>-1?t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:/HTMLUnknownElement/.test(t.toString())&&!/^(data|time|rtc|rb|details|dialog|summary)$/.test(e)};var Ii=Pi.optionMergeStrategies=Object.create(null);Ii.data=function(t,e,n){return n?t||e?function(){var i="function"==typeof e?e.call(n):e,r="function"==typeof t?t.call(n):void 0;return i?ct(i,r):r}:void 0:e?"function"!=typeof e?(Mi('The "data" option should be a function that returns a per-instance value in component definitions.',n),t):t?function(){return ct(e.call(this),t.call(this))}:e:t},Ii.el=function(t,e,n){if(!n&&e&&"function"!=typeof e)return void Mi('The "el" option should be a function that returns a per-instance value in component definitions.',n);var i=e||t;return n&&"function"==typeof i?i.call(n):i},Ii.init=Ii.created=Ii.ready=Ii.attached=Ii.detached=Ii.beforeCompile=Ii.compiled=Ii.beforeDestroy=Ii.destroyed=Ii.activate=function(t,e){return e?t?t.concat(e):Bn(e)?e:[e]:t},Pi._assetTypes.forEach(function(t){Ii[t+"s"]=ft}),Ii.watch=Ii.events=function(t,e){if(!e)return t;if(!t)return e;var n={};m(n,t);for(var i in e){var r=n[i],o=e[i];r&&!Bn(r)&&(r=[r]),n[i]=r?r.concat(o):[o]}return n},Ii.props=Ii.methods=Ii.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return m(n,t),m(n,e),n};var Bi=function(t,e){return void 0===e?t:e},Fi=0;_t.target=null,_t.prototype.addSub=function(t){this.subs.push(t)},_t.prototype.removeSub=function(t){this.subs.$remove(t)},_t.prototype.depend=function(){_t.target.addDep(this)},_t.prototype.notify=function(){for(var t=d(this.subs),e=0,n=t.length;n>e;e++)t[e].update()};var Ui=Array.prototype,ji=Object.create(Ui);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Ui[t];_(ji,t,function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];var r,o=e.apply(this,i),s=this.__ob__;switch(t){case"push":r=i;break;case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o})}),_(Ui,"$set",function(t,e){return t>=this.length&&(this.length=Number(t)+1),this.splice(t,1,e)[0]}),_(Ui,"$remove",function(t){if(this.length){var e=b(this,t);return e>-1?this.splice(e,1):void 0}});var zi=Object.getOwnPropertyNames(ji),Hi=!0;bt.prototype.walk=function(t){for(var e=Object.keys(t),n=0,i=e.length;i>n;n++)this.convert(e[n],t[e[n]])},bt.prototype.observeArray=function(t){for(var e=0,n=t.length;n>e;e++)Tt(t[e])},bt.prototype.convert=function(t,e){Et(this.value,t,e)},bt.prototype.addVm=function(t){(this.vms||(this.vms=[])).push(t)},bt.prototype.removeVm=function(t){this.vms.$remove(t)};var $i=Object.freeze({defineReactive:Et,set:t,del:e,hasOwn:n,isLiteral:i,isReserved:r,_toString:o,toNumber:s,toBoolean:a,stripQuotes:u,camelize:l,hyphenate:c,classify:f,bind:p,toArray:d,extend:m,isObject:g,isPlainObject:v,def:_,debounce:y,indexOf:b,cancellable:x,looseEqual:w,isArray:Bn,hasProto:Fn,inBrowser:Un,devtools:jn,isIE:Hn,isIE9:$n,isAndroid:Wn,isIos:qn,iosVersionMatch:Gn,iosVersion:Vn,hasMutationObserverBug:Zn,get transitionProp(){return Xn},get transitionEndEvent(){return Yn},get animationProp(){return Jn},get animationEndEvent(){return Kn},nextTick:ei,get _Set(){return ni},query:B,inDoc:F,getAttr:U,getBindAttr:j,hasBindAttr:z,before:H,after:$,remove:W,prepend:q,replace:G,on:V,off:Z,setClass:Y,addClass:J,removeClass:K,extractContent:Q,trimNode:tt,isTemplate:nt,createAnchor:it,findRef:rt,mapNodeRange:ot,removeNodeRange:st,isFragment:at,getOuterHTML:ut,mergeOptions:gt,resolveAsset:vt,checkComponentAttr:lt,commonTagRE:Oi,reservedTagRE:Ri,get warn(){return Mi}}),Wi=0,qi=new T(1e3),Gi=0,Vi=1,Zi=2,Xi=3,Yi=0,Ji=1,Ki=2,Qi=3,tr=4,er=5,nr=6,ir=7,rr=8,or=[];or[Yi]={ws:[Yi],ident:[Qi,Gi],"[":[tr],eof:[ir]},or[Ji]={ws:[Ji],".":[Ki],"[":[tr],eof:[ir]},or[Ki]={ws:[Ki],ident:[Qi,Gi]},or[Qi]={ident:[Qi,Gi],0:[Qi,Gi],number:[Qi,Gi],ws:[Ji,Vi],".":[Ki,Vi],"[":[tr,Vi],eof:[ir,Vi]},or[tr]={"'":[er,Gi],'"':[nr,Gi],"[":[tr,Zi],"]":[Ji,Xi],eof:rr,"else":[tr,Gi]},or[er]={"'":[tr,Gi],eof:rr,"else":[er,Gi]},or[nr]={'"':[tr,Gi],eof:rr,"else":[nr,Gi]};var sr;sr=function(t,e){Mi('You are setting a non-existent path "'+t.raw+'" on a vm instance. Consider pre-initializing the property with the "data" option for more reliable reactivity and better performance.',e)};var ar=Object.freeze({parsePath:Mt,getPath:At,setPath:kt}),ur=new T(1e3),lr="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",hr=new RegExp("^("+lr.replace(/,/g,"\\b|")+"\\b)"),cr="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public",fr=new RegExp("^("+cr.replace(/,/g,"\\b|")+"\\b)"),pr=/\s/g,dr=/\n/g,mr=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,gr=/"(\d+)"/g,vr=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,_r=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,yr=/^(?:true|false|null|undefined|Infinity|NaN)$/,br=[],xr=Object.freeze({parseExpression:Ut,isSimplePath:jt}),wr=[],Tr=[],Er={},Cr={},Sr=!1,Lr=0;qt.prototype.get=function(){this.beforeGet();var t,e=this.scope||this.vm;try{t=this.getter.call(e,e)}catch(n){Pi.warnExpressionErrors&&Mi('Error when evaluating expression "'+this.expression+'": '+n.toString(),this.vm)}return this.deep&&Gt(t),this.preProcess&&(t=this.preProcess(t)),this.filters&&(t=e._applyFilters(t,null,this.filters,!1)),this.postProcess&&(t=this.postProcess(t)),this.afterGet(),t},qt.prototype.set=function(t){var e=this.scope||this.vm;this.filters&&(t=e._applyFilters(t,this.value,this.filters,!0));try{this.setter.call(e,e,t)}catch(n){Pi.warnExpressionErrors&&Mi('Error when evaluating setter "'+this.expression+'": '+n.toString(),this.vm);
}var i=e.$forContext;if(i&&i.alias===this.expression){if(i.filters)return void Mi("It seems you are using two-way binding on a v-for alias ("+this.expression+"), and the v-for has filters. This will not work properly. Either remove the filters or use an array of objects and bind to object properties instead.",this.vm);i._withLock(function(){e.$key?i.rawValue[e.$key]=t:i.rawValue.$set(e.$index,t)})}},qt.prototype.beforeGet=function(){_t.target=this},qt.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},qt.prototype.afterGet=function(){_t.target=null;for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},qt.prototype.update=function(t){this.lazy?this.dirty=!0:this.sync||!Pi.async?this.run():(this.shallow=this.queued?t?this.shallow:!1:!!t,this.queued=!0,Pi.debug&&(this.prevError=new Error("[vue] async stack trace")),Wt(this))},qt.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||(g(t)||this.deep)&&!this.shallow){var e=this.value;this.value=t;var n=this.prevError;if(Pi.debug&&n){this.prevError=null;try{this.cb.call(this.vm,t,e)}catch(i){throw ei(function(){throw n},0),i}}else this.cb.call(this.vm,t,e)}this.queued=this.shallow=!1}},qt.prototype.evaluate=function(){var t=_t.target;this.value=this.get(),this.dirty=!1,_t.target=t},qt.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},qt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||this.vm._watchers.$remove(this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var Pr=new ni,Mr={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(t){this.el[this.attr]=o(t)}},Ar=new T(1e3),kr=new T(1e3),Dr={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};Dr.td=Dr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Dr.option=Dr.optgroup=[1,'<select multiple="multiple">',"</select>"],Dr.thead=Dr.tbody=Dr.colgroup=Dr.caption=Dr.tfoot=[1,"<table>","</table>"],Dr.g=Dr.defs=Dr.symbol=Dr.use=Dr.image=Dr.text=Dr.circle=Dr.ellipse=Dr.line=Dr.path=Dr.polygon=Dr.polyline=Dr.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var Or=/<([\w:-]+)/,Rr=/&#?\w+?;/,Nr=/<!--/,Ir=function(){if(Un){var t=document.createElement("div");return t.innerHTML="<template>1</template>",!t.cloneNode(!0).firstChild.innerHTML}return!1}(),Br=function(){if(Un){var t=document.createElement("textarea");return t.placeholder="t","t"===t.cloneNode(!0).value}return!1}(),Fr=Object.freeze({cloneNode:Yt,parseTemplate:Jt}),Ur={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=it("v-html"),G(this.el,this.anchor))},update:function(t){t=o(t),this.nodes?this.swap(t):this.el.innerHTML=t},swap:function(t){for(var e=this.nodes.length;e--;)W(this.nodes[e]);var n=Jt(t,!0,!0);this.nodes=d(n.childNodes),H(n,this.anchor)}};Kt.prototype.callHook=function(t){var e,n;for(e=0,n=this.childFrags.length;n>e;e++)this.childFrags[e].callHook(t);for(e=0,n=this.children.length;n>e;e++)t(this.children[e])},Kt.prototype.beforeRemove=function(){var t,e;for(t=0,e=this.childFrags.length;e>t;t++)this.childFrags[t].beforeRemove(!1);for(t=0,e=this.children.length;e>t;t++)this.children[t].$destroy(!1,!0);var n=this.unlink.dirs;for(t=0,e=n.length;e>t;t++)n[t]._watcher&&n[t]._watcher.teardown()},Kt.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.node.__v_frag=null,this.unlink()};var jr=new T(5e3);oe.prototype.create=function(t,e,n){var i=Yt(this.template);return new Kt(this.linker,this.vm,i,t,e,n)};var zr=700,Hr=800,$r=850,Wr=1100,qr=1500,Gr=1500,Vr=1750,Zr=2100,Xr=2200,Yr=2300,Jr=0,Kr={priority:Xr,terminal:!0,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){var t=this.expression.match(/(.*) (?:in|of) (.*)/);if(t){var e=t[1].match(/\((.*),(.*)\)/);e?(this.iterator=e[1].trim(),this.alias=e[2].trim()):this.alias=t[1].trim(),this.expression=t[2]}if(!this.alias)return void Mi('Invalid v-for expression "'+this.descriptor.raw+'": alias is required.',this.vm);this.id="__v-for__"+ ++Jr;var n=this.el.tagName;this.isOption=("OPTION"===n||"OPTGROUP"===n)&&"SELECT"===this.el.parentNode.tagName,this.start=it("v-for-start"),this.end=it("v-for-end"),G(this.el,this.end),H(this.start,this.end),this.cache=Object.create(null),this.factory=new oe(this.vm,this.el)},update:function(t){this.diff(t),this.updateRef(),this.updateModel()},diff:function(t){var e,i,r,o,s,a,u=t[0],l=this.fromObject=g(u)&&n(u,"$key")&&n(u,"$value"),h=this.params.trackBy,c=this.frags,f=this.frags=new Array(t.length),p=this.alias,d=this.iterator,m=this.start,v=this.end,_=F(m),y=!c;for(e=0,i=t.length;i>e;e++)u=t[e],o=l?u.$key:null,s=l?u.$value:u,a=!g(s),r=!y&&this.getCachedFrag(s,e,o),r?(r.reused=!0,r.scope.$index=e,o&&(r.scope.$key=o),d&&(r.scope[d]=null!==o?o:e),(h||l||a)&&yt(function(){r.scope[p]=s})):(r=this.create(s,p,e,o),r.fresh=!y),f[e]=r,y&&r.before(v);if(!y){var b=0,x=c.length-f.length;for(this.vm._vForRemoving=!0,e=0,i=c.length;i>e;e++)r=c[e],r.reused||(this.deleteCachedFrag(r),this.remove(r,b++,x,_));this.vm._vForRemoving=!1,b&&(this.vm._watchers=this.vm._watchers.filter(function(t){return t.active}));var w,T,E,C=0;for(e=0,i=f.length;i>e;e++)r=f[e],w=f[e-1],T=w?w.staggerCb?w.staggerAnchor:w.end||w.node:m,r.reused&&!r.staggerCb?(E=se(r,m,this.id),E===w||E&&se(E,m,this.id)===w||this.move(r,T)):this.insert(r,C++,T,_),r.reused=r.fresh=!1}},create:function(t,e,n,i){var r=this._host,o=this._scope||this.vm,s=Object.create(o);s.$refs=Object.create(o.$refs),s.$els=Object.create(o.$els),s.$parent=o,s.$forContext=this,yt(function(){Et(s,e,t)}),Et(s,"$index",n),i?Et(s,"$key",i):s.$key&&_(s,"$key",null),this.iterator&&Et(s,this.iterator,null!==i?i:n);var a=this.factory.create(r,s,this._frag);return a.forId=this.id,this.cacheFrag(t,a,n,i),a},updateRef:function(){var t=this.descriptor.ref;if(t){var e,n=(this._scope||this.vm).$refs;this.fromObject?(e={},this.frags.forEach(function(t){e[t.scope.$key]=ae(t)})):e=this.frags.map(ae),n[t]=e}},updateModel:function(){if(this.isOption){var t=this.start.parentNode,e=t&&t.__v_model;e&&e.forceUpdate()}},insert:function(t,e,n,i){t.staggerCb&&(t.staggerCb.cancel(),t.staggerCb=null);var r=this.getStagger(t,e,null,"enter");if(i&&r){var o=t.staggerAnchor;o||(o=t.staggerAnchor=it("stagger-anchor"),o.__v_frag=t),$(o,n);var s=t.staggerCb=x(function(){t.staggerCb=null,t.before(o),W(o)});setTimeout(s,r)}else{var a=n.nextSibling;a||($(this.end,n),a=this.end),t.before(a)}},remove:function(t,e,n,i){if(t.staggerCb)return t.staggerCb.cancel(),void(t.staggerCb=null);var r=this.getStagger(t,e,n,"leave");if(i&&r){var o=t.staggerCb=x(function(){t.staggerCb=null,t.remove()});setTimeout(o,r)}else t.remove()},move:function(t,e){e.nextSibling||this.end.parentNode.appendChild(this.end),t.before(e.nextSibling,!1)},cacheFrag:function(t,e,i,r){var o,s=this.params.trackBy,a=this.cache,u=!g(t);r||s||u?(o=le(i,r,t,s),a[o]?"$index"!==s&&this.warnDuplicate(t):a[o]=e):(o=this.id,n(t,o)?null===t[o]?t[o]=e:this.warnDuplicate(t):Object.isExtensible(t)?_(t,o,e):Mi("Frozen v-for objects cannot be automatically tracked, make sure to provide a track-by key.")),e.raw=t},getCachedFrag:function(t,e,n){var i,r=this.params.trackBy,o=!g(t);if(n||r||o){var s=le(e,n,t,r);i=this.cache[s]}else i=t[this.id];return i&&(i.reused||i.fresh)&&this.warnDuplicate(t),i},deleteCachedFrag:function(t){var e=t.raw,i=this.params.trackBy,r=t.scope,o=r.$index,s=n(r,"$key")&&r.$key,a=!g(e);if(i||s||a){var u=le(o,s,e,i);this.cache[u]=null}else e[this.id]=null,t.raw=null},getStagger:function(t,e,n,i){i+="Stagger";var r=t.node.__v_trans,o=r&&r.hooks,s=o&&(o[i]||o.stagger);return s?s.call(t,e,n):e*parseInt(this.params[i]||this.params.stagger,10)},_preProcess:function(t){return this.rawValue=t,t},_postProcess:function(t){if(Bn(t))return t;if(v(t)){for(var e,n=Object.keys(t),i=n.length,r=new Array(i);i--;)e=n[i],r[i]={$key:e,$value:t[e]};return r}return"number"!=typeof t||isNaN(t)||(t=ue(t)),t||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var t,e=this.frags.length;e--;)t=this.frags[e],this.deleteCachedFrag(t),t.destroy()}};Kr.warnDuplicate=function(t){Mi('Duplicate value found in v-for="'+this.descriptor.raw+'": '+JSON.stringify(t)+'. Use track-by="$index" if you are expecting duplicate values.',this.vm)};var Qr={priority:Zr,terminal:!0,bind:function(){var t=this.el;if(t.__vue__)Mi('v-if="'+this.expression+'" cannot be used on an instance root element.',this.vm),this.invalid=!0;else{var e=t.nextElementSibling;e&&null!==U(e,"v-else")&&(W(e),this.elseEl=e),this.anchor=it("v-if"),G(t,this.anchor)}},update:function(t){this.invalid||(t?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.factory||(this.factory=new oe(this.vm,this.el)),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseEl&&!this.elseFrag&&(this.elseFactory||(this.elseFactory=new oe(this.elseEl._context||this.vm,this.elseEl)),this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy(),this.elseFrag&&this.elseFrag.destroy()}},to={bind:function(){var t=this.el.nextElementSibling;t&&null!==U(t,"v-else")&&(this.elseEl=t)},update:function(t){this.apply(this.el,t),this.elseEl&&this.apply(this.elseEl,!t)},apply:function(t,e){function n(){t.style.display=e?"":"none"}F(t)?I(t,e?1:-1,n,this.vm):n()}},eo={bind:function(){var t=this,e=this.el,n="range"===e.type,i=this.params.lazy,r=this.params.number,o=this.params.debounce,a=!1;if(Wn||n||(this.on("compositionstart",function(){a=!0}),this.on("compositionend",function(){a=!1,i||t.listener()})),this.focused=!1,n||i||(this.on("focus",function(){t.focused=!0}),this.on("blur",function(){t.focused=!1,(!t._frag||t._frag.inserted)&&t.rawListener()})),this.listener=this.rawListener=function(){if(!a&&t._bound){var i=r||n?s(e.value):e.value;t.set(i),ei(function(){t._bound&&!t.focused&&t.update(t._watcher.value)})}},o&&(this.listener=y(this.listener,o)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery){var u=jQuery.fn.on?"on":"bind";jQuery(e)[u]("change",this.rawListener),i||jQuery(e)[u]("input",this.listener)}else this.on("change",this.rawListener),i||this.on("input",this.listener);!i&&$n&&(this.on("cut",function(){ei(t.listener)}),this.on("keyup",function(e){(46===e.keyCode||8===e.keyCode)&&t.listener()})),(e.hasAttribute("value")||"TEXTAREA"===e.tagName&&e.value.trim())&&(this.afterBind=this.listener)},update:function(t){t=o(t),t!==this.el.value&&(this.el.value=t)},unbind:function(){var t=this.el;if(this.hasjQuery){var e=jQuery.fn.off?"off":"unbind";jQuery(t)[e]("change",this.listener),jQuery(t)[e]("input",this.listener)}}},no={bind:function(){var t=this,e=this.el;this.getValue=function(){if(e.hasOwnProperty("_value"))return e._value;var n=e.value;return t.params.number&&(n=s(n)),n},this.listener=function(){t.set(t.getValue())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){this.el.checked=w(t,this.getValue())}},io={bind:function(){var t=this,e=this,n=this.el;this.forceUpdate=function(){e._watcher&&e.update(e._watcher.get())};var i=this.multiple=n.hasAttribute("multiple");this.listener=function(){var t=he(n,i);t=e.params.number?Bn(t)?t.map(s):s(t):t,e.set(t)},this.on("change",this.listener);var r=he(n,i,!0);(i&&r.length||!i&&null!==r)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",function(){ei(t.forceUpdate)}),F(n)||ei(this.forceUpdate)},update:function(t){var e=this.el;e.selectedIndex=-1;for(var n,i,r=this.multiple&&Bn(t),o=e.options,s=o.length;s--;)n=o[s],i=n.hasOwnProperty("_value")?n._value:n.value,n.selected=r?ce(t,i)>-1:w(t,i)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},ro={bind:function(){function t(){var t=n.checked;return t&&n.hasOwnProperty("_trueValue")?n._trueValue:!t&&n.hasOwnProperty("_falseValue")?n._falseValue:t}var e=this,n=this.el;this.getValue=function(){return n.hasOwnProperty("_value")?n._value:e.params.number?s(n.value):n.value},this.listener=function(){var i=e._watcher.value;if(Bn(i)){var r=e.getValue();n.checked?b(i,r)<0&&i.push(r):i.$remove(r)}else e.set(t())},this.on("change",this.listener),n.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){var e=this.el;Bn(t)?e.checked=b(t,this.getValue())>-1:e.hasOwnProperty("_trueValue")?e.checked=w(t,e._trueValue):e.checked=!!t}},oo={text:eo,radio:no,select:io,checkbox:ro},so={priority:Hr,twoWay:!0,handlers:oo,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&!this.hasWrite&&Mi('It seems you are using a read-only filter with v-model="'+this.descriptor.raw+'". You might want to use a two-way filter to ensure correct behavior.',this.vm);var t,e=this.el,n=e.tagName;if("INPUT"===n)t=oo[e.type]||oo.text;else if("SELECT"===n)t=oo.select;else{if("TEXTAREA"!==n)return void Mi("v-model does not support element type: "+n,this.vm);t=oo.text}e.__v_model=this,t.bind.call(this),this.update=t.update,this._unbind=t.unbind},checkFilters:function(){var t=this.filters;if(t)for(var e=t.length;e--;){var n=vt(this.vm.$options,"filters",t[e].name);("function"==typeof n||n.read)&&(this.hasRead=!0),n.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},ao={esc:27,tab:9,enter:13,space:32,"delete":[8,46],up:38,left:37,right:39,down:40},uo={priority:zr,acceptStatement:!0,keyCodes:ao,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var t=this;this.iframeBind=function(){V(t.el.contentWindow,t.arg,t.handler,t.modifiers.capture)},this.on("load",this.iframeBind)}},update:function(t){if(this.descriptor.raw||(t=function(){}),"function"!=typeof t)return void Mi("v-on:"+this.arg+'="'+this.expression+'" expects a function value, got '+t,this.vm);this.modifiers.stop&&(t=pe(t)),this.modifiers.prevent&&(t=de(t)),this.modifiers.self&&(t=me(t));var e=Object.keys(this.modifiers).filter(function(t){return"stop"!==t&&"prevent"!==t&&"self"!==t&&"capture"!==t});e.length&&(t=fe(t,e)),this.reset(),this.handler=t,this.iframeBind?this.iframeBind():V(this.el,this.arg,this.handler,this.modifiers.capture)},reset:function(){var t=this.iframeBind?this.el.contentWindow:this.el;this.handler&&Z(t,this.arg,this.handler)},unbind:function(){this.reset()}},lo=["-webkit-","-moz-","-ms-"],ho=["Webkit","Moz","ms"],co=/!important;?$/,fo=Object.create(null),po=null,mo={deep:!0,update:function(t){"string"==typeof t?this.el.style.cssText=t:Bn(t)?this.handleObject(t.reduce(m,{})):this.handleObject(t||{})},handleObject:function(t){var e,n,i=this.cache||(this.cache={});for(e in i)e in t||(this.handleSingle(e,null),delete i[e]);for(e in t)n=t[e],n!==i[e]&&(i[e]=n,this.handleSingle(e,n))},handleSingle:function(t,e){if(t=ge(t))if(null!=e&&(e+=""),e){var n=co.test(e)?"important":"";n?(Mi("It's probably a bad idea to use !important with inline rules. This feature will be deprecated in a future version of Vue."),e=e.replace(co,"").trim(),this.el.style.setProperty(t.kebab,e,n)):this.el.style[t.camel]=e}else this.el.style[t.camel]=""}},go="http://www.w3.org/1999/xlink",vo=/^xlink:/,_o=/^v-|^:|^@|^(?:is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,yo=/^(?:value|checked|selected|muted)$/,bo=/^(?:draggable|contenteditable|spellcheck)$/,xo={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},wo={priority:$r,bind:function(){var t=this.arg,e=this.el.tagName;t||(this.deep=!0);var n=this.descriptor,i=n.interp;if(i){n.hasOneTime&&(this.expression=A(i,this._scope||this.vm)),(_o.test(t)||"name"===t&&("PARTIAL"===e||"SLOT"===e))&&(Mi(t+'="'+n.raw+'": attribute interpolation is not allowed in Vue.js directives and special attributes.',this.vm),this.el.removeAttribute(t),this.invalid=!0);var r=t+'="'+n.raw+'": ';"src"===t&&Mi(r+'interpolation in "src" attribute will cause a 404 request. Use v-bind:src instead.',this.vm),"style"===t&&Mi(r+'interpolation in "style" attribute will cause the attribute to be discarded in Internet Explorer. Use v-bind:style instead.',this.vm)}},update:function(t){if(!this.invalid){var e=this.arg;this.arg?this.handleSingle(e,t):this.handleObject(t||{})}},handleObject:mo.handleObject,handleSingle:function(t,e){var n=this.el,i=this.descriptor.interp;if(this.modifiers.camel&&(t=l(t)),!i&&yo.test(t)&&t in n){var r="value"===t&&null==e?"":e;n[t]!==r&&(n[t]=r)}var o=xo[t];if(!i&&o){n[o]=e;var s=n.__v_model;s&&s.listener()}return"value"===t&&"TEXTAREA"===n.tagName?void n.removeAttribute(t):void(bo.test(t)?n.setAttribute(t,e?"true":"false"):null!=e&&e!==!1?"class"===t?(n.__v_trans&&(e+=" "+n.__v_trans.id+"-transition"),Y(n,e)):vo.test(t)?n.setAttributeNS(go,t,e===!0?"":e):n.setAttribute(t,e===!0?"":e):n.removeAttribute(t))}},To={priority:qr,bind:function(){if(this.arg){var t=this.id=l(this.arg),e=(this._scope||this.vm).$els;n(e,t)?e[t]=this.el:Et(e,t,this.el)}},unbind:function(){var t=(this._scope||this.vm).$els;t[this.id]===this.el&&(t[this.id]=null)}},Eo={bind:function(){Mi("v-ref:"+this.arg+" must be used on a child component. Found on <"+this.el.tagName.toLowerCase()+">.",this.vm)}},Co={bind:function(){var t=this.el;this.vm.$once("pre-hook:compiled",function(){t.removeAttribute("v-cloak")})}},So={text:Mr,html:Ur,"for":Kr,"if":Qr,show:to,model:so,on:uo,bind:wo,el:To,ref:Eo,cloak:Co},Lo={deep:!0,update:function(t){t?"string"==typeof t?this.setClass(t.trim().split(/\s+/)):this.setClass(_e(t)):this.cleanup()},setClass:function(t){this.cleanup(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];i&&ye(this.el,i,J)}this.prevKeys=t},cleanup:function(t){var e=this.prevKeys;if(e)for(var n=e.length;n--;){var i=e[n];(!t||t.indexOf(i)<0)&&ye(this.el,i,K)}}},Po={priority:Gr,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__?Mi('cannot mount component "'+this.expression+'" on already mounted element: '+this.el):(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=Q(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=it("v-component"),G(this.el,this.anchor),this.el.removeAttribute("is"),this.el.removeAttribute(":is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+c(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(t){this.literal||this.setComponent(t)},setComponent:function(t,e){if(this.invalidatePending(),t){var n=this;this.resolveComponent(t,function(){n.mountComponent(e)})}else this.unbuild(!0),this.remove(this.childVM,e),this.childVM=null},resolveComponent:function(t,e){var n=this;this.pendingComponentCb=x(function(i){n.ComponentName=i.options.name||("string"==typeof t?t:null),n.Component=i,e()}),this.vm._resolveComponent(t,this.pendingComponentCb)},mountComponent:function(t){this.unbuild(!0);var e=this,n=this.Component.options.activate,i=this.getCached(),r=this.build();n&&!i?(this.waitingFor=r,be(n,r,function(){e.waitingFor===r&&(e.waitingFor=null,e.transition(r,t))})):(i&&r._updateRef(),this.transition(r,t))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(t){var e=this.getCached();if(e)return e;if(this.Component){var n={name:this.ComponentName,el:Yt(this.el),template:this.inlineTemplate,parent:this._host||this.vm,_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};t&&m(n,t);var i=new this.Component(n);return this.keepAlive&&(this.cache[this.Component.cid]=i),this.el.hasAttribute("transition")&&i._isFragment&&Mi("Transitions will not work on a fragment instance. Template: "+i.$options.template,i),i}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(t){this.waitingFor&&(this.keepAlive||this.waitingFor.$destroy(),this.waitingFor=null);var e=this.childVM;return!e||this.keepAlive?void(e&&(e._inactive=!0,e._updateRef(!0))):void e.$destroy(!1,t)},remove:function(t,e){var n=this.keepAlive;if(t){this.pendingRemovals++,this.pendingRemovalCb=e;var i=this;t.$remove(function(){i.pendingRemovals--,n||t._cleanup(),!i.pendingRemovals&&i.pendingRemovalCb&&(i.pendingRemovalCb(),i.pendingRemovalCb=null)})}else e&&e()},transition:function(t,e){var n=this,i=this.childVM;switch(i&&(i._inactive=!0),t._inactive=!1,this.childVM=t,n.params.transitionMode){case"in-out":t.$before(n.anchor,function(){n.remove(i,e)});break;case"out-in":n.remove(i,function(){t.$before(n.anchor,e)});break;default:n.remove(i),t.$before(n.anchor,e)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var t in this.cache)this.cache[t].$destroy();this.cache=null}}},Mo=Pi._propBindingModes,Ao={},ko=/^[$_a-zA-Z]+[\w$]*$/,Do=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\[[^\[\]]+\])*$/,Oo=Pi._propBindingModes,Ro={bind:function(){var t=this.vm,e=t._context,n=this.descriptor.prop,i=n.path,r=n.parentPath,o=n.mode===Oo.TWO_WAY,s=this.parentWatcher=new qt(e,r,function(e){Ce(t,n,e)},{twoWay:o,filters:n.filters,scope:this._scope});if(Ee(t,n,s.value),o){var a=this;t.$once("pre-hook:created",function(){a.childWatcher=new qt(t,i,function(t){s.set(t)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},No=[],Io=!1,Bo="transition",Fo="animation",Uo=Xn+"Duration",jo=Jn+"Duration",zo=Un&&window.requestAnimationFrame,Ho=zo?function(t){zo(function(){zo(t)})}:function(t){setTimeout(t,50)},$o=Re.prototype;$o.enter=function(t,e){this.cancelPending(),this.callHook("beforeEnter"),this.cb=e,J(this.el,this.enterClass),t(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,De(this.enterNextTick))},$o.enterNextTick=function(){var t=this;this.justEntered=!0,Ho(function(){t.justEntered=!1});var e=this.enterDone,n=this.getCssTransitionType(this.enterClass);this.pendingJsCb?n===Bo&&K(this.el,this.enterClass):n===Bo?(K(this.el,this.enterClass),this.setupCssCb(Yn,e)):n===Fo?this.setupCssCb(Kn,e):e()},$o.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,K(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},$o.leave=function(t,e){this.cancelPending(),this.callHook("beforeLeave"),this.op=t,this.cb=e,J(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():De(this.leaveNextTick)))},$o.leaveNextTick=function(){var t=this.getCssTransitionType(this.leaveClass);if(t){var e=t===Bo?Yn:Kn;this.setupCssCb(e,this.leaveDone)}else this.leaveDone()},$o.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),K(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},$o.cancelPending=function(){this.op=this.cb=null;var t=!1;this.pendingCssCb&&(t=!0,Z(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(t=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),t&&(K(this.el,this.enterClass),K(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},$o.callHook=function(t){this.hooks&&this.hooks[t]&&this.hooks[t].call(this.vm,this.el)},$o.callHookWithCb=function(t){var e=this.hooks&&this.hooks[t];e&&(e.length>1&&(this.pendingJsCb=x(this[t+"Done"])),e.call(this.vm,this.el,this.pendingJsCb))},$o.getCssTransitionType=function(t){if(!(!Yn||document.hidden||this.hooks&&this.hooks.css===!1||Ne(this.el))){var e=this.type||this.typeCache[t];if(e)return e;var n=this.el.style,i=window.getComputedStyle(this.el),r=n[Uo]||i[Uo];if(r&&"0s"!==r)e=Bo;else{var o=n[jo]||i[jo];o&&"0s"!==o&&(e=Fo)}return e&&(this.typeCache[t]=e),e}},$o.setupCssCb=function(t,e){this.pendingCssEvent=t;var n=this,i=this.el,r=this.pendingCssCb=function(o){o.target===i&&(Z(i,t,r),n.pendingCssEvent=n.pendingCssCb=null,!n.pendingJsCb&&e&&e())};V(i,t,r)};var Wo={priority:Wr,update:function(t,e){var n=this.el,i=vt(this.vm.$options,"transitions",t);t=t||"v",e=e||"v",n.__v_trans=new Re(n,t,i,this.vm),K(n,e+"-transition"),J(n,t+"-transition")}},qo={style:mo,"class":Lo,component:Po,prop:Ro,transition:Wo},Go=/^v-bind:|^:/,Vo=/^v-on:|^@/,Zo=/^v-([^:]+)(?:$|:(.*)$)/,Xo=/\.[^\.]+/g,Yo=/^(v-bind:|:)?transition$/,Jo=1e3,Ko=2e3;tn.terminal=!0;var Qo=/[^\w\-:\.]/,ts=Object.freeze({compile:Ie,compileAndLinkProps:ze,compileRoot:He,transclude:un,resolveSlots:fn}),es=/^v-on:|^@/;vn.prototype._bind=function(){var t=this.name,e=this.descriptor;if(("cloak"!==t||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var n=e.attr||"v-"+t;this.el.removeAttribute(n)}var i=e.def;if("function"==typeof i?this.update=i:m(this,i),this._setupParams(),this.bind&&this.bind(),this._bound=!0,this.literal)this.update&&this.update(e.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var r=this;this.update?this._update=function(t,e){r._locked||r.update(t,e)}:this._update=gn;var o=this._preProcess?p(this._preProcess,this):null,s=this._postProcess?p(this._postProcess,this):null,a=this._watcher=new qt(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:o,postProcess:s,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(a.value)}},vn.prototype._setupParams=function(){if(this.params){var t=this.params;this.params=Object.create(null);for(var e,n,i,r=t.length;r--;)e=c(t[r]),i=l(e),n=j(this.el,e),null!=n?this._setupParamWatcher(i,n):(n=U(this.el,e),null!=n&&(this.params[i]=""===n?!0:n))}},vn.prototype._setupParamWatcher=function(t,e){var n=this,i=!1,r=(this._scope||this.vm).$watch(e,function(e,r){if(n.params[t]=e,i){var o=n.paramWatchers&&n.paramWatchers[t];o&&o.call(n,e,r)}else i=!0},{immediate:!0,user:!1});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(r)},vn.prototype._checkStatement=function(){var t=this.expression;if(t&&this.acceptStatement&&!jt(t)){var e=Ut(t).get,n=this._scope||this.vm,i=function(t){n.$event=t,e.call(n,n),n.$event=null};return this.filters&&(i=n._applyFilters(i,null,this.filters)),this.update(i),!0}},vn.prototype.set=function(t){this.twoWay?this._withLock(function(){this._watcher.set(t)}):Mi("Directive.set() can only be used inside twoWaydirectives.")},vn.prototype._withLock=function(t){var e=this;e._locked=!0,t.call(e),ei(function(){e._locked=!1})},vn.prototype.on=function(t,e,n){V(this.el,t,e,n),(this._listeners||(this._listeners=[])).push([t,e])},vn.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var t,e=this._listeners;if(e)for(t=e.length;t--;)Z(this.el,e[t][0],e[t][1]);var n=this._paramUnwatchFns;if(n)for(t=n.length;t--;)n[t]();this.el&&this.el._vue_directives.$remove(this),this.vm=this.el=this._watcher=this._listeners=null}};var ns=/[^|]\|[^|]/;Ct(En),dn(En),mn(En),_n(En),yn(En),bn(En),xn(En),wn(En),Tn(En);var is={priority:Yr,params:["name"],bind:function(){var t=this.params.name||"default",e=this.vm._slotContents&&this.vm._slotContents[t];e&&e.hasChildNodes()?this.compile(e.cloneNode(!0),this.vm._context,this.vm):this.fallback()},compile:function(t,e,n){if(t&&e){if(this.el.hasChildNodes()&&1===t.childNodes.length&&1===t.childNodes[0].nodeType&&t.childNodes[0].hasAttribute("v-if")){var i=document.createElement("template");i.setAttribute("v-else",""),i.innerHTML=this.el.innerHTML,i._context=this.vm,t.appendChild(i)}var r=n?n._scope:this._scope;this.unlink=e.$compile(t,n,r,this._frag)}t?G(this.el,t):W(this.el)},fallback:function(){this.compile(Q(this.el,!0),this.vm)},unbind:function(){this.unlink&&this.unlink()}},rs={priority:Vr,params:["name"],paramWatchers:{name:function(t){Qr.remove.call(this),t&&this.insert(t)}},bind:function(){this.anchor=it("v-partial"),G(this.el,this.anchor),this.insert(this.params.name)},insert:function(t){var e=vt(this.vm.$options,"partials",t,!0);e&&(this.factory=new oe(this.vm,e),Qr.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}},os={slot:is,partial:rs},ss=Kr._postProcess,as=/(\d{3})(?=\d)/g,us={orderBy:Ln,filterBy:Sn,limitBy:Cn,json:{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,arguments.length>1?e:2)},write:function(t){try{return JSON.parse(t)}catch(e){return t}}},capitalize:function(t){return t||0===t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},currency:function(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var i=Math.abs(t).toFixed(n),r=n?i.slice(0,-1-n):i,o=r.length%3,s=o>0?r.slice(0,o)+(r.length>3?",":""):"",a=n?i.slice(-1-n):"",u=0>t?"-":"";return u+e+s+r.slice(o).replace(as,"$1,")+a},pluralize:function(t){var e=d(arguments,1),n=e.length;if(n>1){var i=t%10-1;return i in e?e[i]:e[n-1]}return e[0]+(1===t?"":"s")},debounce:function(t,e){return t?(e||(e=300),y(t,e)):void 0}};return Mn(En),En.version="1.0.26",setTimeout(function(){Pi.devtools&&(jn?jn.emit("init",En):Un&&/Chrome\/\d+/.test(window.navigator.userAgent)&&console.log("Download the Vue Devtools for a better development experience:\nhttps://github.com/vuejs/vue-devtools"))},0),En}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ScrollMagic=e()}(this,function(){"use strict";var t=function(){r.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};t.version="2.0.5",window.addEventListener("mousewheel",function(){});var e="data-scrollmagic-pin-spacer";t.Controller=function(i){var o,s,a="ScrollMagic.Controller",u="FORWARD",l="REVERSE",h="PAUSED",c=n.defaults,f=this,p=r.extend({},c,i),d=[],m=!1,g=0,v=h,_=!0,y=0,b=!0,x=function(){for(var e in p)c.hasOwnProperty(e)||(A(2,'WARNING: Unknown option "'+e+'"'),delete p[e]);if(p.container=r.get.elements(p.container)[0],!p.container)throw A(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";_=p.container===window||p.container===document.body||!document.body.contains(p.container),_&&(p.container=window),y=E(),p.container.addEventListener("resize",P),p.container.addEventListener("scroll",P),p.refreshInterval=parseInt(p.refreshInterval)||c.refreshInterval,w(),A(3,"added new "+a+" controller (v"+t.version+")")},w=function(){p.refreshInterval>0&&(s=window.setTimeout(M,p.refreshInterval))},T=function(){return p.vertical?r.get.scrollTop(p.container):r.get.scrollLeft(p.container)},E=function(){return p.vertical?r.get.height(p.container):r.get.width(p.container)},C=this._setScrollPos=function(t){p.vertical?_?window.scrollTo(r.get.scrollLeft(),t):p.container.scrollTop=t:_?window.scrollTo(t,r.get.scrollTop()):p.container.scrollLeft=t},S=function(){if(b&&m){var t=r.type.Array(m)?m:d.slice(0);m=!1;var e=g;g=f.scrollPos();var n=g-e;0!==n&&(v=n>0?u:l),v===l&&t.reverse(),t.forEach(function(e,n){
A(3,"updating Scene "+(n+1)+"/"+t.length+" ("+d.length+" total)"),e.update(!0)}),0===t.length&&p.loglevel>=3&&A(3,"updating 0 Scenes (nothing added to controller)")}},L=function(){o=r.rAF(S)},P=function(t){A(3,"event fired causing an update:",t.type),"resize"==t.type&&(y=E(),v=h),m!==!0&&(m=!0,L())},M=function(){if(!_&&y!=E()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){t=document.createEvent("Event"),t.initEvent("resize",!1,!1)}p.container.dispatchEvent(t)}d.forEach(function(t,e){t.refresh()}),w()},A=this._log=function(t,e){p.loglevel>=t&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),r.log.apply(window,arguments))};this._options=p;var k=function(t){if(t.length<=1)return t;var e=t.slice(0);return e.sort(function(t,e){return t.scrollOffset()>e.scrollOffset()?1:-1}),e};return this.addScene=function(e){if(r.type.Array(e))e.forEach(function(t,e){f.addScene(t)});else if(e instanceof t.Scene){if(e.controller()!==f)e.addTo(f);else if(d.indexOf(e)<0){d.push(e),d=k(d),e.on("shift.controller_sort",function(){d=k(d)});for(var n in p.globalSceneOptions)e[n]&&e[n].call(e,p.globalSceneOptions[n]);A(3,"adding Scene (now "+d.length+" total)")}}else A(1,"ERROR: invalid argument supplied for '.addScene()'");return f},this.removeScene=function(t){if(r.type.Array(t))t.forEach(function(t,e){f.removeScene(t)});else{var e=d.indexOf(t);e>-1&&(t.off("shift.controller_sort"),d.splice(e,1),A(3,"removing Scene (now "+d.length+" left)"),t.remove())}return f},this.updateScene=function(e,n){return r.type.Array(e)?e.forEach(function(t,e){f.updateScene(t,n)}):n?e.update(!0):m!==!0&&e instanceof t.Scene&&(m=m||[],-1==m.indexOf(e)&&m.push(e),m=k(m),L()),f},this.update=function(t){return P({type:"resize"}),t&&S(),f},this.scrollTo=function(n,i){if(r.type.Number(n))C.call(p.container,n,i);else if(n instanceof t.Scene)n.controller()===f?f.scrollTo(n.scrollOffset(),i):A(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",n);else if(r.type.Function(n))C=n;else{var o=r.get.elements(n)[0];if(o){for(;o.parentNode.hasAttribute(e);)o=o.parentNode;var s=p.vertical?"top":"left",a=r.get.offset(p.container),u=r.get.offset(o);_||(a[s]-=f.scrollPos()),f.scrollTo(u[s]-a[s],i)}else A(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",n)}return f},this.scrollPos=function(t){return arguments.length?(r.type.Function(t)?T=t:A(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),f):T.call(f)},this.info=function(t){var e={size:y,vertical:p.vertical,scrollPos:g,scrollDirection:v,container:p.container,isDocument:_};return arguments.length?void 0!==e[t]?e[t]:void A(1,'ERROR: option "'+t+'" is not available'):e},this.loglevel=function(t){return arguments.length?(p.loglevel!=t&&(p.loglevel=t),f):p.loglevel},this.enabled=function(t){return arguments.length?(b!=t&&(b=!!t,f.updateScene(d,!0)),f):b},this.destroy=function(t){window.clearTimeout(s);for(var e=d.length;e--;)d[e].destroy(t);return p.container.removeEventListener("resize",P),p.container.removeEventListener("scroll",P),r.cAF(o),A(3,"destroyed "+a+" (reset: "+(t?"true":"false")+")"),null},x(),f};var n={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};t.Controller.addOption=function(t,e){n.defaults[t]=e},t.Controller.extend=function(e){var n=this;t.Controller=function(){return n.apply(this,arguments),this.$super=r.extend({},this),e.apply(this,arguments)||this},r.extend(t.Controller,n),t.Controller.prototype=n.prototype,t.Controller.prototype.constructor=t.Controller},t.Scene=function(n){var o,s,a="ScrollMagic.Scene",u="BEFORE",l="DURING",h="AFTER",c=i.defaults,f=this,p=r.extend({},c,n),d=u,m=0,g={start:0,end:0},v=0,_=!0,y=function(){for(var t in p)c.hasOwnProperty(t)||(x(2,'WARNING: Unknown option "'+t+'"'),delete p[t]);for(var e in c)M(e);L()},b={};this.on=function(t,e){return r.type.Function(e)?(t=t.trim().split(" "),t.forEach(function(t){var n=t.split("."),i=n[0],r=n[1];"*"!=i&&(b[i]||(b[i]=[]),b[i].push({namespace:r||"",callback:e}))})):x(1,"ERROR when calling '.on()': Supplied callback for '"+t+"' is not a valid function!"),f},this.off=function(t,e){return t?(t=t.trim().split(" "),t.forEach(function(t,n){var i=t.split("."),r=i[0],o=i[1]||"",s="*"===r?Object.keys(b):[r];s.forEach(function(t){for(var n=b[t]||[],i=n.length;i--;){var r=n[i];!r||o!==r.namespace&&"*"!==o||e&&e!=r.callback||n.splice(i,1)}n.length||delete b[t]})}),f):(x(1,"ERROR: Invalid event name supplied."),f)},this.trigger=function(e,n){if(e){var i=e.trim().split("."),r=i[0],o=i[1],s=b[r];x(3,"event fired:",r,n?"->":"",n||""),s&&s.forEach(function(e,i){o&&o!==e.namespace||e.callback.call(f,new t.Event(r,e.namespace,f,n))})}else x(1,"ERROR: Invalid event name supplied.");return f},f.on("change.internal",function(t){"loglevel"!==t.what&&"tweenChanges"!==t.what&&("triggerElement"===t.what?E():"reverse"===t.what&&f.update())}).on("shift.internal",function(t){w(),f.update()});var x=this._log=function(t,e){p.loglevel>=t&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),r.log.apply(window,arguments))};this.addTo=function(e){return e instanceof t.Controller?s!=e&&(s&&s.removeScene(f),s=e,L(),T(!0),E(!0),w(),s.info("container").addEventListener("resize",C),e.addScene(f),f.trigger("add",{controller:s}),x(3,"added "+a+" to controller"),f.update()):x(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),f},this.enabled=function(t){return arguments.length?(_!=t&&(_=!!t,f.update(!0)),f):_},this.remove=function(){if(s){s.info("container").removeEventListener("resize",C);var t=s;s=void 0,t.removeScene(f),f.trigger("remove"),x(3,"removed "+a+" from controller")}return f},this.destroy=function(t){return f.trigger("destroy",{reset:t}),f.remove(),f.off("*.*"),x(3,"destroyed "+a+" (reset: "+(t?"true":"false")+")"),null},this.update=function(t){if(s)if(t)if(s.enabled()&&_){var e,n=s.info("scrollPos");e=p.duration>0?(n-g.start)/(g.end-g.start):n>=g.start?1:0,f.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:n}),f.progress(e)}else A&&d===l&&D(!0);else s.updateScene(f,!1);return f},this.refresh=function(){return T(),E(),f},this.progress=function(t){if(arguments.length){var e=!1,n=d,i=s?s.info("scrollDirection"):"PAUSED",r=p.reverse||t>=m;if(0===p.duration?(e=m!=t,m=1>t&&r?0:1,d=0===m?u:l):0>t&&d!==u&&r?(m=0,d=u,e=!0):t>=0&&1>t&&r?(m=t,d=l,e=!0):t>=1&&d!==h?(m=1,d=h,e=!0):d!==l||r||D(),e){var o={progress:m,state:d,scrollDirection:i},a=d!=n,c=function(t){f.trigger(t,o)};a&&n!==l&&(c("enter"),c(n===u?"start":"end")),c("progress"),a&&d!==l&&(c(d===u?"start":"end"),c("leave"))}return f}return m};var w=function(){g={start:v+p.offset},s&&p.triggerElement&&(g.start-=s.info("size")*p.triggerHook),g.end=g.start+p.duration},T=function(t){if(o){var e="duration";P(e,o.call(f))&&!t&&(f.trigger("change",{what:e,newval:p[e]}),f.trigger("shift",{reason:e}))}},E=function(t){var n=0,i=p.triggerElement;if(s&&i){for(var o=s.info(),a=r.get.offset(o.container),u=o.vertical?"top":"left";i.parentNode.hasAttribute(e);)i=i.parentNode;var l=r.get.offset(i);o.isDocument||(a[u]-=s.scrollPos()),n=l[u]-a[u]}var h=n!=v;v=n,h&&!t&&f.trigger("shift",{reason:"triggerElementPosition"})},C=function(t){p.triggerHook>0&&f.trigger("shift",{reason:"containerResize"})},S=r.extend(i.validate,{duration:function(t){if(r.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)){var e=parseFloat(t)/100;t=function(){return s?s.info("size")*e:0}}if(r.type.Function(t)){o=t;try{t=parseFloat(o())}catch(n){t=-1}}if(t=parseFloat(t),!r.type.Number(t)||0>t)throw o?(o=void 0,['Invalid return value of supplied function for option "duration":',t]):['Invalid value for option "duration":',t];return t}}),L=function(t){t=arguments.length?[t]:Object.keys(S),t.forEach(function(t,e){var n;if(S[t])try{n=S[t](p[t])}catch(i){n=c[t];var o=r.type.String(i)?[i]:i;r.type.Array(o)?(o[0]="ERROR: "+o[0],o.unshift(1),x.apply(this,o)):x(1,"ERROR: Problem executing validation callback for option '"+t+"':",i.message)}finally{p[t]=n}})},P=function(t,e){var n=!1,i=p[t];return p[t]!=e&&(p[t]=e,L(t),n=i!=p[t]),n},M=function(t){f[t]||(f[t]=function(e){return arguments.length?("duration"===t&&(o=void 0),P(t,e)&&(f.trigger("change",{what:t,newval:p[t]}),i.shifts.indexOf(t)>-1&&f.trigger("shift",{reason:t})),f):p[t]})};this.controller=function(){return s},this.state=function(){return d},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var t=p.offset;return s&&(t+=p.triggerElement?v:s.info("size")*f.triggerHook()),t};var A,k;f.on("shift.internal",function(t){var e="duration"===t.reason;(d===h&&e||d===l&&0===p.duration)&&D(),e&&O()}).on("progress.internal",function(t){D()}).on("add.internal",function(t){O()}).on("destroy.internal",function(t){f.removePin(t.reset)});var D=function(t){if(A&&s){var e=s.info(),n=k.spacer.firstChild;if(t||d!==l){var i={position:k.inFlow?"relative":"absolute",top:0,left:0},o=r.css(n,"position")!=i.position;k.pushFollowers?p.duration>0&&(d===h&&0===parseFloat(r.css(k.spacer,"padding-top"))?o=!0:d===u&&0===parseFloat(r.css(k.spacer,"padding-bottom"))&&(o=!0)):i[e.vertical?"top":"left"]=p.duration*m,r.css(n,i),o&&O()}else{"fixed"!=r.css(n,"position")&&(r.css(n,{position:"fixed"}),O());var a=r.get.offset(k.spacer,!0),c=p.reverse||0===p.duration?e.scrollPos-g.start:Math.round(m*p.duration*10)/10;a[e.vertical?"top":"left"]+=c,r.css(k.spacer.firstChild,{top:a.top,left:a.left})}}},O=function(){if(A&&s&&k.inFlow){var t=d===l,e=s.info("vertical"),n=k.spacer.firstChild,i=r.isMarginCollapseType(r.css(k.spacer,"display")),o={};k.relSize.width||k.relSize.autoFullWidth?t?r.css(A,{width:r.get.width(k.spacer)}):r.css(A,{width:"100%"}):(o["min-width"]=r.get.width(e?A:n,!0,!0),o.width=t?o["min-width"]:"auto"),k.relSize.height?t?r.css(A,{height:r.get.height(k.spacer)-(k.pushFollowers?p.duration:0)}):r.css(A,{height:"100%"}):(o["min-height"]=r.get.height(e?n:A,!0,!i),o.height=t?o["min-height"]:"auto"),k.pushFollowers&&(o["padding"+(e?"Top":"Left")]=p.duration*m,o["padding"+(e?"Bottom":"Right")]=p.duration*(1-m)),r.css(k.spacer,o)}},R=function(){s&&A&&d===l&&!s.info("isDocument")&&D()},N=function(){s&&A&&d===l&&((k.relSize.width||k.relSize.autoFullWidth)&&r.get.width(window)!=r.get.width(k.spacer.parentNode)||k.relSize.height&&r.get.height(window)!=r.get.height(k.spacer.parentNode))&&O()},I=function(t){s&&A&&d===l&&!s.info("isDocument")&&(t.preventDefault(),s._setScrollPos(s.info("scrollPos")-((t.wheelDelta||t[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-t.detail)))};this.setPin=function(t,n){var i={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(n=r.extend({},i,n),t=r.get.elements(t)[0],!t)return x(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),f;if("fixed"===r.css(t,"position"))return x(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),f;if(A){if(A===t)return f;f.removePin()}A=t;var o=A.parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];A.parentNode.style.display="none";var a="absolute"!=r.css(A,"position"),u=r.css(A,s.concat(["display"])),l=r.css(A,["width","height"]);A.parentNode.style.display=o,!a&&n.pushFollowers&&(x(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),n.pushFollowers=!1),window.setTimeout(function(){A&&0===p.duration&&n.pushFollowers&&x(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var h=A.parentNode.insertBefore(document.createElement("div"),A),c=r.extend(u,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||r.extend(c,r.css(A,["width","height"])),r.css(h,c),h.setAttribute(e,""),r.addClass(h,n.spacerClass),k={spacer:h,relSize:{width:"%"===l.width.slice(-1),height:"%"===l.height.slice(-1),autoFullWidth:"auto"===l.width&&a&&r.isMarginCollapseType(u.display)},pushFollowers:n.pushFollowers,inFlow:a},!A.___origStyle){A.___origStyle={};var d=A.style,m=s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);m.forEach(function(t){A.___origStyle[t]=d[t]||""})}return k.relSize.width&&r.css(h,{width:l.width}),k.relSize.height&&r.css(h,{height:l.height}),h.appendChild(A),r.css(A,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(k.relSize.width||k.relSize.autoFullWidth)&&r.css(A,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",R),window.addEventListener("resize",R),window.addEventListener("resize",N),A.addEventListener("mousewheel",I),A.addEventListener("DOMMouseScroll",I),x(3,"added pin"),D(),f},this.removePin=function(t){if(A){if(d===l&&D(!0),t||!s){var n=k.spacer.firstChild;if(n.hasAttribute(e)){var i=k.spacer.style,o=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},o.forEach(function(t){margins[t]=i[t]||""}),r.css(n,margins)}k.spacer.parentNode.insertBefore(n,k.spacer),k.spacer.parentNode.removeChild(k.spacer),A.parentNode.hasAttribute(e)||(r.css(A,A.___origStyle),delete A.___origStyle)}window.removeEventListener("scroll",R),window.removeEventListener("resize",R),window.removeEventListener("resize",N),A.removeEventListener("mousewheel",I),A.removeEventListener("DOMMouseScroll",I),A=void 0,x(3,"removed pin (reset: "+(t?"true":"false")+")")}return f};var B,F=[];return f.on("destroy.internal",function(t){f.removeClassToggle(t.reset)}),this.setClassToggle=function(t,e){var n=r.get.elements(t);return 0!==n.length&&r.type.String(e)?(F.length>0&&f.removeClassToggle(),B=e,F=n,f.on("enter.internal_class leave.internal_class",function(t){var e="enter"===t.type?r.addClass:r.removeClass;F.forEach(function(t,n){e(t,B)})}),f):(x(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===n.length?"element":"classes")+" supplied."),f)},this.removeClassToggle=function(t){return t&&F.forEach(function(t,e){r.removeClass(t,B)}),f.off("start.internal_class end.internal_class"),B=void 0,F=[],f},y(),f};var i={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(t){if(t=parseFloat(t),!r.type.Number(t))throw['Invalid value for option "offset":',t];return t},triggerElement:function(t){if(t=t||void 0){var e=r.get.elements(t)[0];if(!e)throw['Element defined in option "triggerElement" was not found:',t];t=e}return t},triggerHook:function(t){var e={onCenter:.5,onEnter:1,onLeave:0};if(r.type.Number(t))t=Math.max(0,Math.min(parseFloat(t),1));else{if(!(t in e))throw['Invalid value for option "triggerHook": ',t];t=e[t]}return t},reverse:function(t){return!!t},loglevel:function(t){if(t=parseInt(t),!r.type.Number(t)||0>t||t>3)throw['Invalid value for option "loglevel":',t];return t}},shifts:["duration","offset","triggerHook"]};t.Scene.addOption=function(e,n,r,o){e in i.defaults?t._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+e+"', because it already exists."):(i.defaults[e]=n,i.validate[e]=r,o&&i.shifts.push(e))},t.Scene.extend=function(e){var n=this;t.Scene=function(){return n.apply(this,arguments),this.$super=r.extend({},this),e.apply(this,arguments)||this},r.extend(t.Scene,n),t.Scene.prototype=n.prototype,t.Scene.prototype.constructor=t.Scene},t.Event=function(t,e,n,i){i=i||{};for(var r in i)this[r]=i[r];return this.type=t,this.target=this.currentTarget=n,this.namespace=e||"",this.timeStamp=this.timestamp=Date.now(),this};var r=t._util=function(t){var e,n={},i=function(t){return parseFloat(t)||0},r=function(e){return e.currentStyle?e.currentStyle:t.getComputedStyle(e)},o=function(e,n,o,s){if(n=n===document?t:n,n===t)s=!1;else if(!d.DomElement(n))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var a=(o?n["offset"+e]||n["outer"+e]:n["client"+e]||n["inner"+e])||0;if(o&&s){var u=r(n);a+="Height"===e?i(u.marginTop)+i(u.marginBottom):i(u.marginLeft)+i(u.marginRight)}return a},s=function(t){return t.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};n.extend=function(t){for(t=t||{},e=1;e<arguments.length;e++)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},n.isMarginCollapseType=function(t){return["block","flex","list-item","table","-webkit-box"].indexOf(t)>-1};var a=0,u=["ms","moz","webkit","o"],l=t.requestAnimationFrame,h=t.cancelAnimationFrame;for(e=0;!l&&e<u.length;++e)l=t[u[e]+"RequestAnimationFrame"],h=t[u[e]+"CancelAnimationFrame"]||t[u[e]+"CancelRequestAnimationFrame"];l||(l=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-a)),r=t.setTimeout(function(){e(n+i)},i);return a=n+i,r}),h||(h=function(e){t.clearTimeout(e)}),n.rAF=l.bind(t),n.cAF=h.bind(t);var c=["error","warn","log"],f=t.console||{};for(f.log=f.log||function(){},e=0;e<c.length;e++){var p=c[e];f[p]||(f[p]=f.log)}n.log=function(t){(t>c.length||0>=t)&&(t=c.length);var e=new Date,n=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+":"+("00"+e.getMilliseconds()).slice(-3),i=c[t-1],r=Array.prototype.splice.call(arguments,1),o=Function.prototype.bind.call(f[i],f);r.unshift(n),o.apply(f,r)};var d=n.type=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};d.String=function(t){return"string"===d(t)},d.Function=function(t){return"function"===d(t)},d.Array=function(t){return Array.isArray(t)},d.Number=function(t){return!d.Array(t)&&t-parseFloat(t)+1>=0},d.DomElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName};var m=n.get={};return m.elements=function(e){var n=[];if(d.String(e))try{e=document.querySelectorAll(e)}catch(i){return n}if("nodelist"===d(e)||d.Array(e))for(var r=0,o=n.length=e.length;o>r;r++){var s=e[r];n[r]=d.DomElement(s)?s:m.elements(s)}else(d.DomElement(e)||e===document||e===t)&&(n=[e]);return n},m.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:t.pageYOffset||0},m.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:t.pageXOffset||0},m.width=function(t,e,n){return o("width",t,e,n)},m.height=function(t,e,n){return o("height",t,e,n)},m.offset=function(t,e){var n={top:0,left:0};if(t&&t.getBoundingClientRect){var i=t.getBoundingClientRect();n.top=i.top,n.left=i.left,e||(n.top+=m.scrollTop(),n.left+=m.scrollLeft())}return n},n.addClass=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},n.removeClass=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(t,e){if(d.String(e))return r(t)[s(e)];if(d.Array(e)){var n={},i=r(t);return e.forEach(function(t,e){n[t]=i[s(t)]}),n}for(var o in e){var a=e[o];a==parseFloat(a)&&(a+="px"),t.style[s(o)]=a}},n}(window||{});return t.Scene.prototype.addIndicators=function(){return t._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},t.Scene.prototype.removeIndicators=function(){return t._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},t.Scene.prototype.setTween=function(){return t._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},t.Scene.prototype.removeTween=function(){return t._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},t.Scene.prototype.setVelocity=function(){return t._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},t.Scene.prototype.removeVelocity=function(){return t._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},t}),function(t,e){"function"==typeof define&&define.amd?define(["ScrollMagic"],e):e("object"==typeof exports?require("scrollmagic"):t.ScrollMagic||t.jQuery&&t.jQuery.ScrollMagic)}(this,function(t){"use strict";var e="debug.addIndicators",n=window.console||{},i=Function.prototype.bind.call(n.error||n.log||function(){},n);t||i("("+e+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");var r="0.85em",o="9999",s=15,a=t._util,u=0;t.Scene.extend(function(){var t,e=this;e.addIndicators=function(n){if(!t){var i={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};n=a.extend({},i,n),u++,t=new l(e,n),e.on("add.plugin_addIndicators",t.add),e.on("remove.plugin_addIndicators",t.remove),e.on("destroy.plugin_addIndicators",e.removeIndicators),e.controller()&&t.add()}return e},e.removeIndicators=function(){return t&&(t.remove(),this.off("*.plugin_addIndicators"),t=void 0),e}}),t.Controller.addOption("addIndicators",!1),t.Controller.extend(function(){var n=this,i=n.info(),r=i.container,o=i.isDocument,u=i.vertical,l={groups:[]},h=function(){n._log&&(Array.prototype.splice.call(arguments,1,0,"("+e+")","->"),n._log.apply(this,arguments))};n._indicators&&h(2,"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin."),this._indicators=l;var c=function(){l.updateBoundsPositions()},f=function(){l.updateTriggerGroupPositions()};return r.addEventListener("resize",f),o||(window.addEventListener("resize",f),window.addEventListener("scroll",f)),r.addEventListener("resize",c),r.addEventListener("scroll",c),this._indicators.updateBoundsPositions=function(t){for(var e,n,i,o=t?[a.extend({},t.triggerGroup,{members:[t]})]:l.groups,h=o.length,c={},f=u?"left":"top",p=u?"width":"height",d=u?a.get.scrollLeft(r)+a.get.width(r)-s:a.get.scrollTop(r)+a.get.height(r)-s;h--;)for(i=o[h],e=i.members.length,n=a.get[p](i.element.firstChild);e--;)c[f]=d-n,a.css(i.members[e].bounds,c)},this._indicators.updateTriggerGroupPositions=function(t){for(var e,i,h,c,f,p=t?[t]:l.groups,d=p.length,m=o?document.body:r,g=o?{top:0,left:0}:a.get.offset(m,!0),v=u?a.get.width(r)-s:a.get.height(r)-s,_=u?"width":"height",y=u?"Y":"X";d--;)e=p[d],i=e.element,h=e.triggerHook*n.info("size"),c=a.get[_](i.firstChild.firstChild),f=h>c?"translate"+y+"(-100%)":"",a.css(i,{top:g.top+(u?h:v-e.members[0].options.indent),left:g.left+(u?v-e.members[0].options.indent:h)}),a.css(i.firstChild.firstChild,{"-ms-transform":f,"-webkit-transform":f,transform:f})},this._indicators.updateTriggerGroupLabel=function(t){var e="trigger"+(t.members.length>1?"":" "+t.members[0].options.name),n=t.element.firstChild.firstChild,i=n.textContent!==e;i&&(n.textContent=e,u&&l.updateBoundsPositions())},this.addScene=function(e){this._options.addIndicators&&e instanceof t.Scene&&e.controller()===n&&e.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){r.removeEventListener("resize",f),o||(window.removeEventListener("resize",f),window.removeEventListener("scroll",f)),r.removeEventListener("resize",c),r.removeEventListener("scroll",c),this.$super.destroy.apply(this,arguments)},n});var l=function(t,n){var i,r,o=this,s=h.bounds(),l=h.start(n.colorStart),c=h.end(n.colorEnd),f=n.parent&&a.get.elements(n.parent)[0],p=function(){t._log&&(Array.prototype.splice.call(arguments,1,0,"("+e+")","->"),t._log.apply(this,arguments))};n.name=n.name||u,l.firstChild.textContent+=" "+n.name,c.textContent+=" "+n.name,s.appendChild(l),s.appendChild(c),o.options=n,o.bounds=s,o.triggerGroup=void 0,this.add=function(){r=t.controller(),i=r.info("vertical");var e=r.info("isDocument");f||(f=e?document.body:r.info("container")),e||"static"!==a.css(f,"position")||a.css(f,{position:"relative"}),t.on("change.plugin_addIndicators",m),t.on("shift.plugin_addIndicators",d),x(),_(),setTimeout(function(){r._indicators.updateBoundsPositions(o)},0),p(3,"added indicators")},this.remove=function(){if(o.triggerGroup){if(t.off("change.plugin_addIndicators",m),t.off("shift.plugin_addIndicators",d),o.triggerGroup.members.length>1){var e=o.triggerGroup;e.members.splice(e.members.indexOf(o),1),r._indicators.updateTriggerGroupLabel(e),r._indicators.updateTriggerGroupPositions(e),o.triggerGroup=void 0}else b();v(),p(3,"removed indicators")}};var d=function(){_()},m=function(t){"triggerHook"===t.what&&x()},g=function(){var t=r.info("vertical");a.css(l.firstChild,{"border-bottom-width":t?1:0,"border-right-width":t?0:1,bottom:t?-1:n.indent,right:t?n.indent:-1,padding:t?"0 8px":"2px 4px"}),a.css(c,{"border-top-width":t?1:0,"border-left-width":t?0:1,top:t?"100%":"",right:t?n.indent:"",bottom:t?"":n.indent,left:t?"":"100%",padding:t?"0 8px":"2px 4px"}),f.appendChild(s)},v=function(){s.parentNode.removeChild(s)},_=function(){s.parentNode!==f&&g();var e={};e[i?"top":"left"]=t.triggerPosition(),e[i?"height":"width"]=t.duration(),a.css(s,e),a.css(c,{display:t.duration()>0?"":"none"})},y=function(){var e=h.trigger(n.colorTrigger),s={};s[i?"right":"bottom"]=0,s[i?"border-top-width":"border-left-width"]=1,a.css(e.firstChild,s),a.css(e.firstChild.firstChild,{padding:i?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(e);var u={triggerHook:t.triggerHook(),element:e,members:[o]};r._indicators.groups.push(u),o.triggerGroup=u,r._indicators.updateTriggerGroupLabel(u),r._indicators.updateTriggerGroupPositions(u)},b=function(){r._indicators.groups.splice(r._indicators.groups.indexOf(o.triggerGroup),1),o.triggerGroup.element.parentNode.removeChild(o.triggerGroup.element),o.triggerGroup=void 0},x=function(){var e=t.triggerHook(),n=1e-4;if(!(o.triggerGroup&&Math.abs(o.triggerGroup.triggerHook-e)<n)){for(var i,s=r._indicators.groups,a=s.length;a--;)if(i=s[a],Math.abs(i.triggerHook-e)<n)return o.triggerGroup&&(1===o.triggerGroup.members.length?b():(o.triggerGroup.members.splice(o.triggerGroup.members.indexOf(o),1),r._indicators.updateTriggerGroupLabel(o.triggerGroup),r._indicators.updateTriggerGroupPositions(o.triggerGroup))),i.members.push(o),o.triggerGroup=i,void r._indicators.updateTriggerGroupLabel(i);if(o.triggerGroup){if(1===o.triggerGroup.members.length)return o.triggerGroup.triggerHook=e,void r._indicators.updateTriggerGroupPositions(o.triggerGroup);o.triggerGroup.members.splice(o.triggerGroup.members.indexOf(o),1),r._indicators.updateTriggerGroupLabel(o.triggerGroup),r._indicators.updateTriggerGroupPositions(o.triggerGroup),o.triggerGroup=void 0}y()}}},h={start:function(t){var e=document.createElement("div");e.textContent="start",a.css(e,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:t,"border-color":t});var n=document.createElement("div");return a.css(n,{position:"absolute",overflow:"visible",width:0,height:0}),n.appendChild(e),n},end:function(t){var e=document.createElement("div");return e.textContent="end",a.css(e,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:t,"border-color":t}),e},bounds:function(){var t=document.createElement("div");return a.css(t,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":r}),t.style.zIndex=o,t},trigger:function(t){var e=document.createElement("div");e.textContent="trigger",a.css(e,{position:"relative"});var n=document.createElement("div");a.css(n,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:t,"border-color":t}),n.appendChild(e);var i=document.createElement("div");return a.css(i,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":r}),i.style.zIndex=o,i.appendChild(n),i}}});